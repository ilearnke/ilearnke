/*
 FastClick: polyfill to remove click delays on browsers with touch UIs.

 @codingstandard ftlabs-jsv2
 @copyright The Financial Times Limited [All Rights Reserved]
 @license MIT License (see LICENSE.txt)
*/
var MemoryStats=function(){var d=document.createElement("div");d.id="stats";d.style.cssText="width:80px;opacity:0.9;cursor:pointer";var c=document.createElement("div");c.id="ms";c.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;";d.appendChild(c);var a=document.createElement("div");a.id="msText";a.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";a.innerHTML="Memory";c.appendChild(a);var e=document.createElement("div");
e.id="msGraph";e.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0";for(c.appendChild(e);74>e.children.length;)c=document.createElement("span"),c.style.cssText="width:1px;height:30px;float:left;background-color:#131",e.appendChild(c);window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0});0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var k=Date.now(),f=performance.memory.usedJSHeapSize;
return{domElement:d,update:function(){if(!(Date.now()-k<1E3/30)){k=Date.now();var c=performance.memory.usedJSHeapSize-f;f=performance.memory.usedJSHeapSize;var c=0>c?"#830":"#131",d=performance.memory.usedJSHeapSize,m;var q=2;m=["Bytes","KB","MB","GB","TB"];if(0==d)m="n/a";else{var q=Math.pow(10,void 0!==q?q:0),n=Math.floor(Math.log(d)/Math.log(1024));m=Math.round(d*q/Math.pow(1024,n))/q+" "+m[n]}a.textContent="Mem: "+m;d=Math.min(30,30-d/31457280*30);m=e.appendChild(e.firstChild);m.style.height=
d+"px";c&&(m.style.backgroundColor=c)}}}},HM=HM||{};HM.Version="1.0.1";HM=HM||{};HM.extend=function(d,c){var a=d.apply(d,c);a._super=a._super||{};a.override=function(a,c){void 0!==this[a]&&(this._super[a]=this[a]);this[a]=c};return a};HM=HM||{};
(function(d){function c(a){var c=a.currentTarget;!0===a.lengthComputable&&null!==c._onUpdate&&c._onUpdate(a.loaded/a.total)}function a(e){e=e.currentTarget;4==e.readyState&&200==e.status&&(e.removeEventListener(Event.PROGRESS,c,!0),e.removeEventListener(Event.READY_STATE_CHANGE,a,!1),e._onComplete&&e._onComplete(e.responseText))}d.HM.Ajax={load:function(e,k,f){f=f||"GET";k=k||{};var h;h=d.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");h._onComplete=k.onComplete||null;h._onUpdate=
k.onUpdate||null;h.addEventListener(Event.PROGRESS,c,!0);h.addEventListener(Event.READY_STATE_CHANGE,a,!1);k.mimeType&&h.overrideMimeType&&h.overrideMimeType(k.mimeType);k.withCredentials&&(h.withCredentials=!0);h.open(f,e,!0);h.send(null)}}})(window);
var BrowserDetect={init:function(){BrowserDetect.MOBILE=BrowserDetect.checkMobile();BrowserDetect.TABLET=BrowserDetect.checkTablet();BrowserDetect.MOBILE||BrowserDetect.TABLET||(BrowserDetect.DESKTOP=!0);BrowserDetect.MOBILE?BrowserDetect.DEVICE="mobile":BrowserDetect.TABLET?BrowserDetect.DEVICE="tablet":BrowserDetect.DESKTOP&&(BrowserDetect.DEVICE="desktop");BrowserDetect.BROWSER_NAME=this.searchString(this.dataBrowser)||"An unknown browser";BrowserDetect.BROWSER_VERSION=this.searchVersion(navigator.userAgent)||
this.searchVersion(navigator.appVersion)||"an unknown version";BrowserDetect.OS=this.searchString(this.dataOS)||"an unknown OS";window.chrome&&!window.chrome.webstore&&(BrowserDetect.BROWSER_NAME="Opera");"Firefox"==BrowserDetect.BROWSER_NAME?BrowserDetect.FIREFOX=!0:"Chrome"==BrowserDetect.BROWSER_NAME?BrowserDetect.CHROME=!0:"Safari"==BrowserDetect.BROWSER_NAME?BrowserDetect.SAFARI=!0:"Explorer"==BrowserDetect.BROWSER_NAME?BrowserDetect.IE=!0:"Opera"==BrowserDetect.BROWSER_NAME&&(BrowserDetect.OPERA=
!0);BrowserDetect.IE&&8>=BrowserDetect.BROWSER_VERSION&&(BrowserDetect.IE8=!0);BrowserDetect.IE&&9==BrowserDetect.BROWSER_VERSION&&(BrowserDetect.IE9=!0);BrowserDetect.IE&&10==BrowserDetect.BROWSER_VERSION&&(BrowserDetect.IE10=!0);"Mozilla"==BrowserDetect.BROWSER_NAME&&11==BrowserDetect.BROWSER_VERSION&&(BrowserDetect.IE11=!0);BrowserDetect.FIREFOX&&10<=BrowserDetect.BROWSER_VERSION&&(BrowserDetect.TRANSLATE3D_SUPPORT=!0)},searchString:function(d){for(var c=0;c<d.length;c++){var a=d[c].string,e=d[c].prop;
BrowserDetect.BROWSER_VERSIONSearchString=d[c].versionSearch||d[c].identity;if(a){if(-1!=a.indexOf(d[c].subString))return d[c].identity}else if(e)return d[c].identity}},searchVersion:function(d){var c=d.indexOf(BrowserDetect.BROWSER_VERSIONSearchString);if(-1!=c)return parseFloat(d.substring(c+BrowserDetect.BROWSER_VERSIONSearchString.length+1))},getOlderSafariVersion:function(d){if(100>d)return 1;if(125.2>d)return 1.1;if(312.1>d)return 1.2;if(412>d)return 1.3;if(523.1>d)return 2;if(523.12>=d)return 3}};
BrowserDetect.dataBrowser=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,
subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];
BrowserDetect.dataOS=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Windows CE",identity:"Windows CE"},{string:navigator.userAgent,subString:"Palm",identity:"Palm"},{string:navigator.userAgent,
subString:"Blackberry",identity:"Blackberry"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];BrowserDetect.checkMobile=function(){var d=/iphone|ipod|kindle|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec/i.test(navigator.userAgent.toLowerCase());1==d&&(BrowserDetect.TABLET=!1);return!0===d?!0:!1};
BrowserDetect.checkTablet=function(){var d=/ipad|sch-i800|playbook|xoom|tablet|gt-p1000|gt-p7510|sgh-t849|nexus 7|nexus 10|shw-m180s|a100|dell streak|silk/i.test(navigator.userAgent.toLowerCase());if(!0===/android/i.test(navigator.userAgent.toLowerCase())||!0===d){var d=screen.height,c=screen.width;d>c&&(c=screen.height,d=screen.width);736<=d&&1024<=c?d=!0:(BrowserDetect.MOBILE=!0,d=!1)}1==d&&(BrowserDetect.MOBILE=!1);return!0===d?!0:!1};
BrowserDetect.has3d=function(){var d=document.createElement("p"),c,a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(d,null);for(var e in a)void 0!==d.style[e]&&(d.style[e]="translate3d(1px,1px,1px)",c=window.getComputedStyle(d).getPropertyValue(a[e]));document.body.removeChild(d);return void 0!==c&&0<c.length&&"none"!==c};BrowserDetect.BROWSER_NAME=null;
BrowserDetect.BROWSER_VERSION=null;BrowserDetect.OS=null;BrowserDetect.DEVICE="";BrowserDetect.MOBILE=!1;BrowserDetect.TABLET=!1;BrowserDetect.DESKTOP=!1;BrowserDetect.CHROME=!1;BrowserDetect.SAFARI=!1;BrowserDetect.FIREFOX=!1;BrowserDetect.OPERA=!1;BrowserDetect.IE=!1;BrowserDetect.IE8=!1;BrowserDetect.IE9=!1;BrowserDetect.TRANSLATE3D_SUPPORT=BrowserDetect.has3d();BrowserDetect.init();function Event(){}function MouseEvent(){}function KeyboardEvent(){}function TouchEvent(){}
function MutationEvent(){}function MessageEvent(){}function MediaEvent(){}function MouseAndTouchEvent(){}Event.RESIZE="resize";Event.ORIENTATIONCHANGE="orientationchange";Event.LOAD="load";Event.SCROLL="scroll";Event.SELECT="select";Event.SUBMIT="submit";Event.HASHCHANGE="hashchange";Event.BLUR="blur";Event.PROGRESS="progress";Event.CHANGE="change";Event.ABORT="abort";Event.UNLOAD="unload";Event.BEFOREUNLOAD="beforeunload";Event.LOAD="load";Event.PROGRESS="progress";Event.ERROR="error";
Event.CONTEXTMENU="contextmenu";Event.COPY="copy";Event.PASTE="paste";Event.READY_STATE_CHANGE="readystatechange";Event.RESET="reset";MouseEvent.CLICK="click";MouseEvent.MOUSE_DOWN="mousedown";MouseEvent.MOUSE_MOVE="mousemove";MouseEvent.MOUSE_UP="mouseup";MouseEvent.RIGHT_CLICK="rightclick";MouseEvent.MOUSE_OVER="mouseover";MouseEvent.MOUSE_OUT="mouseout";MouseEvent.DOUBLE_CLICK="dblclick";MouseEvent.FOCUS="focus";MouseEvent.MOUSE_ENTER="mouseenter";MouseEvent.MOUSE_LEAVE="mouseleave";
MouseEvent.ROLL_OVER="mouseenter";MouseEvent.ROLL_OUT="mouseleave";MouseEvent.DRAG_END="dragend";MouseEvent.DRAG_ENTER="dragenter";MouseEvent.DRAG_LEAVE="dragleave";MouseEvent.DRAG_OVER="dragover";MouseEvent.DRAG_START="dragstart";MouseEvent.DROP="drop";MouseEvent.MOUSE_WHEEL="mousewheel";"Firefox"==BrowserDetect.BROWSER_NAME&&(MouseEvent.MOUSE_WHEEL="DOMMouseScroll");KeyboardEvent.KEY_DOWN="keydown";KeyboardEvent.KEY_UP="keyup";KeyboardEvent.KEY_PRESS="keypress";TouchEvent.TOUCH_START="touchstart";
TouchEvent.TOUCH_MOVE="touchmove";TouchEvent.TOUCH_END="touchend";TouchEvent.TOUCH_CANCEL="touchcancel";
1==BrowserDetect.TABLET||1==BrowserDetect.MOBILE?(MouseAndTouchEvent.MOUSE_DOWN=TouchEvent.TOUCH_START,MouseAndTouchEvent.MOUSE_MOVE=TouchEvent.TOUCH_MOVE,MouseAndTouchEvent.MOUSE_UP=TouchEvent.TOUCH_END,MouseAndTouchEvent.RESIZE=Event.ORIENTATIONCHANGE):(MouseAndTouchEvent.MOUSE_DOWN=MouseEvent.MOUSE_DOWN,MouseAndTouchEvent.MOUSE_MOVE=MouseEvent.MOUSE_MOVE,MouseAndTouchEvent.MOUSE_UP=MouseEvent.MOUSE_UP,MouseAndTouchEvent.RESIZE=Event.RESIZE);MessageEvent.MESSAGE="message";MediaEvent.ABORT="abort";
MediaEvent.CANPLAY="canplay";MediaEvent.CAN_PLAY_THROUGH="canplaythrough";MediaEvent.DURATION_CHANGE="durationchange";MediaEvent.EMPTIED="emptied";MediaEvent.ENDED="ended";MediaEvent.ERROR="error";MediaEvent.LOADED_DATA="loadeddata";MediaEvent.LOADED_METADATA="loadedmetadata";MediaEvent.LOAD_START="loadstart";MediaEvent.PAUSE="pause";MediaEvent.PLAY="play";MediaEvent.PLAYING="playing";MediaEvent.PROGRESS="progress";MediaEvent.RATE_CHANGE="ratechange";MediaEvent.SEEKED="seeked";
MediaEvent.SEEKING="seeking";MediaEvent.SUSPEND="suspend";MediaEvent.TIME_UPDATE="timeupdate";MediaEvent.VOLUME_CHANGE="volumechange";MediaEvent.WAITING="waiting";
function Trace(d,c){if(Trace.isEnabled){var a=d;if(null!=c){var e="";try{e="Function"==typeof c?c.name.toString()+"();":c.toString()}catch(k){try{e=c.toString()}catch(f){e="null"}}a=e+" => "+a}Trace.displayOnScreen?(Trace._onScreenDiv||(Trace._onScreenDiv=document.createElement("div"),Trace._onScreenDiv.style.position="absolute",Trace._onScreenDiv.style.width="200px",Trace._onScreenDiv.style.height="300px",Trace._onScreenDiv.style.overflowY="scroll",Trace._onScreenDiv.style.color="#00ff00",Trace._onScreenDiv.style.padding=
"10px",Trace._onScreenDiv.style.zIndex=2E7,Trace._onScreenDiv.style.left="20px",Trace._onScreenDiv.style.top="20px",Trace._onScreenDiv.style.fontFamily="Courier New",Trace._onScreenDiv.style.fontSize="10px",Trace._onScreenDiv.style.backgroundColor="#000000",Trace._fieldLines=[]),Trace._fieldLines.push(a),Trace._fieldLines.length>Trace.onScreenMaxLines&&Trace._fieldLines.shift(),Trace._onScreenDiv.innerHTML=Trace._fieldLines.join("<br />"),document.body.appendChild(Trace._onScreenDiv)):!0===trace._consoleAvailable&&
console.log(a)}Trace._traceArray.push(a)}Trace.checkConsole=function(){var d=!1;"undefined"!==typeof console&&(d=!0);return d};var trace=Trace;Trace.isEnabled=!0;Trace.displayOnScreen=!1;Trace.onScreenMaxLines=50;Trace._onScreenDiv=null;Trace._fieldLines=null;Trace._traceArray=[];Trace._consoleAvailable=Trace.checkConsole();
var GoogleAnalytics={trackPage:function(d){null!==d?ga("send","pageview",d):ga("send","pageview")},trackEvent:function(d,c,a,e,k){null===k&&(k="0");ga("send","event",d,c,label,e,{nonInteraction:k})},trackSocialEvent:function(d,c,a){ga("send","social",d,c,a)}},HM=HM||{};
(function(d){var c=document.createElement("a"),a,e,k,f,h=[],l=0,m=!1;c.IOS_READY="HM.Audio.IOS_READY";c.init=function(h){if(!m){try{if(!0===h)throw Error("forcing HTML5 audio");d.AudioContext=d.AudioContext||d.webkitAudioContext;c.fallback=!1;f=new AudioContext;f.createGain=f.createGain||f.createGainNode;k=f.createGain();k.connect(f.destination);e=f.createGain();e.connect(k);a=f.createGain();a.connect(k)}catch(l){f={createMediaElementSource:function(a){return a}},c.fallback=!0}m=!0}};c.createAudioObject=
function(h,k,d,l,m){var p={},w=d;k&&!0!==d&&(p.loop=!0,p.loopStart=l,p.loopEnd=m,w=!1);c.fallback?(k=HM.AssetLoader.get(h),k.setAttribute("loop",!0),d={},d.path=h,d.params=p,d.buffer=k,d.getVolume=function(){return this.buffer.volume},d.setVolume=function(a){this.buffer.volume=a},Object.defineProperty(d,"volume",{get:d.getVolume,set:d.setVolume})):(k=HM.AssetLoader.get(h),d=f.createBufferSource(),d=new HM.AudioObject(h,d,k,f,a,e,p),d.volume=1);d.multiShot=w||!1;return d};c.play=function(e,h,k,d){k=
void 0!==k?k:0;var l=!1;if(c.fallback){var p=e.buffer;p||(p=HM.AssetLoader.get(e),p.pause(),p.currentTime=0);p.volume=h||1;p.play()}else{var m;if(l="AudioObject"==(-1<Object.prototype.toString.call(e).indexOf("String")?"Path":"AudioObject")?!0:!1){if(e.paused){c.resume(e);return}if(!e.multiShot){if(e.paused){c.resume(e);return}if(e.playing)return}m=f.createBufferSource();m.buffer=e.buffer;e.setSource(m);e.playing=!0;e.volume=void 0!==h?h:e.volume;h=e.params;e.startTime=f.currentTime;e.startedAt=k;
h.loop&&(m.loop=!0,m.loopStart=h.loopStart||0,h.loopEnd&&(m.loopEnd=h.loopEnd||0))}else m=f.createBufferSource(),p=HM.AssetLoader.get(e),m.buffer=p,p=f.createGain(),m.connect(p),p.gain.value=h||1,p.connect(a);m.start||(m.start=m.noteOn);m.start(0,k);l?e.pitch=d||e.pitch:m.playbackRate.value=d||1}};c.stop=function(a){a.playing=!1;a.paused=!1;if(c.fallback)a.stop();else{var f=a.source;a.startOffset=0;f.stop||(f.stop=f.noteOff);f.stop(0)}};c.pause=function(a){if(c.fallback)a.buffer.pause();else{var e;
a.startOffset+=f.currentTime-a.startTime;a.pausedAt=a.currentTime;e=a.source;e.stop||(e.stop=e.noteOff);e.stop(0)}a.playing=!1;a.paused=!0};c.resume=function(a){if(c.fallback)a.resume();else if(a.paused){var f=a.startOffset%a.buffer.duration;a.paused=!1;c.play(a,void 0,f)}};c.addEffect=function(a){var c=l;h.push({effect:a,id:c});l++;return c};c.removeEffect=function(a){var c=0,f=h.length;for(c;c<f;c++)if(h[c].id==a){h.splice(c,1);break}};c.unlockIOSSound=function(a){a=f.createBuffer(1,1,22050);var e=
f.createBufferSource();e.buffer=a;e.connect(f.destination);e.start||(e.start=e.noteOn);e.start(0);var h=setInterval(function(){if(e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE){clearInterval(h);var a=new CustomEvent(c.IOS_READY);c.dispatchEvent(a)}},100)};c.noteToFreq=function(a){return 440*Math.pow(2,(a-49)/12)};Object.defineProperty(c,"initialized",{get:function(){return m}});Object.defineProperty(c,"mainBus",{get:function(){return f}});Object.defineProperty(c,"masterVolume",
{get:function(){return c.fallback?_smMasterVolume:k.gain.value},set:function(a){1<a?a=1:0>a&&(a=0);c.fallback?(_smMasterVolume=a,updateSMMasterVolume()):k.gain.value=a}});Object.defineProperty(c,"dryVolume",{get:function(){return a.gain.value},set:function(c){1<c?c=1:0>c&&(c=0);a.gain.value=c}});Object.defineProperty(c,"wetVolume",{get:function(){return e.gain.value},set:function(a){1<a?a=1:0>a&&(a=0);e.gain.value=a}});d.HM.Audio=c})(window);HM=HM||{};
HM.AudioObject=function(d,c,a,e,k,f,h){function l(){return n.gain.value}var m={},q,n,t=1;m.addEffect=function(a){"dry"==a.outputType?q.addInsert(a):q.addSend(a)};m.removeEffect=function(a){"dry"==a.outputType?q.removeInsert(a):q.removeSend(a)};m.setSource=function(a){m.source=a;a.connect(n);q.update()};Object.defineProperty(m,"currentTime",{get:function(){if(!m.source.buffer)return 0;var a;a=m.paused?m.pausedAt:e.currentTime-m.startTime+m.startedAt;a>=m.source.buffer.duration&&(a=m.source.buffer.duration);
return a},set:function(a){HM.Audio.stop(m);HM.Audio.play(m,l(),a)}});Object.defineProperty(m,"pitch",{get:function(){return t},set:function(a){t=a;m.source.playbackRate.value=a}});Object.defineProperty(m,"duration",{get:function(){return m.source.buffer?m.source.buffer.duration:0}});Object.defineProperty(m,"volume",{get:l,set:function(a){n.gain.value=a}});m.playing=!1;m.paused=!1;n=e.createGain();q=new HM.AudioSignalChain(n,k,f);m.path=d;m.source=c;m.buffer=a;m.params=h;m.startTime=0;m.startOffset=
0;m.pausePosition=0;m.setSource(c);return m};HM=HM||{};
HM.AudioSignalChain=function(d,c,a){var e={addInsert:function(a){e.dryEffects.push(a);e.update()},addSend:function(a){e.wetEffects.push(a);e.update()},removeInsert:function(a){var c=0,h=e.dryEffects.length;for(c;c<h;c++)if(e.dryEffects[c].id==a.id){e.dryEffects.splice(c,1);break}e.update()},removeSend:function(a){var c=0,h=e.wetEffects.length;for(c;c<h;c++)if(e.wetEffects[c].id==a.id){e.wetEffects.splice(c,1);break}e.update()},update:function(){d.disconnect();var k=1,f=e.dryEffects.length;if(0<f){d.connect(e.dryEffects[0].input);
for(k;k<f;k++)e.dryEffects[k-1].output.connect(e.dryEffects[k].input);e.dryEffects[k-1].output.connect(c)}else d.connect(c);k=1;f=e.wetEffects.length;if(0<f){d.connect(e.wetEffects[0].input);for(k;k<f;k++)e.wetEffects[k-1].output.connect(e.wetEffects[k].input);e.wetEffects[k-1].output.connect(a)}},dryEffects:[],wetEffects:[]};return e};HM=HM||{};
(function(){function d(){q=!1;c()}function c(){0<m.length?q||(q=!0,m[0].load(),m.shift()):t&&t()}var a={IMAGE:"IMAGE",AUDIO:"AUDIO",DATA_URI:"DATA_URI",JSON:"JSON",UNKNOWN:"UNKNOWN",ASSET_GROUP:"ASSET_GROUP",DATA_URI_GROUP:"DATA_URI_GROUP",IMAGE_LOADER:"IMAGE_LOADER",AUDIO_LOADER:"AUDIO_LOADER",AUDIO_BUFFER_LOADER:"AUDIO_BUFFER_LOADER",DATA_URI_LOADER:"DATA_URI_LOADER",JSON_LOADER:"JSON_LOADER",imageLoader:null,audioLoader:null,dataURILoader:null,jsonLoader:null,assetVersion:"",defaultPath:""},e=
{jpg:"jpg",png:"png",gif:"gif"},k={mp3:"mp3",wav:"wav",ogg:"ogg"},f={txt:"txt",uri:"uri"},h={json:"json"},l=[],m=[],q=!1,n=!1,t,u,v;a.init=function(c,f){n||(a.defaultPath=c||"",a.assetVersion=f||"",n=!0)};a.load=function(a,f){if(!n)throw Error("You need to initialize Assetloader before loading a group");t=f.onComplete?f.onComplete:null;1===a.length&&(a[0].weight=100);var e=new HM.AssetLoadCollection(a,f,d);m.push(e);q||c()};a.loadSingle=function(c,f){if(a.assetExist(c)){if(f.onUpdate)f.onUpdate(1);
if(f.onComplete)f.onComplete()}else{f=f||{};var e=f.customPath||a.defaultPath;v=c;u=f.onComplete;var h=new Image;h.addEventListener(Event.LOAD,u);h.src=e+c;e=a.getLoader(v);e.assets.push({asset:h,id:v});l.push({id:v,loader:e})}};a.encode64=function(a){for(var c="",f=0;f<a.length;){var e=a.charCodeAt(f++)&255,h=a.charCodeAt(f++)&255,k=a.charCodeAt(f++)&255,d=e>>2,e=(e&3)<<4|h>>4;isNaN(h)?h=k=64:(h=(h&15)<<2|k>>6,k=isNaN(k)?64:k&63);c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)}return c};a.installLoader=function(c){switch(c){case a.IMAGE:a.imageLoader=new HM.ImageLoader(l);break;case a.AUDIO:if(HM.Audio)if(!0===HM.Audio.initialized)a.audioLoader=!0===HM.Audio.fallback?new HM.AudioLoader(l):new HM.AudioBufferLoader(l);else throw Error("AssetLoader.installLoader AUDIO -> HM.Audio not initialized");
else a.audioLoader=new HM.AudioLoader(l);break;case a.DATA_URI:a.dataURILoader=new HM.DataURILoader(l);break;case a.JSON:a.jsonLoader=new HM.JSONLoader(l)}};a.get=function(a){if(!n)throw Error("You need to initialize Assetloader before attempting to retrive an asset - id: "+a);var c=0,f=l.length;for(c;c<f;c++)if(a===l[c].id)return l[c].loader.getAsset(a);throw Error("AssetLoader -> asset with id: "+a+", not found");};a.destroy=function(a){if(!n)throw Error("You need to initialize Assetloader before attempting to retrive an asset - id: "+
a);var c=0,f=l.length;for(c;c<f;c++)if(a===l[c].id){l[c]=null;l.splice(c,1);break}};a.assetExist=function(a){var c=0,f=l.length;for(c;c<f;c++)if(a===l[c].id)return!0;return!1};a.getFileExtension=function(a){a=a.split(".");a=a[a.length-1];return void 0!==e[a]?HM.AssetLoader.IMAGE:void 0!==k[a]?HM.AssetLoader.AUDIO:void 0!==f[a]?HM.AssetLoader.DATA_URI:void 0!==h[a]?HM.AssetLoader.JSON:HM.AssetLoader.UNKNOWN};a.getLoader=function(c){c=a.getFileExtension(c);switch(c){case a.IMAGE:return a.imageLoader||
a.installLoader(c),a.imageLoader;case a.JSON:return a.jsonLoader||a.installLoader(c),a.jsonLoader;case a.DATA_URI:return a.dataURILoader||a.installLoader(c),a.dataURILoader;case a.AUDIO:return a.audioLoader||a.installLoader(c),a.audioLoader;default:throw Error("AssetLoader -> "+c+" is not a valid filetype >> HM.AssetLoader.getLoader");}};HM.AssetLoader=a})();HM=HM||{};
HM.AssetGroup=function(d,c){var a={},e=c||{};a.TYPE=HM.AssetLoader.ASSET_GROUP;a.data=d;a.weight=e.weight||0;a.onComplete=e.onComplete||null;a.customPath=e.customPath||null;a.onUpdate=e.onUpdate||null;return a};HM=HM||{};
HM.AssetLoadCollection=function(d,c,a){function e(){if(!u){u=!0;q=m[0].data.length;n=0;if(void 0===m[0].weight||null===m[0].weight)m[0].weight=100/l.length;k()}}function k(){var a=m[0].data[n],c=HM.AssetLoader.getLoader(a);if(m[0].onUpdate)m[0].onUpdate(n/q);c.path=m[0].customPath||HM.AssetLoader.defaultPath;c.load(a,f,m[0])}function f(){n++;t=Math.ceil(n/q*m[0].weight)/100;if(m[0].onUpdate)m[0].onUpdate(n/q);if(c.onUpdate)c.onUpdate(t+v);if(n==q){v+=t;if(m[0].onComplete)m[0].onComplete();m.shift();
0<m.length?(u=!1,setTimeout(e,100)):(m=l=null,a())}else k()}var h={},l=d,m=d,q,n,t=0,u=!1,v=0;h.load=function(){e()};return h};HM=HM||{};
HM.AbstractLoader=function(d){var c={assets:[],asset:null,url:null,id:null,completeCallback:null,path:null,load:function(a,e){if(HM.AssetLoader.assetExist(a))return e(),!0;c.id=a;c.url=c.path+a+(""!==HM.AssetLoader.assetVersion?"?v=":"")+HM.AssetLoader.assetVersion;c.completeCallback=e;"Opera"!==BrowserDetect.BROWSER_NAME&&"Firefox"!==BrowserDetect.BROWSER_NAME||-1===c.url.indexOf(".mp3")||(c.url=c.url.replace(".mp3",".ogg"));return!1},onLoad:function(a){c.assets.push({asset:c.asset,id:c.id});d.push({id:c.id,
loader:c});c.completeCallback()},getAsset:function(a){var e=0,k=c.assets.length;for(e;e<k;e++)if(a===c.assets[e].id)return c.assets[e].asset;throw Error("AbstractLoader -> asset with id: "+a+", not found");},onError:function(a){throw Error("Error Loading file >> "+c.url);}};return c};HM=HM||{};
HM.ImageLoader=function(d){function c(a){var c=asset.width,h=asset.height;-1<id.indexOf("@2")&&(c/=2,h/=2);asset.width=c;asset.height=h;asset._orgW=c;asset._orgH=h;asset._ratio=h/c;e.asset.removeEventListener("load",e.onLoad,!0);e.asset.removeEventListener("error",e.onError,!0);e.onLoad(a)}function a(a){e.asset.removeEventListener("load",e.onLoad,!0);e.asset.removeEventListener("error",e.onError,!0);e.onError(a)}var e=HM.extend(HM.AbstractLoader,[d]);e.type=HM.AssetLoader.IMAGE_LOADER;e.override("load",
function(k,f){e._super.load(k,f)||(e.asset=new Image,e.asset.addEventListener("load",c,!0),e.asset.addEventListener("error",a,!0),e.asset.style.position="absolute",e.asset.src=e.url)});e.override("getAsset",function(a){a=e._super.getAsset(a).cloneNode(!0);a.style.position="absolute";return a});return e};HM=HM||{};
HM.AudioLoader=function(d){function c(k){e.asset.removeEventListener("canplaythrough",c,!1);e.asset.removeEventListener("error",a,!1);e.onLoad(k)}function a(k){e.asset.removeEventListener("canplaythrough",c,!1);e.asset.removeEventListener("error",a,!1);e.onError(k)}var e=HM.extend(HM.AbstractLoader,[d]);e.type=HM.AssetLoader.AUDIO_LOADER;e.override("load",function(k,f){e._super.load(k,f)||(e.asset=new Audio,e.asset.addEventListener("canplaythrough",c,!1),e.asset.addEventListener("error",a,!1),e.asset.src=
e.url)});return e};HM=HM||{};
HM.AudioBufferLoader=function(d){function c(a){a.currentTarget.onerror=null;a.currentTarget.onload=null;a.currentTarget=null;HM.Audio.mainBus.decodeAudioData(a.target.response,e,k)}function a(a){f.onError(null)}function e(a){a||trace("bufferDecodeSucess - error decoding file data","AudioBufferLoader");f.asset=a;f.onLoad(null)}function k(){trace("bufferDecodeError","AudioBufferLoader");if("Opera"===BrowserDetect.BROWSER_NAME)throw Error("AudioBufferLoader bufferDecodeError - mp3 format is not supported by Opera. Please provide another format (ogg etc.)");f.onError(null)}
var f=HM.extend(HM.AbstractLoader,[d]);f.type=HM.AssetLoader.AUDIO_BUFFER_LOADER;f.override("load",function(e,k){if(!f._super.load(e,k)){var d=new XMLHttpRequest;d.open("GET",f.url,!0);d.responseType="arraybuffer";d.onerror=a;d.onload=c;d.send()}});return f};var ContentManager={AUTOMATICALLY_TRACK_GOOGLE_ANALYTICS:!0,SHOW_TRACES:!1,USE_HISTORY_API:!1};ContentManager.DEFAULT_URL=document.location.protocol+"://"+window.location.host;ContentManager.DEFAULT_SUBFOLDER="";
ContentManager._activeTemplates=[];ContentManager._templateRegister=[];ContentManager._templateGroups=[];ContentManager._newPath="";ContentManager._blocked=!1;ContentManager._defaultPath="home";ContentManager._xml=null;ContentManager._prevTemplateObj=null;ContentManager._passedVariables=null;
ContentManager.init=function(d,c){ContentManager.trace("init();");"Explorer"==BrowserDetect.BROWSER_NAME&&9>=BrowserDetect.BROWSER_VERSION&&(ContentManager.USE_HISTORY_API=!1);ContentManager._xml=d;c&&(ContentManager._defaultPath=c,ContentManager.trace(ContentManager._defaultPath,"_defaultPath"));1==ContentManager.USE_HISTORY_API?window.addEventListener("popstate",ContentManager.onHashChange):window.addEventListener("hashchange",ContentManager.onHashChange);"Explorer"==BrowserDetect.BROWSER_NAME&&
7>=BrowserDetect.BROWSER_VERSION&&ContentManager.autoCheck();ContentManager.onHashChange()};ContentManager.sortArray=function(d,c){var a=d.slice();if(!c.length)return a.sort();var e=Array.prototype.slice.call(c);return a.sort(function(a,c){for(var h=e.slice(),d=h.shift();a[d]==c[d]&&h.length;)d=h.shift();return a[d]==c[d]?0:a[d]>c[d]?1:-1})};
ContentManager.path=function(d){"object"==typeof d&&(d=ContentManager.composeFullPathFromXML(d));ContentManager.trace("path();");ContentManager.trace(d,"newPath");1==ContentManager.USE_HISTORY_API?(d="/"+ContentManager.DEFAULT_SUBFOLDER+d,history.pushState(d,d,d),ContentManager.onHashChange()):window.location.hash="/"+d};ContentManager.nextTemplate=function(d){ContentManager.trace("nextTemplate();");ContentManager._passedVariables=d;ContentManager._blocked=!1;ContentManager.onHashChange()};
ContentManager.addTemplate=function(d,c){ContentManager._templateRegister.push({templateName:d,JSClass:c})};ContentManager.addTransitionGroup=function(d,c){ContentManager._templateGroups.push({name:d,group:c})};ContentManager.getTransitionGroup=function(d,c){for(var a=null,e=ContentManager._templateGroups.length,k=null,f=null,h=null,a=0;a<e;a+=1)if(k=ContentManager._templateGroups[a],f=k.group,-1!=f.indexOf(d)&&-1!=f.indexOf(c)){h=k.name;break}return h};
ContentManager.composeFullPathFromXML=function(d){var c=d.getAttribute("data-path"),a=[];c&&a.unshift(c);d=d.parentNode;for(var e=0;c&&!((c=d.getAttribute("data-path"))&&a.unshift(c),d=d.parentNode,e+=1,10<e););return a.join("/")};ContentManager.getTransitionIndex=function(d){};
ContentManager.isContentSupported=function(d){d=ContentManager.findContent(ContentManager.extractPath(d).split("/"));var c=!1;d&&(templateName=d.getAttribute("data-template"))&&ContentManager.findTemplateFromName(templateName)&&(c=!0);return c};
ContentManager.updateMetaTags=function(){var d=ContentManager._newPath.split("/");""==d[0]&&(d[0]="home");if(selectedPageData=Assets.DATA_URL.pages[d[0]]){if(selectedPageData.subpages&&1<d.length)for(var c=1;c<d.length;c++)""!=d[c]&&(selectedPageData=selectedPageData.subpages[d[c]]);selectedPageData||(selectedPageData=Assets.DATA_URL.defaults);document.head.querySelector("title").innerHTML=selectedPageData.meta.title;document.head.querySelector('[name="description"]').setAttribute("content",selectedPageData.meta.description);
document.head.querySelector('[property="og:title"]').setAttribute("content",selectedPageData.meta.title);document.head.querySelector('[property="og:description"]').setAttribute("content",selectedPageData.meta.description);document.head.querySelector('[property="og:image"]').setAttribute("content",selectedPageData.meta.image);document.head.querySelector('[property="og:url"]').setAttribute("content",Assets.DATA_URL.defaults.baseUrl+selectedPageData.url)}};
ContentManager.onHashChange=function(){ContentManager.trace("-----------------------------");if(0==ContentManager._blocked){var d="";null!=history&&(d=window.location.href,d=d.substring(ContentManager.DEFAULT_URL.length+ContentManager.DEFAULT_SUBFOLDER.length,d.length));0==ContentManager.USE_HISTORY_API&&(d=window.location.hash);ContentManager._newPath=ContentManager.extractPath(d);var d=ContentManager._newPath.split("/"),c,a=[],e,k,f;ContentManager.updateMetaTags();""==d[0]&&(d[0]=ContentManager._defaultPath);
for(ContentManager.trace(d,"pathArr");0<d.length;){if(c=ContentManager.findContent(d))if(e=c.getAttribute("data-template"))k=ContentManager.findTemplateLevelFromName(e),!1===k&&(k=d.length-1),f=c.getAttribute("data-path"),ContentManager.trace("new candidate"),ContentManager.trace(f,"templatePath"),ContentManager.trace(e,"templateName"),ContentManager.trace(k,"templateLevel"),a.push({xml:c,path:f,templateName:e,level:k});d.pop()}a=ContentManager.sortArray(a,["level"]);c=0;e=a.length;var h;k="none";
d=ContentManager._activeTemplates;ContentManager.trace(a.length,"candidates.length");for(c=0;c<e;c+=1){h=a[c];f=h.level;if(null==d[f])k="push";else if(d[f].path!=h.path||-1==d[f].fullPath.indexOf(ContentManager.composeFullPathFromXML(h.xml)))k="pop";if("none"!=k)break}"none"==k&&a.length<d.length&&h&&(k="pop");ContentManager.trace(k,"type");"none"!=k&&(ContentManager._blocked=!0,"pop"==k?(d=d.pop(),a=d.templateData,ContentManager._passedVariables&&(a.setPassedVariables(ContentManager._passedVariables),
ContentManager._passedVariables=null),c=new TemplateData,c.setTemplateName(h.templateName),c.setLevel(h.level),c.setTemplatePath(h.path),a.setNextTemplateData(c),ContentManager._prevTemplateObj=d,d.template.templateOut()):"push"==k&&(ContentManager.trace("push candidate"),ContentManager.trace(h.path,"candidate.path"),ContentManager.trace(h.templateName,"candidate.templateName"),ContentManager.trace(h.level,"candidate.level"),(e=ContentManager.findTemplateFromName(h.templateName))?(a=new TemplateData,
a.setXML(h.xml),a.setLevel(h.level),a.setTemplatePath(h.path),a.setTemplateName(h.templateName),c=ContentManager.composeFullPathFromXML(h.xml),a.setTemplateFullPath(c),ContentManager._prevTemplateObj&&(a.setPrevTemplateData(ContentManager._prevTemplateObj.templateData),ContentManager._prevTemplateObj=null),ContentManager._passedVariables&&(a.setPassedVariables(ContentManager._passedVariables),ContentManager._passedVariables=null),e=new e(a),1==ContentManager.AUTOMATICALLY_TRACK_GOOGLE_ANALYTICS&&
(k=ContentManager.composeFullPathFromXML(h.xml),_gaq.push(["_trackPageview",k])),h={template:e,path:h.path,templateName:h.templateName,fullPath:c,xml:h.xml,templateData:a},ContentManager._prevTemplateObj=h,d.push(h),e.templateIn()):(ContentManager._blocked=!1,trace("ContentManger.js unable to find template"))))}};
ContentManager.findContent=function(d){for(var c=ContentManager.cloneArray(d),a=c[0],e=ContentManager._xml,k="",f,h,l,m=!1,q,n=0,t=0;a;){q=e.children;l=q.length;for(h=0;h<l;h+=1)if(f=q[h],k=f.getAttribute("data-path"),k==a){c.shift();a=c[0];e=f;m=!0;t+=1;break}if(!m||!a||10<n)a=null;n+=1}t!=d.length&&(e=null);return e};ContentManager.extractPath=function(d){d=d.split("#");d=d[d.length-1].split("/");var c=[],a=d.length,e,k;for(e=0;e<a;e+=1)k=d[e],null!==k&&""!==k&&c.push(k);return c.join("/")};
ContentManager.findTemplateFromName=function(d){var c,a=ContentManager._templateRegister,e=a.length,k,f;for(c=0;c<e;c+=1)if(k=a[c],k.templateName==d){f=k.JSClass;break}return f};ContentManager.findTemplateLevelFromName=function(d){var c=!1;(d=d.match(/\d+/))&&(c=d);return c};ContentManager.autoCheck=function(){function d(){var a=window.location.hash;a!=c&&(c=a,ContentManager.onHashChange());setTimeout(d,200)}ContentManager.trace("autoCheck();");var c=window.location.hash;setTimeout(d,200)};
ContentManager.cloneArray=function(d){var c,a=d.length,e=[];for(c=0;c<a;c+=1)e.push(d[c]);return e};ContentManager.trace=function(d,c){ContentManager.SHOW_TRACES&&(c||(c=""),trace(d,"ContentManager.js "+c))};
function TemplateData(){var d={},c,a,e,k,f,h,l,m;d.getXML=function(){return c};d.getLevel=function(){return a};d.getPassedVariablesByName=function(a){var c="undefined";e&&(a=e[a])&&(c=a);return c};d.getNextTemplateData=function(){return l};d.getPrevTemplateData=function(){return m};d.getTemplateName=function(){return k};d.getTemplatePath=function(){return f};d.getTemplateFullPath=function(){return h};d.getChildIndex=function(){var a=c;if(!a)return-1;var f=a.parentNode;if(!f)return-1;for(var f=f.children,
e=f.length,h=0;h<e;h++)if(f[h]===a)return h};d.setXML=function(a){c=a};d.setLevel=function(c){a=c};d.setPassedVariables=function(a){e=a};d.setNextTemplateData=function(a){l=a};d.setPrevTemplateData=function(a){m=a};d.setTemplateName=function(a){k=a};d.setTemplatePath=function(a){f=a};d.setTemplateFullPath=function(a){h=a};return d}
var SmartObjectRenderer={turnedOn:!1,objectsToMove:null,renderOnTweenMaxTicker:function(){SmartObjectRenderer.objectsToMove=[];TweenMax.ticker.addEventListener("tick",SmartObjectRenderer.render,!0);SmartObjectRenderer.turnedOn=!0},render:function(){for(var d=SmartObjectRenderer.objectsToMove.length,c=0;c<d;c++){var a=SmartObjectRenderer.objectsToMove[c];SmartObject.update(a);a.___firstRun=!1;a.___isSetToMove=!1}SmartObjectRenderer.objectsToMove=[]}};
function SmartObject(d){var c=SmartObject.defaults;null==d?(d=document.createElement("div"),d.style.position="absolute"):(d.style.position="absolute",d.style.left&&(c._x=parseInt(d.style.left)),d.style.top&&(c._y=parseInt(d.style.top)),d.style.opacity&&(c._opacity=d.style.opacity),d.style[SmartObject.prefix+"Perspective"]&&(c._perspective=d.style[SmartObject.prefix+"Perspective"]),d.style[SmartObject.prefix+"TransformStyle"]&&(c._transformStyle=d.style[SmartObject.prefix+"TransformStyle"]),d.style[SmartObject.prefix+
"BackfaceVisibility"]&&(c._backfaceVisibility=d.style[SmartObject.prefix+"BackfaceVisibility"]));d.style.left=null;d.style.top=null;d.className="smart-object";return SmartObject.convert(d,c)}SmartObject.defaults={_x:0,_y:0,_z:0,_rotation:0,_rotationX:0,_rotationY:0,_rotationZ:0,_scaleX:1,_scaleY:1,_opacity:1,_skewX:0,_skewY:0,_perspective:null,_transformStyle:"flat",_backfaceVisibility:"hidden",_transformOriginX:50,_transformOriginY:50,_transformOriginZ:50};
SmartObject.convert=function(d,c){d.___isSmartObject=!0;d.___firstRun=!0;d.___hasHadAdvancedStyle=!1;d.___currTranslate=null;d.___isSetToMove=!1;d.___useRounded=!1;d.___use3D=!0;d.___doNotUseTranslate=!1;d._getWidth=SmartObject.getWidth;d._getHeight=SmartObject.getHeight;d._dispatchCustomEvent=SmartObject.dispatchCustomEvent;"Explorer"==BrowserDetect.BROWSER_NAME&&7>=BrowserDetect.BROWSER_VERSION&&(d.___compensateX=0,d.___compensateY=0,d._setter=[],d.attachEvent("onpropertychange",update));"Explorer"==
BrowserDetect.BROWSER_NAME&&8>=BrowserDetect.BROWSER_VERSION?(d.___compensateX=0,d.___compensateY=0,SmartObject.setProperty(d,"_x",c._x,SmartObject.updateIE8),SmartObject.setProperty(d,"_y",c._y,SmartObject.updateIE8),SmartObject.setProperty(d,"_rotation",c._rotation,SmartObject.updateIE8),SmartObject.setProperty(d,"_scaleX",c._scaleX,SmartObject.updateIE8),SmartObject.setProperty(d,"_scaleY",c._scaleY,SmartObject.updateIE8),SmartObject.setProperty(d,"_opacity",c._opacity,SmartObject.updateIE8),SmartObject.setProperty(d,
"_transformOriginX",c._transformOriginX,SmartObject.updateIE8),SmartObject.setProperty(d,"_transformOriginY",c._transformOriginY,SmartObject.updateIE8)):(SmartObject.setProperty(d,"_x",c._x,SmartObject.setToUpdate),SmartObject.setProperty(d,"_y",c._y,SmartObject.setToUpdate),SmartObject.setProperty(d,"_z",c._z,SmartObject.setToUpdate),SmartObject.setProperty(d,"_rotationX",c._rotationX,SmartObject.setToUpdate),SmartObject.setProperty(d,"_rotationY",c._rotationY,SmartObject.setToUpdate),SmartObject.setProperty(d,
"_rotationZ",c._rotationZ,SmartObject.setToUpdate),SmartObject.setProperty(d,"_rotation",c._rotation,SmartObject.setToUpdate),SmartObject.setProperty(d,"_scaleX",c._scaleX,SmartObject.setToUpdate),SmartObject.setProperty(d,"_scaleY",c._scaleY,SmartObject.setToUpdate),SmartObject.setProperty(d,"_scale",1,SmartObject.setScale),SmartObject.setProperty(d,"_skewX",c._skewX,SmartObject.setToUpdate),SmartObject.setProperty(d,"_skewY",c._skewY,SmartObject.setToUpdate),SmartObject.setProperty(d,"_opacity",
c._opacity,SmartObject.setOpacity),SmartObject.setProperty(d,"_transformOriginX",c._transformOriginX,SmartObject.setTransformOrigin),SmartObject.setProperty(d,"_transformOriginY",c._transformOriginY,SmartObject.setTransformOrigin),SmartObject.setProperty(d,"_transformOriginZ",c._transformOriginZ,SmartObject.setTransformOrigin),SmartObject.setProperty(d,"_perspective",c._perspective,SmartObject.setPerspective),SmartObject.setProperty(d,"_transformStyle",c._transformStyle,SmartObject.setTransformStyle),
SmartObject.setProperty(d,"_backfaceVisibility",c._backfaceVisibility,SmartObject.setBackfaceVisibility));d.___firstRun=!1;SmartObject.update(d);return d};SmartObject.prefix=function(){if("Explorer"==BrowserDetect.BROWSER_NAME&&"8">=BrowserDetect.BROWSER_VERSION)return"";var d=window.getComputedStyle(document.documentElement,""),d=(Array.prototype.slice.call(d).join("").match(/-(moz|webkit|ms)-/)||""===d.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(new RegExp("("+d+")","i"));"moz"==d&&(d="Moz");return d}();
SmartObject.getWidth=function(){var d=0;if(null==this.parentNode)document.body.appendChild(this),d=this.offsetWidth,document.body.removeChild(this);else if(0==this.offsetWidth){var c=this.parentNode;document.body.appendChild(this);d=this.offsetWidth;c.appendChild(this)}else d=this.offsetWidth;return d};
SmartObject.getHeight=function(){var d=0;if(null==this.parentNode)document.body.appendChild(this),d=this.offsetHeight,document.body.removeChild(this);else if(0==this.offsetHeight){var c=this.parentNode;document.body.appendChild(this);d=this.offsetHeight;c.appendChild(this)}else d=this.offsetHeight;return d};
SmartObject.dispatchCustomEvent=function(d){if(document.createEventObject&&"Explorer"==BrowserDetect.BROWSER_NAME&&8>=BrowserDetect.BROWSER_VERSION){var c=document.createEventObject();return this.fireEvent("on"+d,c)}c=document.createEvent("HTMLEvents");c.initEvent(d,!0,!0);return!this.dispatchEvent(c)};SmartObject.setProperty=function(d,c,a,e){SmartObject.extend(d,c,e);d[c]=a};
SmartObject.extend=function(d,c,a){Object.defineProperty?Object.defineProperty(d,c,{get:function(){return c},set:function(e){c=e;a(d,e)}}):d.__defineGetter__&&(d.__defineGetter__(c,function(){return c}),d.__defineSetter__(c,function(e){c=e;a(d,e)}))};SmartObject.setToUpdate=function(d){1==SmartObjectRenderer.turnedOn?0==d.___isSetToMove&&(d.___isSetToMove=!0,SmartObjectRenderer.objectsToMove.push(d)):SmartObject.update(d)};
SmartObject.setBackfaceVisibility=function(d,c){d.style[SmartObject.prefix+"BackfaceVisibility"]=c};SmartObject.setPerspective=function(d,c){d.style[SmartObject.prefix+"Perspective"]=c+"px"};SmartObject.setTransformStyle=function(d,c){d.style[SmartObject.prefix+"TransformStyle"]=c};SmartObject.setOpacity=function(d,c){d.style.opacity=1!=d._opacity?d._opacity:null};SmartObject.setScale=function(d,c){d._scaleX=c;d._scaleY=c};
SmartObject.setTransformOrigin=function(d,c){d.style[SmartObject.prefix+"TransformOrigin"]=50!=d._transformOriginX||50!=d._transformOriginY||50!=d._transformOriginZ?1==BrowserDetect.TRANSLATE3D_SUPPORT&&50!=d._transformOriginZ&&1==d.___use3D?d._transformOriginX+"% "+d._transformOriginY+"% "+d._transformOriginZ+"%":d._transformOriginX+"% "+d._transformOriginY+"%":null};
SmartObject.update=function(d){if(0==d.___firstRun){var c,a=d._x,e=d._y;1==d.___useRounded&&(a=Math.round(d._x),e=Math.round(d._y));1==BrowserDetect.TRANSLATE3D_SUPPORT&&1==d.___use3D?(c="translate3d("+a+"px, "+e+"px, "+d._z+"px)",0!=d._rotationX&&(c+=" rotateX("+d._rotationX+"deg)"),0!=d._rotationY&&(c+=" rotateY("+d._rotationY+"deg)"),0!=d._rotationZ&&(c+=" rotateZ("+d._rotationZ+"deg)")):c="translate("+a+"px, "+e+"px)";0!=d._rotation&&(c+=" rotate("+d._rotation+"deg)");if(1!=d._scaleX||1!=d._scaleY)c+=
" scale("+d._scaleX+", "+d._scaleY+")";if(0!=d._skewX||0!=d._skewY)c+=" skew("+d._skewX+"deg, "+d._skewY+"deg)";1==d.___doNotUseTranslate?(d.style.top=e+"px",d.style.left=a+"px"):c!=d.___currTranslate&&(d.style[SmartObject.prefix+"Transform"]=c,d.___currTranslate=c)}};
SmartObject.updateFilters=function(d,c){if(0!=d._blur||0!=d._grayscale||0!=d._sepia||1!=d._contrast||0!=d._brightness||0!=d._invert||1!=d._saturate){var a=d._brightness;"Chrome"==BrowserDetect.BROWSER_NAME&&0==BrowserDetect.TABLET&&0==BrowserDetect.MOBILE&&(a=d._brightness+1);d.style[SmartObject.prefix+"Filter"]="blur("+d._blur+"px) grayscale("+d._grayscale+") sepia("+d._sepia+") contrast("+d._contrast+") brightness("+a+") invert("+d._invert+") saturate("+d._saturate+")"}else d.style[SmartObject.prefix+
"Filter"]=""};
SmartObject.updateIE8=function(d){if(0!=d._rotation||1!=d._scaleX||1!=d._scaleY||1!=d._opacity)d.___hasHadAdvancedStyle=!0;if(1==d.___hasHadAdvancedStyle){var c=!1,a=null;if(null==d.parentNode){var e=document.createElement("div");e.appendChild(d);document.body.appendChild(e);c=!0}else a=d.parentNode;var k=d.style.filter;d.style.filter="";var f=d.offsetWidth,h=d.offsetHeight;d.style.filter=k;d.parentNode.removeChild(d);var k=null,l=" progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.round(100*
d._opacity)+")",m="";if(0!=d._rotation||1!=d._scaleX||1!=d._scaleY)var k=Matrix.Rotation(FixIE.degreesToRadians(d._rotation)),m=k.e(1,1)*d._scaleX,q=k.e(1,2)*d._scaleY,n=k.e(2,1)*d._scaleX,t=k.e(2,2)*d._scaleY,k=Matrix.create([[m,q,0],[n,t,0],[0,0,1]]),m="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', "+("M11="+m+", M12="+q+", M21="+n+", M22="+t)+", filterType='nearest neighbor')";l=m+l;null==d.style.background&&(d.style.background="transparent");d.style.MsFilter=l;d.style.filter=
l;d.style.zoom="1";""!=m&&(FixIE.transformOrigin(d,k,f,h),FixIE.fixBoundaryBug(d,k,f,h));try{d.style.left=d._x+d.___compensateX+"px",d.style.top=d._y+d.___compensateY+"px"}catch(u){}null!=a&&(a.appendChild(d),1==c&&e.parentNode.removeChild(e));0==d._rotation&&1==d._scaleX&&1==d._scaleY&&1==d._opacity&&(d.___compensateX=0,d.___compensateY=0,d.___hasHadAdvancedStyle=!1)}else a=null,null!=d.parentNode&&(a=d.parentNode,d.parentNode.removeChild(d)),d.style.left=d._x+d.___compensateX+"px",d.style.top=d._y+
d.___compensateY+"px",null!=a&&a.appendChild(d)};
DOMUtils={getChildIndex:function(d){if(!d)return-1;var c=d.parentNode;if(!c)return-1;for(var c=c.children,a=c.length,e=0;e<a;e++)if(c[e]===d)return e},getOffset:function(d){for(var c=0,a=0;d&&!isNaN(d.offsetLeft)&&!isNaN(d.offsetTop);)c+=d.offsetLeft-d.scrollLeft,a+=d.offsetTop-d.scrollTop,d=d.parentNode?d.parentNode:d.offsetParent;return{top:a,left:c}},getWindowSize:function(){var d={},c=0,a=0;"number"==typeof window.innerWidth?(c=window.innerWidth,a=window.innerHeight):document.documentElement&&
(document.documentElement.clientWidth||document.documentElement.clientHeight)&&(c=document.documentElement.clientWidth,a=document.documentElement.clientHeight);d.width=c;d.height=a;return d},getScrollPosition:function(){var d={};"undefined"!=typeof window.pageYOffset?(d.scrollOffsetX=window.pageXOffset,d.scrollOffsetY=window.pageYOffset):"undefined"!=typeof document.documentElement.scrollTop&&0<document.documentElement.scrollTop?(d.scrollOffsetX=document.documentElement.scrollLeft,d.scrollOffsetY=
document.documentElement.scrollTop):"undefined"!=typeof document.body.scrollTop&&(d.scrollOffsetX=document.body.scrollLeft,d.scrollOffsetY=document.body.scrollTop);return d},localToGlobal:function(d){for(var c=0,a=0;null!=d;)c+=d.offsetLeft,a+=d.offsetTop,d=d.offsetParent;return{x:c,y:a}},getAbsoluteOffset:function(d){var c=0,a=0;do isNaN(d.offsetLeft)||(c+=d.offsetLeft);while(d=d.offsetParent);do isNaN(d.offsetTop)||(a+=d.offsetTop);while(d=d.offsetParent);return{x:c,y:a}},getDocumentSize:function(){var d=
{},c=document,a=Math.max(Math.max(c.body.scrollHeight,c.documentElement.scrollHeight),Math.max(c.body.offsetHeight,c.documentElement.offsetHeight),Math.max(c.body.clientHeight,c.documentElement.clientHeight));d.width=Math.max(Math.max(c.body.scrollWidth,c.documentElement.scrollWidth),Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),Math.max(c.body.clientWidth,c.documentElement.clientWidth));d.height=a;return d},getMousePosition:function(d){var c=document.documentElement,a=document.body;
d||(d=window.event);return void 0!=window.pageXOffset?[d.clientX+window.pageXOffset,d.clientY+window.pageYOffset]:[d.clientX+c.scrollLeft+a.scrollLeft,d.clientY+c.scrollTop+a.scrollTop]},getElementsByAttribute:function(d,c,a,e){var k=[];null==a&&(a=this);null==e&&(e="*");a=a.getElementsByTagName(e);for(e=0;e<a.length;e+=1)c?a[e].hasAttribute(d)&&a[e].getAttribute(d)==c&&k.push(a[e]):a[e].hasAttribute(d)&&k.push(a[e]);return k}};
(function(d){d.AJAX={load:function(c,a,e){null===e&&(e="GET");var k;k=d.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");k.onreadystatechange=function(){4==k.readyState&&200==k.status&&(a(k.responseText),k=null)};k.open(e,c,!0);k.send()},loadJSONP:function(c,a){var e="_"+new Date,k=document.createElement("script"),f=document.getElementsByTagName("head")[0]||document.documentElement;d[e]=function(c){f.removeChild(k);a(c)};k.src=c+"&callback="+e;f.appendChild(k)}}})(window);
(function(){function d(){function a(){for(v;v<p;v++)E=h[v],c.assetExist(E)||(x.push(h[v]),z++);if(0<x.length){var a=0,d=x.length;for(a;a<d;a++){y=new Image;E=x[a];y.addEventListener("load",e,!0);y.addEventListener("error",k,!0);y.style.position="absolute";if(/\//.test(x[a])&&c.que[0].stripPath){var l=x[a],n=void 0;l&&(n=l.replace(RegExp("^.*[/]","g"),""));E=n}url=null!=m?m+x[a]:c.assetPath+x[a];c.assets.push({asset:y,id:E,isURI:!1});y.src=url+(""!==c.assetVersion?"?v=":"")+c.assetVersion}}else f()}
function e(a){a.currentTarget.removeEventListener("load",f,!0);a.currentTarget.removeEventListener("error",f,!0);w++;f()}function k(a){a.currentTarget.removeEventListener("load",f,!0);a.currentTarget.removeEventListener("error",f,!0);w++;f()}function f(){c._percentageLoaded=Math.ceil(w/z*(100-u)+u);null!=q&&q(c._percentageLoaded);w==z&&(l&&l(),c.que.shift(),0<c.que.length?setTimeout(d,100):c.busy=!1)}c._percentageLoaded=0;var h=c.que[0].data,l=c.que[0].onComplete,m=c.que[0].customPath,q=c.que[0].onUpdate,
n=c.que[0].dataURIFile,t=c.que[0].dataURIFileSizeInBytes,u=c.que[0].dataURIFilePercentageOfTotal;"Explorer"==BrowserDetect.BROWSER_NAME&&9>=BrowserDetect.BROWSER_VERSION&&(n=null,u=0);var v=0,p=h.length,w=0,x=[],z=0,y,E;if(null!=n){var D=function(f){A.removeEventListener(Event.LOAD,D,!0);f=f.currentTarget.responseText.split("|");for(var e=0;e<f.length-1;e++){var h=f[e];if(0==e%2){var k=new Image;k.src=f[e+1];c.assets.push({asset:k,id:h.toString(),isURI:!0})}}A=null;a()},n=n+(""!==c.assetVersion?"?v=":
"")+c.assetVersion,A=new XMLHttpRequest;A.addEventListener("progress",function(a){c._percentageLoaded=Math.ceil(a.loaded/t*u);c._percentageLoaded>u&&(c._percentageLoaded=u);null!=q&&q(c._percentageLoaded)},!1);A.addEventListener(Event.LOAD,D,!0);A.open("GET",n,!0);A.overrideMimeType&&A.overrideMimeType("text/plain; charset=x-user-defined");A.send(null)}else a()}var c={assetVersion:"",init:function(a,e){c.initialized||(c.assetVersion=e||"",c.assets=[],c.que=[],c.busy=!1,c.assetPath=a,c._percentageLoaded=
0,c.initialized=!0)},loadGroup:function(a){if(!c.initialized)throw Error("You need to initialize Assetloader before loading a group");c.busy?c.que.push(a):(c.busy=!0,c.que.push(a),d())},getAsset:function(a){if(!c.initialized)throw Error("You need to initialize Assetloader before attempting to retrive an asset - id: "+a);var e=0,k=c.assets.length,f=null;for(e;e<k;e++)if(a===c.assets[e].id)return e=c.assets[e].asset,f=e.cloneNode(!0),f.style.position="absolute",-1<a.indexOf("@2")?(a=e.width/2,e=e.height/
2,f.width=a,f.height=e):(a=e.width,e=e.height),f.width=a,f.height=e,f._orgW=a,f._orgH=e,f._ratio=e/a,f;throw Error("AssetLoader -> asset with id: "+a+", not found");},destroy:function(a){if(!c.initialized)throw Error("You need to initialize Assetloader before attempting to destroy an asset - id: "+a);var e=0,k=c.assets.length;for(e;e<k;e++)if(a===c.assets[e].id){c.assets[e]=null;c.assets.splice(e,1);break}},assetExist:function(a){var e=0,k=c.assets.length;for(e;e<k;e++)if(a===c.assets[e].id)return!0;
return!1}};window.AssetLoader=c})();function AssetGroup(d,c){this.data=d;c.onComplete&&(this.onComplete=c.onComplete);null!==c.customPath&&(this.customPath=c.customPath);c.onUpdate&&(this.onUpdate=c.onUpdate);c.dataURIFile&&(this.dataURIFile=c.dataURIFile);c.dataURIFileSizeInBytes&&(this.dataURIFileSizeInBytes=c.dataURIFileSizeInBytes);this.dataURIFilePercentageOfTotal=c.dataURIFilePercentageOfTotal?c.dataURIFilePercentageOfTotal:0;this.stripPath=c.stripPath?c.stripPath:!1;return this}
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;
(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(d,c,a){var e=function(a){var c,f=[],e=a.length;for(c=0;c!==e;f.push(a[c++]));return f},k=function(c,f,e){a.call(this,c,f,e);this._cycle=0;this._yoyo=!0===this.vars.yoyo;this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._dirty=!0;this.render=k.prototype.render},f=a._internals,h=f.isSelector,l=f.isArray,m=k.prototype=a.to({},
.1,{}),q=[];k.version="1.14.2";m.constructor=k;m.kill()._gc=!1;k.killTweensOf=k.killDelayedCallsTo=a.killTweensOf;k.getTweensOf=a.getTweensOf;k.lagSmoothing=a.lagSmoothing;k.ticker=a.ticker;k.render=a.render;m.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)};m.updateTo=function(c,f){var e,h=this.ratio,k=this.vars.immediateRender||c.immediateRender;f&&this._startTime<
this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(e in c)this.vars[e]=c[e];if(this._initted||k)if(f)this._initted=!1;else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&a._onPluginEvent("_onDisable",this),.998<this._time/this._duration)e=this._time,this.render(0,!0,!1),this._initted=!1,this.render(e,!0,!1);else if(0<this._time||k)for(this._initted=
!1,this._init(),h=1/(1-h),k=this._firstPT;k;)e=k.s+k.c,k.c*=h,k.s=e-k.c,k=k._next;return this};m.render=function(a,c,e){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var h,k,d,l,m,n,t,u=this._dirty?this.totalDuration():this._totalDuration,C=this._time,H=this._totalTime,I=this._cycle,J=this._duration,G=this._rawPrevTime;if(a>=u?(this._totalTime=u,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):
(this._time=J,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(h=!0,k="onComplete"),0===J&&(this._initted||!this.vars.lazy||e)&&(this._startTime===this._timeline._duration&&(a=0),(0===a||0>G||1E-10===G)&&G!==a&&(e=!0,1E-10<G&&(k="onReverseComplete")),this._rawPrevTime=t=!c||a||G===a?a:1E-10)):1E-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==H||0===J&&0<G&&1E-10!==G)&&(k="onReverseComplete",h=this._reversed),0>a&&
(this._active=!1,0===J&&(this._initted||!this.vars.lazy||e)&&(0<=G&&(e=!0),this._rawPrevTime=t=!c||a||G===a?a:1E-10)),this._initted||(e=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(d=J+this._repeatDelay,this._cycle=this._totalTime/d>>0,0!==this._cycle&&this._cycle===this._totalTime/d&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&0!==(1&this._cycle)&&(this._time=J-this._time),this._time>J?this._time=J:0>this._time&&(this._time=0)),this._easeType?(l=this._time/J,m=this._easeType,
n=this._easePower,(1===m||3===m&&.5<=l)&&(l=1-l),3===m&&(l*=2),1===n?l*=l:2===n?l*=l*l:3===n?l*=l*l*l:4===n&&(l*=l*l*l*l),this.ratio=1===m?1-l:2===m?l:.5>this._time/J?l/2:1-l/2):this.ratio=this._ease.getRatio(this._time/J)),C===this._time&&!e&&I===this._cycle)return H!==this._totalTime&&this._onUpdate&&(c||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||q)),void 0;if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!e&&this._firstPT&&(!1!==this.vars.lazy&&
this._duration||this.vars.lazy&&!this._duration))return this._time=C,this._totalTime=H,this._rawPrevTime=G,this._cycle=I,f.lazyTweens.push(this),this._lazy=[a,c],void 0;this._time&&!h?this.ratio=this._ease.getRatio(this._time/J):h&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}!1!==this._lazy&&(this._lazy=!1);this._active||!this._paused&&this._time!==C&&0<=a&&(this._active=!0);0!==H||(2===this._initted&&0<a&&this._init(),this._startAt&&(0<=a?this._startAt.render(a,c,e):
k||(k="_dummyGS")),!this.vars.onStart||0===this._totalTime&&0!==J||!c&&this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||q));for(d=this._firstPT;d;)d.f?d.t[d.p](d.c*this.ratio+d.s):d.t[d.p]=d.c*this.ratio+d.s,d=d._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,c,e),c||(this._totalTime!==H||h)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||q));this._cycle!==I&&(c||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||
this,this.vars.onRepeatParams||q));k&&(!this._gc||e)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,c,e),h&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!c&&this.vars[k]&&this.vars[k].apply(this.vars[k+"Scope"]||this,this.vars[k+"Params"]||q),0===J&&1E-10===this._rawPrevTime&&1E-10!==t&&(this._rawPrevTime=0))};k.to=function(a,c,f){return new k(a,c,f)};k.from=function(a,c,f){return f.runBackwards=!0,f.immediateRender=0!=f.immediateRender,
new k(a,c,f)};k.fromTo=function(a,c,f,e){return e.startAt=f,e.immediateRender=0!=e.immediateRender&&0!=f.immediateRender,new k(a,c,e)};k.staggerTo=k.allTo=function(c,f,d,m,n,t,u){m=m||0;var D,A,B,F,C=d.delay||0,H=[],I=function(){d.onComplete&&d.onComplete.apply(d.onCompleteScope||this,arguments);n.apply(u||this,t||q)};l(c)||("string"==typeof c&&(c=a.selector(c)||c),h(c)&&(c=e(c)));c=c||[];0>m&&(c=e(c),c.reverse(),m*=-1);D=c.length-1;for(B=0;D>=B;B++){A={};for(F in d)A[F]=d[F];A.delay=C;B===D&&n&&
(A.onComplete=I);H[B]=new k(c[B],f,A);C+=m}return H};k.staggerFrom=k.allFrom=function(a,c,f,e,h,d,l){return f.runBackwards=!0,f.immediateRender=0!=f.immediateRender,k.staggerTo(a,c,f,e,h,d,l)};k.staggerFromTo=k.allFromTo=function(a,c,f,e,h,d,l,m){return e.startAt=f,e.immediateRender=0!=e.immediateRender&&0!=f.immediateRender,k.staggerTo(a,c,e,h,d,l,m)};k.delayedCall=function(a,c,f,e,h){return new k(c,0,{delay:a,onComplete:c,onCompleteParams:f,onCompleteScope:e,onReverseComplete:c,onReverseCompleteParams:f,
onReverseCompleteScope:e,immediateRender:!1,useFrames:h,overwrite:0})};k.set=function(a,c){return new k(a,0,c)};k.isTweening=function(c){return 0<a.getTweensOf(c,!0).length};var n=function(c,f){for(var e=[],h=0,k=c._first;k;)k instanceof a?e[h++]=k:(f&&(e[h++]=k),e=e.concat(n(k,f)),h=e.length),k=k._next;return e},t=k.getAllTweens=function(a){return n(d._rootTimeline,a).concat(n(d._rootFramesTimeline,a))};k.killAll=function(a,f,e,h){null==f&&(f=!0);null==e&&(e=!0);var k,d,l=t(0!=h),m=l.length,n=f&&
e&&h;for(d=0;m>d;d++)h=l[d],(n||h instanceof c||(k=h.target===h.vars.onComplete)&&e||f&&!k)&&(a?h.totalTime(h._reversed?0:h.totalDuration()):h._enabled(!1,!1))};k.killChildTweensOf=function(c,d){if(null!=c){var m,n,q,t=f.tweenLookup;if("string"==typeof c&&(c=a.selector(c)||c),h(c)&&(c=e(c)),l(c))for(n=c.length;-1<--n;)k.killChildTweensOf(c[n],d);else{m=[];for(q in t)for(n=t[q].target.parentNode;n;)n===c&&(m=m.concat(t[q].tweens)),n=n.parentNode;q=m.length;for(n=0;q>n;n++)d&&m[n].totalTime(m[n].totalDuration()),
m[n]._enabled(!1,!1)}}};var u=function(a,f,e,h){f=!1!==f;e=!1!==e;h=!1!==h;for(var k,d=t(h),l=f&&e&&h,m=d.length;-1<--m;)h=d[m],(l||h instanceof c||(k=h.target===h.vars.onComplete)&&e||f&&!k)&&h.paused(a)};return k.pauseAll=function(a,c,f){u(!0,a,c,f)},k.resumeAll=function(a,c,f){u(!1,a,c,f)},k.globalTimeScale=function(c){var f=d._rootTimeline,e=a.ticker.time;return arguments.length?(c=c||1E-10,f._startTime=e-(e-f._startTime)*f._timeScale/c,f=d._rootFramesTimeline,e=a.ticker.frame,f._startTime=e-
(e-f._startTime)*f._timeScale/c,f._timeScale=d._rootTimeline._timeScale=c,c):f._timeScale},m.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},m.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},m.time=function(a,c){return arguments.length?(this._dirty&&this.totalDuration(),a>
this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,c)):this._time},m.duration=function(a){return arguments.length?d.prototype.duration.call(this,a):this._duration},m.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=
-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},m.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},m.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},m.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},k},!0);_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],
function(d,c,a){var e=function(a){c.call(this,a);this._labels={};this.autoRemoveChildren=!0===this.vars.autoRemoveChildren;this.smoothChildTiming=!0===this.vars.smoothChildTiming;this._sortChildren=!0;this._onUpdate=this.vars.onUpdate;var f,e=this.vars;for(f in e)a=e[f],h(a)&&-1!==a.join("").indexOf("{self}")&&(e[f]=this._swapSelfInParams(a));h(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},k=a._internals,f=k.isSelector,h=k.isArray,l=k.lazyTweens,m=k.lazyRender,q=[],n=_gsScope._gsDefine.globals,
t=function(a){var c,f={};for(c in a)f[c]=a[c];return f},u=function(a,c,f,e){var h=a._timeline._totalTime;(c||!this._forcingPlayhead)&&(a._timeline.pause(a._startTime),c&&c.apply(e||a._timeline,f||q),this._forcingPlayhead&&a._timeline.seek(h))},v=function(a){var c,f=[],e=a.length;for(c=0;c!==e;f.push(a[c++]));return f},k=e.prototype=new c;return e.version="1.14.2",k.constructor=e,k.kill()._gc=k._forcingPlayhead=!1,k.to=function(c,f,e,h){var k=e.repeat&&n.TweenMax||a;return f?this.add(new k(c,f,e),
h):this.set(c,e,h)},k.from=function(c,f,e,h){return this.add((e.repeat&&n.TweenMax||a).from(c,f,e),h)},k.fromTo=function(c,f,e,h,k){var d=h.repeat&&n.TweenMax||a;return f?this.add(d.fromTo(c,f,e,h),k):this.set(c,h,k)},k.staggerTo=function(c,h,k,d,l,m,n,q){n=new e({onComplete:m,onCompleteParams:n,onCompleteScope:q,smoothChildTiming:this.smoothChildTiming});"string"==typeof c&&(c=a.selector(c)||c);c=c||[];f(c)&&(c=v(c));d=d||0;0>d&&(c=v(c),c.reverse(),d*=-1);for(m=0;c.length>m;m++)k.startAt&&(k.startAt=
t(k.startAt)),n.to(c[m],h,t(k),m*d);return this.add(n,l)},k.staggerFrom=function(a,c,f,e,h,k,d,l){return f.immediateRender=0!=f.immediateRender,f.runBackwards=!0,this.staggerTo(a,c,f,e,h,k,d,l)},k.staggerFromTo=function(a,c,f,e,h,k,d,l,m){return e.startAt=f,e.immediateRender=0!=e.immediateRender&&0!=f.immediateRender,this.staggerTo(a,c,e,h,k,d,l,m)},k.call=function(c,f,e,h){return this.add(a.delayedCall(0,c,f,e),h)},k.set=function(c,f,e){return e=this._parseTimeOrLabel(e,0,!0),null==f.immediateRender&&
(f.immediateRender=e===this._time&&!this._paused),this.add(new a(c,0,f),e)},e.exportRoot=function(c,f){c=c||{};null==c.smoothChildTiming&&(c.smoothChildTiming=!0);var h,k,d=new e(c),l=d._timeline;null==f&&(f=!0);l._remove(d,!0);d._startTime=0;d._rawPrevTime=d._time=d._totalTime=l._time;for(h=l._first;h;)k=h._next,f&&h instanceof a&&h.target===h.vars.onComplete||d.add(h,h._startTime-h._delay),h=k;return l.add(d,0),d},k.add=function(f,k,l,m){var n,q,t;if("number"!=typeof k&&(k=this._parseTimeOrLabel(k,
0,!0,f)),!(f instanceof d)){if(f instanceof Array||f&&f.push&&h(f)){l=l||"normal";m=m||0;n=f.length;for(q=0;n>q;q++)h(t=f[q])&&(t=new e({tweens:t})),this.add(t,k),"string"!=typeof t&&"function"!=typeof t&&("sequence"===l?k=t._startTime+t.totalDuration()/t._timeScale:"start"===l&&(t._startTime-=t.delay())),k+=m;return this._uncache(!0)}if("string"==typeof f)return this.addLabel(f,k);if("function"!=typeof f)throw"Cannot add "+f+" into the timeline; it is not a tween, timeline, function, or string.";
f=a.delayedCall(0,f)}if(c.prototype.add.call(this,f,k),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(l=this,f=l.rawTime()>f._startTime;l._timeline;)f&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,!1),l=l._timeline;return this},k.remove=function(a){if(a instanceof d)return this._remove(a,!1);if(a instanceof Array||a&&a.push&&h(a)){for(var c=a.length;-1<--c;)this.remove(a[c]);return this}return"string"==typeof a?this.removeLabel(a):
this.kill(null,a)},k._remove=function(a,f){c.prototype._remove.call(this,a,f);var e=this._last;return e?this._time>e._startTime+e._totalDuration/e._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},k.append=function(a,c){return this.add(a,this._parseTimeOrLabel(null,c,!0,a))},k.insert=k.insertMultiple=function(a,c,f,e){return this.add(a,c||0,f,e)},k.appendMultiple=function(a,c,f,e){return this.add(a,this._parseTimeOrLabel(null,
c,!0,a),f,e)},k.addLabel=function(a,c){return this._labels[a]=this._parseTimeOrLabel(c),this},k.addPause=function(a,c,f,e){return this.call(u,["{self}",c,f,e],this,a)},k.removeLabel=function(a){return delete this._labels[a],this},k.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},k._parseTimeOrLabel=function(a,c,f,e){var k;if(e instanceof d&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&h(e)))for(k=e.length;-1<--k;)e[k]instanceof d&&e[k].timeline===
this&&this.remove(e[k]);if("string"==typeof c)return this._parseTimeOrLabel(c,f&&"number"==typeof a&&null==this._labels[c]?a-this.duration():0,f);if(c=c||0,"string"!=typeof a||!isNaN(a)&&null==this._labels[a])null==a&&(a=this.duration());else{if(k=a.indexOf("="),-1===k)return null==this._labels[a]?f?this._labels[a]=this.duration()+c:c:this._labels[a]+c;c=parseInt(a.charAt(k-1)+"1",10)*Number(a.substr(k+1));a=1<k?this._parseTimeOrLabel(a.substr(0,k-1),0,f):this.duration()}return Number(a)+c},k.seek=
function(a,c){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),!1!==c)},k.stop=function(){return this.paused(!0)},k.gotoAndPlay=function(a,c){return this.play(a,c)},k.gotoAndStop=function(a,c){return this.pause(a,c)},k.render=function(a,c,f){this._gc&&this._enabled(!0,!1);var e,h,k,d,n=this._dirty?this.totalDuration():this._totalDuration,t=this._time,u=this._startTime,v=this._timeScale,H=this._paused;if(a>=n?(this._totalTime=this._time=n,this._reversed||this._hasPausedChild()||
(h=!0,d="onComplete",0===this._duration&&(0===a||0>this._rawPrevTime||1E-10===this._rawPrevTime)&&this._rawPrevTime!==a&&this._first&&(e=!0,1E-10<this._rawPrevTime&&(d="onReverseComplete"))),this._rawPrevTime=this._duration||!c||a||this._rawPrevTime===a?a:1E-10,a=n+1E-4):1E-7>a?(this._totalTime=this._time=0,(0!==t||0===this._duration&&1E-10!==this._rawPrevTime&&(0<this._rawPrevTime||0>a&&0<=this._rawPrevTime))&&(d="onReverseComplete",h=this._reversed),0>a?(this._active=!1,0<=this._rawPrevTime&&this._first&&
(e=!0),this._rawPrevTime=a):(this._rawPrevTime=this._duration||!c||a||this._rawPrevTime===a?a:1E-10,a=0,this._initted||(e=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==t&&this._first||f||e){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==t&&0<a&&(this._active=!0),0===t&&this.vars.onStart&&0!==this._time&&(c||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||q)),this._time>=t)for(e=this._first;e&&(k=e._next,!this._paused||
H);)(e._active||e._startTime<=this._time&&!e._paused&&!e._gc)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,c,f):e.render((a-e._startTime)*e._timeScale,c,f)),e=k;else for(e=this._last;e&&(k=e._prev,!this._paused||H);)(e._active||t>=e._startTime&&!e._paused&&!e._gc)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,c,f):e.render((a-e._startTime)*e._timeScale,c,f)),e=k;this._onUpdate&&(c||(l.length&&
m(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||q)));d&&(this._gc||(u===this._startTime||v!==this._timeScale)&&(0===this._time||n>=this.totalDuration())&&(h&&(l.length&&m(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!c&&this.vars[d]&&this.vars[d].apply(this.vars[d+"Scope"]||this,this.vars[d+"Params"]||q)))}},k._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof e&&a._hasPausedChild())return!0;a=a._next}return!1},
k.getChildren=function(c,e,f,h){h=h||-9999999999;for(var k=[],d=this._first,l=0;d;)h>d._startTime||(d instanceof a?!1!==e&&(k[l++]=d):(!1!==f&&(k[l++]=d),!1!==c&&(k=k.concat(d.getChildren(!0,e,f)),l=k.length))),d=d._next;return k},k.getTweensOf=function(c,e){var f,h,k=this._gc,d=[],l=0;k&&this._enabled(!0,!0);f=a.getTweensOf(c);for(h=f.length;-1<--h;)(f[h].timeline===this||e&&this._contains(f[h]))&&(d[l++]=f[h]);return k&&this._enabled(!1,!0),d},k.recent=function(){return this._recent},k._contains=
function(a){for(a=a.timeline;a;){if(a===this)return!0;a=a.timeline}return!1},k.shiftChildren=function(a,c,e){e=e||0;for(var f,h=this._first,k=this._labels;h;)h._startTime>=e&&(h._startTime+=a),h=h._next;if(c)for(f in k)k[f]>=e&&(k[f]+=a);return this._uncache(!0)},k._kill=function(a,c){if(!a&&!c)return this._enabled(!1,!1);for(var e=c?this.getTweensOf(c):this.getChildren(!0,!0,!1),f=e.length,h=!1;-1<--f;)e[f]._kill(a,c)&&(h=!0);return h},k.clear=function(a){var c=this.getChildren(!1,!0,!0),e=c.length;
for(this._time=this._totalTime=0;-1<--e;)c[e]._enabled(!1,!1);return!1!==a&&(this._labels={}),this._uncache(!0)},k.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return d.prototype.invalidate.call(this)},k._enabled=function(a,e){if(a===this._gc)for(var f=this._first;f;)f._enabled(a,!0),f=f._next;return c.prototype._enabled.call(this,a,e)},k.totalTime=function(){this._forcingPlayhead=!0;var a=d.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,a},k.duration=
function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},k.totalDuration=function(a){if(!arguments.length){if(this._dirty){var c,e,f=0;e=this._last;for(var h=999999999999;e;)c=e._prev,e._dirty&&e.totalDuration(),e._startTime>h&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):h=e._startTime,0>e._startTime&&!e._paused&&(f-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=
e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),h=0),e=e._startTime+e._totalDuration/e._timeScale,e>f&&(f=e),e=c;this._duration=this._totalDuration=f;this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},k.usesFrames=function(){for(var a=this._timeline;a._timeline;)a=a._timeline;return a===d._rootFramesTimeline},k.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*
this._timeScale},e},!0);_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(d,c,a){var e=function(a){d.call(this,a);this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._cycle=0;this._yoyo=!0===this.vars.yoyo;this._dirty=!0},k=[],f=c._internals,h=f.lazyTweens,l=f.lazyRender,m=new a(null,null,1,0);a=e.prototype=new d;return a.constructor=e,a.kill()._gc=!1,e.version="1.14.2",a.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=
this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),d.prototype.invalidate.call(this)},a.addCallback=function(a,e,f,h){return this.add(c.delayedCall(0,a,f,h),e)},a.removeCallback=function(a,c){if(a)if(null==c)this._kill(null,a);else for(var e=this.getTweensOf(a,!1),f=e.length,h=this._parseTimeOrLabel(c);-1<--f;)e[f]._startTime===h&&e[f]._enabled(!1,!1);return this},a.tweenTo=function(a,e){e=e||{};var f,h,d,l={ease:m,overwrite:e.delay?2:1,useFrames:this.usesFrames(),immediateRender:!1};
for(h in e)l[h]=e[h];return l.time=this._parseTimeOrLabel(a),f=Math.abs(Number(l.time)-this._time)/this._timeScale||.001,d=new c(this,f,l),l.onStart=function(){d.target.paused(!0);d.vars.time!==d.target.time()&&f===d.duration()&&d.duration(Math.abs(d.vars.time-d.target.time())/d.target._timeScale);e.onStart&&e.onStart.apply(e.onStartScope||d,e.onStartParams||k)},d},a.tweenFromTo=function(a,c,e){e=e||{};a=this._parseTimeOrLabel(a);e.startAt={onComplete:this.seek,onCompleteParams:[a],onCompleteScope:this};
e.immediateRender=!1!==e.immediateRender;c=this.tweenTo(c,e);return c.duration(Math.abs(c.vars.time-a)/this._timeScale||.001)},a.render=function(a,c,e){this._gc&&this._enabled(!0,!1);var f,d,m,w,x,z=this._dirty?this.totalDuration():this._totalDuration,y=this._duration,E=this._time,D=this._totalTime,A=this._startTime,B=this._timeScale,F=this._rawPrevTime,C=this._paused,H=this._cycle;if(a>=z?(this._locked||(this._totalTime=z,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(d=!0,w=
"onComplete",0===this._duration&&(0===a||0>F||1E-10===F)&&F!==a&&this._first&&(f=!0,1E-10<F&&(w="onReverseComplete"))),this._rawPrevTime=this._duration||!c||a||this._rawPrevTime===a?a:1E-10,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=y,a=y+1E-4)):1E-7>a?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==E||0===y&&1E-10!==F&&(0<F||0>a&&0<=F)&&!this._locked)&&(w="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0<=F&&this._first&&(f=!0),this._rawPrevTime=a):(this._rawPrevTime=
y||!c||a||this._rawPrevTime===a?a:1E-10,a=0,this._initted||(f=!0))):(0===y&&0>F&&(f=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(x=y+this._repeatDelay,this._cycle=this._totalTime/x>>0,0!==this._cycle&&this._cycle===this._totalTime/x&&this._cycle--,this._time=this._totalTime-this._cycle*x,this._yoyo&&0!==(1&this._cycle)&&(this._time=y-this._time),this._time>y?(this._time=y,a=y+1E-4):0>this._time?this._time=a=0:a=this._time))),this._cycle!==H&&!this._locked){x=
this._yoyo&&0!==(1&H);var I=x===(this._yoyo&&0!==(1&this._cycle)),J=this._totalTime,G=this._cycle,K=this._rawPrevTime,M=this._time;if(this._totalTime=H*y,H>this._cycle?x=!x:this._totalTime+=y,this._time=E,this._rawPrevTime=0===y?F-1E-4:F,this._cycle=H,this._locked=!0,E=x?0:y,this.render(E,c,0===y),c||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||k),I&&(E=x?y+1E-4:-1E-4,this.render(E,!0,!1)),this._locked=!1,this._paused&&!C)return;this._time=
M;this._totalTime=J;this._cycle=G;this._rawPrevTime=K}if(!(this._time!==E&&this._first||e||f))return D!==this._totalTime&&this._onUpdate&&(c||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||k)),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==D&&0<a&&(this._active=!0),0===D&&this.vars.onStart&&0!==this._totalTime&&(c||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||k)),this._time>=E)for(f=this._first;f&&
(m=f._next,!this._paused||C);)(f._active||f._startTime<=this._time&&!f._paused&&!f._gc)&&(f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(a-f._startTime)*f._timeScale,c,e):f.render((a-f._startTime)*f._timeScale,c,e)),f=m;else for(f=this._last;f&&(m=f._prev,!this._paused||C);)(f._active||E>=f._startTime&&!f._paused&&!f._gc)&&(f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(a-f._startTime)*f._timeScale,c,e):f.render((a-f._startTime)*f._timeScale,c,e)),f=m;this._onUpdate&&
(c||(h.length&&l(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||k)));w&&(this._locked||this._gc||(A===this._startTime||B!==this._timeScale)&&(0===this._time||z>=this.totalDuration())&&(d&&(h.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!c&&this.vars[w]&&this.vars[w].apply(this.vars[w+"Scope"]||this,this.vars[w+"Params"]||k)))},a.getActive=function(a,c,e){null==a&&(a=!0);null==c&&(c=!0);null==e&&(e=!1);var f=[];e=this.getChildren(a,
c,e);var h=0,k=e.length;for(a=0;k>a;a++)c=e[a],c.isActive()&&(f[h++]=c);return f},a.getLabelAfter=function(a){a||0!==a&&(a=this._time);var c,e=this.getLabelsArray(),f=e.length;for(c=0;f>c;c++)if(e[c].time>a)return e[c].name;return null},a.getLabelBefore=function(a){null==a&&(a=this._time);for(var c=this.getLabelsArray(),e=c.length;-1<--e;)if(a>c[e].time)return c[e].name;return null},a.getLabelsArray=function(){var a,c=[],e=0;for(a in this._labels)c[e++]={time:this._labels[a],name:a};return c.sort(function(a,
c){return a.time-c.time}),c},a.progress=function(a,c){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),c):this._time/this.duration()},a.totalProgress=function(a,c){return arguments.length?this.totalTime(this.totalDuration()*a,c):this._totalTime/this.totalDuration()},a.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):
(this._dirty&&(d.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},a.time=function(a,c){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,c)):this._time},
a.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},a.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},a.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},a.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1E-8)},e},!0);(function(){var d=180/Math.PI,c=[],a=[],e=[],k={},f=function(a,c,e,f){this.a=a;this.b=c;this.c=e;this.d=f;this.da=
f-a;this.ca=e-a;this.ba=c-a},h=function(a,c,e,f){var h={a:a},k={},d={},l={c:f},m=(a+c)/2,q=(c+e)/2;e=(e+f)/2;c=(m+q)/2;var q=(q+e)/2,D=(q-c)/8;return h.b=m+(a-m)/4,k.b=c+D,h.c=k.a=(h.b+k.b)/2,k.c=d.a=(c+q)/2,d.b=q-D,l.b=e+(f-e)/4,d.c=l.a=(d.b+l.b)/2,[h,k,d,l]},l=function(d,l,m,q,p,w){var x,z,y,E,D={},A=[],B=w||d[0];p="string"==typeof p?","+p+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";
null==l&&(l=1);for(z in d[0])A.push(z);if(1<d.length){y=d[d.length-1];E=!0;for(x=A.length;-1<--x;)if(z=A[x],.05<Math.abs(B[z]-y[z])){E=!1;break}E&&(d=d.concat(),w&&d.unshift(w),d.push(d[1]),w=d[d.length-3])}c.length=a.length=e.length=0;for(x=A.length;-1<--x;){z=A[x];k[z]=-1!==p.indexOf(","+z+",");y=z;var B=d,F=z,C=k[z],H=w,I=void 0,J=void 0,G=void 0,K=void 0,M=void 0,G=void 0,L=[];if(H)for(B=[H].concat(B),J=B.length;-1<--J;)"string"==typeof(G=B[J][F])&&"="===G.charAt(1)&&(B[J][F]=H[F]+Number(G.charAt(0)+
G.substr(2)));if(I=B.length-2,0>I)B=(L[0]=new f(B[0][F],0,0,B[-1>I?0:1][F]),L);else{for(J=0;I>J;J++)G=B[J][F],K=B[J+1][F],L[J]=new f(G,0,0,K),C&&(M=B[J+2][F],c[J]=(c[J]||0)+(K-G)*(K-G),a[J]=(a[J]||0)+(M-K)*(M-K));B=(L[J]=new f(B[J][F],0,0,B[J+1][F]),L)}D[y]=B}for(x=c.length;-1<--x;)c[x]=Math.sqrt(c[x]),a[x]=Math.sqrt(a[x]);if(!q){for(x=A.length;-1<--x;)if(k[z])for(d=D[A[x]],y=d.length-1,p=0;y>p;p++)w=d[p+1].da/a[p]+d[p].da/c[p],e[p]=(e[p]||0)+w*w;for(x=e.length;-1<--x;)e[x]=Math.sqrt(e[x])}x=A.length;
for(p=m?4:1;-1<--x;){z=A[x];w=d=D[z];y=l;B=m;F=q;z=k[z];for(var Q=I=H=C=void 0,N=K=Q=G=L=M=J=void 0,O=void 0,P=void 0,S=w.length-1,R=0,T=w[0].a,C=0;S>C;C++)J=w[R],H=J.a,I=J.d,Q=w[R+1].d,z?(N=c[C],O=a[C],P=.25*(O+N)*y/(F?.5:e[C]||.5),M=I-(I-H)*(F?.5*y:0!==N?P/N:0),L=I+(Q-I)*(F?.5*y:0!==O?P/O:0),G=I-(M+((L-M)*(3*N/(N+O)+.5)/4||0))):(M=I-.5*(I-H)*y,L=I+.5*(Q-I)*y,G=I-(M+L)/2),M+=G,L+=G,J.c=Q=M,J.b=0!==C?T:T=J.a+.6*(J.c-J.a),J.da=I-H,J.ca=Q-H,J.ba=T-H,B?(K=h(H,T,Q,I),w.splice(R,1,K[0],K[1],K[2],K[3]),
R+=4):R++,T=L;J=w[R];J.b=T;J.c=T+.4*(J.d-T);J.da=J.d-J.a;J.ca=J.c-J.a;J.ba=T-J.a;B&&(K=h(J.a,T,J.c,J.d),w.splice(R,1,K[0],K[1],K[2],K[3]));E&&(d.splice(0,p),d.splice(d.length-p,p))}return D},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.3",API:2,global:!0,init:function(a,c,e){this._target=a;c instanceof Array&&(c={values:c});this._func={};this._round={};this._props=[];this._timeRes=null==c.timeResolution?6:parseInt(c.timeResolution,10);var h,k,d,m,q,y=c.values||[],E={};d=
y[0];this._autoRotate=(k=c.autoRotate||e.vars.orientToBezier)?k instanceof Array?k:[["x","y","rotation",!0===k?0:Number(k)||0]]:null;for(h in d)this._props.push(h);for(d=this._props.length;-1<--d;)h=this._props[d],this._overwriteProps.push(h),k=this._func[h]="function"==typeof a[h],E[h]=k?a[h.indexOf("set")||"function"!=typeof a["get"+h.substr(3)]?h:"get"+h.substr(3)]():parseFloat(a[h]),q||E[h]!==y[0][h]&&(q=E);if("cubic"!==c.type&&"quadratic"!==c.type&&"soft"!==c.type)E=l(y,isNaN(c.curviness)?1:
c.curviness,!1,"thruBasic"===c.type,c.correlate,q);else{d=y;var y=(y=c.type)||"soft",D,A,B,F,C,H,I;c={};q="cubic"===y?3:2;var J="soft"===y,G=[];if(J&&E&&(d=[E].concat(d)),null==d||q+1>d.length)throw"invalid Bezier data";for(D in d[0])G.push(D);for(F=G.length;-1<--F;){D=G[F];c[D]=k=[];I=0;H=d.length;for(C=0;H>C;C++)y=null==E?d[C][D]:"string"==typeof(A=d[C][D])&&"="===A.charAt(1)?E[D]+Number(A.charAt(0)+A.substr(2)):Number(A),J&&1<C&&H-1>C&&(k[I++]=(y+k[I-2])/2),k[I++]=y;H=I-q+1;for(C=I=0;H>C;C+=q)y=
k[C],D=k[C+1],A=k[C+2],B=2===q?0:k[C+3],k[I++]=A=3===q?new f(y,D,A,B):new f(y,(2*D+y)/3,(2*D+A)/3,A);k.length=I}E=c}if(this._beziers=E,this._segCount=this._beziers[h].length,this._timeRes){k=this._beziers;h=this._timeRes;h=h>>0||6;E=[];D=[];d=A=0;c=h-1;q=[];y=[];for(m in k){F=k[m];C=E;H=h;var K=void 0,M=void 0,L=J=I=M=void 0,Q=K=void 0,N=void 0,N=L=void 0,G=1/H;for(B=F.length;-1<--B;)for(L=F[B],M=L.a,I=L.d-M,J=L.c-M,L=L.b-M,M=0,Q=1;H>=Q;Q++)K=G*Q,N=1-K,K=M-(M=(K*K*I+3*N*(K*J+N*L))*K),N=B*H+Q-1,C[N]=
(C[N]||0)+K*K}k=E.length;for(m=0;k>m;m++)A+=Math.sqrt(E[m]),F=m%h,y[F]=A,F===c&&(d+=A,F=m/h>>0,q[F]=y,D[F]=d,A=0,y=[]);this._length=d;this._lengths=D;this._segments=q;this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(k=this._autoRotate)for(this._initialRotations=[],k[0]instanceof Array||(this._autoRotate=k=[k]),d=k.length;-1<--d;){for(m=0;3>m;m++)h=k[d][m],this._func[h]="function"==typeof a[h]?
a[h.indexOf("set")||"function"!=typeof a["get"+h.substr(3)]?h:"get"+h.substr(3)]:!1;h=k[d][2];this._initialRotations[d]=this._func[h]?this._func[h].call(this._target):this._target[h]}return this._startRatio=e.vars.runBackwards?1:0,!0},set:function(a){var c,e,f,h,k,l;k=this._segCount;var m=this._func,q=this._target,E=a!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,a*=this._length,f=this._li,a>this._l2&&k-1>f){for(--k;k>f&&a>=(this._l2=c[++f]););this._l1=c[f-1];this._li=f;this._curSeg=
h=this._segments[f];this._s2=h[this._s1=this._si=0]}else if(this._l1>a&&0<f){for(;0<f&&(this._l1=c[--f])>=a;);0===f&&this._l1>a?this._l1=0:f++;this._l2=c[f];this._li=f;this._curSeg=h=this._segments[f];this._s1=h[(this._si=h.length-1)-1]||0;this._s2=h[this._si]}if(c=f,a-=this._l1,f=this._si,a>this._s2&&h.length-1>f){for(k=h.length-1;k>f&&a>=(this._s2=h[++f]););this._s1=h[f-1];this._si=f}else if(this._s1>a&&0<f){for(;0<f&&(this._s1=h[--f])>=a;);0===f&&this._s1>a?this._s1=0:f++;this._s2=h[f];this._si=
f}k=(f+(a-this._s1)/(this._s2-this._s1))*this._prec}else c=0>a?0:1<=a?k-1:k*a>>0,k*=a-1/k*c;e=1-k;for(f=this._props.length;-1<--f;)a=this._props[f],h=this._beziers[a][c],l=(k*k*h.da+3*e*(k*h.ca+e*h.ba))*k+h.a,this._round[a]&&(l=Math.round(l)),m[a]?q[a](l):q[a]=l;if(this._autoRotate){var D,A,B,F,C,H,I=this._autoRotate;for(f=I.length;-1<--f;)a=I[f][2],C=I[f][3]||0,H=!0===I[f][4]?1:d,h=this._beziers[I[f][0]],e=this._beziers[I[f][1]],h&&e&&(h=h[c],e=e[c],D=h.a+(h.b-h.a)*k,B=h.b+(h.c-h.b)*k,D+=(B-D)*k,
B+=(h.c+(h.d-h.c)*k-B)*k,A=e.a+(e.b-e.a)*k,F=e.b+(e.c-e.b)*k,A+=(F-A)*k,F+=(e.c+(e.d-e.c)*k-F)*k,l=E?Math.atan2(F-A,B-D)*H+C:this._initialRotations[f],m[a]?q[a](l):q[a]=l)}}}),q=m.prototype;m.bezierThrough=l;m.cubicToQuadratic=h;m._autoCSS=!0;m.quadraticToCubic=function(a,c,e){return new f(a,(2*c+a)/3,(2*c+e)/3,e)};m._cssRegister=function(){var a=_gsScope._gsDefine.globals.CSSPlugin;if(a){var a=a._internals,c=a._parseToProxy,f=a._setPluginRatio,e=a.CSSPropTween;a._registerComplexSpecialProp("bezier",
{parser:function(a,h,k,d,l,q){h instanceof Array&&(h={values:h});q=new m;var n,A,B=h.values,F=B.length-1,C=[],H={};if(0>F)return l;for(k=0;F>=k;k++)A=c(a,B[k],d,l,q,F!==k),C[k]=A.end;for(n in h)H[n]=h[n];return H.values=C,l=new e(a,"bezier",0,0,A.pt,2),l.data=A,l.plugin=q,l.setRatio=f,0===H.autoRotate&&(H.autoRotate=!0),!H.autoRotate||H.autoRotate instanceof Array||(k=!0===H.autoRotate?0:Number(H.autoRotate),H.autoRotate=null!=A.end.left?[["left","top","rotation",k,!1]]:null!=A.end.x?[["x","y","rotation",
k,!1]]:!1),H.autoRotate&&(d._transform||d._enableTransforms(!1),A.autoRotate=d._target._gsTransform),q._onInitTween(A.proxy,H,d._tween),l}})}};q._roundProps=function(a,c){for(var f=this._overwriteProps,e=f.length;-1<--e;)(a[f[e]]||a.bezier||a.bezierThrough)&&(this._round[f[e]]=c)};q._kill=function(a){var c,f,e=this._props;for(c in this._beziers)if(c in a)for(delete this._beziers[c],delete this._func[c],f=e.length;-1<--f;)e[f]===c&&e.splice(f,1);return this._super._kill.call(this,a)}})();_gsScope._gsDefine("plugins.CSSPlugin",
["plugins.TweenPlugin","TweenLite"],function(d,c){var a,e,k,f,h=function(){d.call(this,"css");this._overwriteProps.length=0;this.setRatio=h.prototype.setRatio},l={},m=h.prototype=new d("css");m.constructor=h;h.version="1.14.2";h.API=2;h.defaultTransformPerspective=0;h.defaultSkewType="compensated";m="px";h.suffixMap={top:m,right:m,bottom:m,left:m,width:m,height:m,fontSize:m,padding:m,margin:m,perspective:m,lineHeight:""};var q,n,t,u,v,p,w=/(?:\d|\-\d|\.\d|\-\.\d)+/g,x=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
z=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|e[+-]\d+)[^0-9]/g,E=/(?:\d|\-|\+|=|#|\.)*/g,D=/opacity *= *([^)]*)/i,A=/opacity:([^;]*)/i,B=/alpha\(opacity *=.+?\)/i,F=/^(rgb|hsl)/,C=/([A-Z])/g,H=/-([a-z])/gi,I=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,J=function(a,c){return c.toUpperCase()},G=/(?:Left|Right|Width)/i,K=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,Q=Math.PI/180,N=180/Math.PI,O={},P=document,
S=P.createElement("div"),R=P.createElement("img"),T=h._internals={_specialProps:l},Y=navigator.userAgent,W=function(){var a,c=Y.indexOf("Android"),f=P.createElement("div");return t=-1!==Y.indexOf("Safari")&&-1===Y.indexOf("Chrome")&&(-1===c||3<Number(Y.substr(c+8,1))),v=t&&6>Number(Y.substr(Y.indexOf("Version/")+8,1)),u=-1!==Y.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Y)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Y))&&(p=parseFloat(RegExp.$1)),f.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",
a=f.getElementsByTagName("a")[0],a?/^0.55/.test(a.style.opacity):!1}(),X=function(a){return D.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},fa="",la="",ha=function(a,c){c=c||S;var f,e,h=c.style;if(void 0!==h[a])return a;a=a.charAt(0).toUpperCase()+a.substr(1);f=["O","Moz","ms","Ms","Webkit"];for(e=5;-1<--e&&void 0===h[f[e]+a];);return 0<=e?(la=3===e?"ms":f[e],fa="-"+la.toLowerCase()+"-",la+a):null},ba=P.defaultView?P.defaultView.getComputedStyle:
function(){},U=h.getStyle=function(a,c,f,e,h){var k;return W||"opacity"!==c?(!e&&a.style[c]?k=a.style[c]:(f=f||ba(a))?k=f[c]||f.getPropertyValue(c)||f.getPropertyValue(c.replace(C,"-$1").toLowerCase()):a.currentStyle&&(k=a.currentStyle[c]),null==h||k&&"none"!==k&&"auto"!==k&&"auto auto"!==k?k:h):X(a)},ia=T.convertToPixels=function(a,f,e,k,d){if("px"===k||!k)return e;if("auto"===k||!e)return 0;var l,m,q,n=G.test(f),t=a;l=S.style;var p=0>e;if(p&&(e=-e),"%"===k&&-1!==f.indexOf("border"))l=e/100*(n?a.clientWidth:
a.clientHeight);else{if(l.cssText="border:0 solid red;position:"+U(a,"position")+";line-height:0;","%"!==k&&t.appendChild)l[n?"borderLeftWidth":"borderTopWidth"]=e+k;else{if(t=a.parentNode||P.body,m=t._gsCache,q=c.ticker.frame,m&&n&&m.time===q)return m.width*e/100;l[n?"width":"height"]=e+k}t.appendChild(S);l=parseFloat(S[n?"offsetWidth":"offsetHeight"]);t.removeChild(S);n&&"%"===k&&!1!==h.cacheWidths&&(m=t._gsCache=t._gsCache||{},m.time=q,m.width=l/e*100);0!==l||d||(l=ia(a,f,e,k,!0))}return p?-l:
l},ra=T.calculateOffset=function(a,c,f){if("absolute"!==U(a,"position",f))return 0;var e="left"===c?"Left":"Top";f=U(a,"margin"+e,f);return a["offset"+e]-(ia(a,c,parseFloat(f),f.replace(E,""))||0)},V=function(a,c){var f,e,h={};if(c=c||ba(a,null))if(f=c.length)for(;-1<--f;)h[c[f].replace(H,J)]=c.getPropertyValue(c[f]);else for(f in c)h[f]=c[f];else if(c=a.currentStyle||a.style)for(f in c)"string"==typeof f&&void 0===h[f]&&(h[f.replace(H,J)]=c[f]);return W||(h.opacity=X(a)),e=sa(a,c,!1),h.rotation=
e.rotation,h.skewX=e.skewX,h.scaleX=e.scaleX,h.scaleY=e.scaleY,h.x=e.x,h.y=e.y,na&&(h.z=e.z,h.rotationX=e.rotationX,h.rotationY=e.rotationY,h.scaleZ=e.scaleZ),h.filters&&delete h.filters,h},ca=function(a,c,f,e,h){var k,d,l,m={},q=a.style;for(d in f)"cssText"!==d&&"length"!==d&&isNaN(d)&&(c[d]!==(k=f[d])||h&&h[d])&&-1===d.indexOf("Origin")&&("number"==typeof k||"string"==typeof k)&&(m[d]="auto"!==k||"left"!==d&&"top"!==d?""!==k&&"auto"!==k&&"none"!==k||"string"!=typeof c[d]||""===c[d].replace(y,"")?
k:0:ra(a,d),void 0!==q[d]&&(l=new za(q,d,q[d],l)));if(e)for(d in e)"className"!==d&&(m[d]=e[d]);return{difs:m,firstMPT:l}},aa={width:["Left","Right"],height:["Top","Bottom"]},da=["marginLeft","marginRight","marginTop","marginBottom"],oa=function(a,c){null!=a&&""!==a&&"auto"!==a&&"auto auto"!==a||(a="0 0");var f=a.split(" "),e=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":f[0],h=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":f[1];return null==h?h="0":"center"===h&&(h="50%"),
("center"===e||isNaN(parseFloat(e))&&-1===(e+"").indexOf("="))&&(e="50%"),c&&(c.oxp=-1!==e.indexOf("%"),c.oyp=-1!==h.indexOf("%"),c.oxr="="===e.charAt(1),c.oyr="="===h.charAt(1),c.ox=parseFloat(e.replace(y,"")),c.oy=parseFloat(h.replace(y,""))),e+" "+h+(2<f.length?" "+f[2]:"")},ta=function(a,c){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(c)},ma=function(a,c){return null==a?c:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+
"1",10)*parseFloat(a.substr(2))+c:parseFloat(a)},ua=function(a,c,e,f){var h,k,d;return null==a?d=c:"number"==typeof a?d=a:(h=a.split("_"),k=Number(h[0].replace(y,""))*(-1===a.indexOf("rad")?1:N)-("="===a.charAt(1)?0:c),h.length&&(f&&(f[e]=c+k),-1!==a.indexOf("short")&&(k%=360,k!==k%180&&(k=0>k?k+360:k-360)),-1!==a.indexOf("_cw")&&0>k?k=(k+3599999999640)%360-360*(0|k/360):-1!==a.indexOf("ccw")&&0<k&&(k=(k-3599999999640)%360-360*(0|k/360))),d=c+k),1E-6>d&&-1E-6<d&&(d=0),d},qa={aqua:[0,255,255],lime:[0,
255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Aa=function(a,c,f){return a=0>a?a+1:1<a?a-1:a,0|255*(1>6*a?c+6*(f-c)*a:.5>a?f:2>3*a?c+6*(f-c)*(2/3-a):c)+.5},Ba=h.parseColor=function(a){var c,f,e,h,k,d;return a&&""!==
a?"number"==typeof a?[a>>16,255&a>>8,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),qa[a]?qa[a]:"#"===a.charAt(0)?(4===a.length&&(c=a.charAt(1),f=a.charAt(2),e=a.charAt(3),a="#"+c+c+f+f+e+e),a=parseInt(a.substr(1),16),[a>>16,255&a>>8,255&a]):"hsl"===a.substr(0,3)?(a=a.match(w),h=Number(a[0])%360/360,k=Number(a[1])/100,d=Number(a[2])/100,f=.5>=d?d*(k+1):d+k-d*k,c=2*d-f,3<a.length&&(a[3]=Number(a[3])),a[0]=Aa(h+1/3,c,f),a[1]=Aa(h,c,f),a[2]=Aa(h-1/3,c,f),a):(a=a.match(w)||qa.transparent,
a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),3<a.length&&(a[3]=Number(a[3])),a)):qa.black},pa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(m in qa)pa+="|"+m+"\\b";var pa=RegExp(pa+")","gi"),Ga=function(a,c,f,e){if(null==a)return function(a){return a};var h,k=c?(a.match(pa)||[""])[0]:"",d=a.split(k).join("").match(z)||[],l=a.substr(0,a.indexOf(d[0])),m=")"===a.charAt(a.length-1)?")":"",q=-1!==a.indexOf(" ")?" ":",",n=d.length,t=0<n?d[0].replace(w,""):"";return n?h=c?function(a){var c,
p,w;if("number"==typeof a)a+=t;else if(e&&L.test(a)){a=a.replace(L,"|").split("|");for(w=0;a.length>w;w++)a[w]=h(a[w]);return a.join(",")}if(c=(a.match(pa)||[k])[0],p=a.split(c).join("").match(z)||[],w=p.length,n>w--)for(;n>++w;)p[w]=f?p[0|(w-1)/2]:d[w];return l+p.join(q)+q+c+m+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var c,k;if("number"==typeof a)a+=t;else if(e&&L.test(a)){a=a.replace(L,"|").split("|");for(k=0;a.length>k;k++)a[k]=h(a[k]);return a.join(",")}if(c=a.match(z)||[],k=c.length,
n>k--)for(;n>++k;)c[k]=f?c[0|(k-1)/2]:d[k];return l+c.join(q)+m}:function(a){return a}},Ca=function(a){return a=a.split(","),function(c,f,e,h,k,d,l){e=(f+"").split(" ");l={};for(f=0;4>f;f++)l[a[f]]=e[f]=e[f]||e[(f-1)/2>>0];return h.parse(c,l,k,d)}},za=(T._setPluginRatio=function(a){this.plugin.setRatio(a);for(var c,f,e=this.data,h=e.proxy,k=e.firstMPT;k;)c=h[k.v],k.r?c=Math.round(c):1E-6>c&&-1E-6<c&&(c=0),k.t[k.p]=c,k=k._next;if(e.autoRotate&&(e.autoRotate.rotation=h.rotation),1===a)for(k=e.firstMPT;k;){if(f=
k.t,f.type){if(1===f.type){c=f.xs0+f.s+f.xs1;for(a=1;f.l>a;a++)c+=f["xn"+a]+f["xs"+(a+1)];f.e=c}}else f.e=f.s+f.xs0;k=k._next}},function(a,c,f,e,h){this.t=a;this.p=c;this.v=f;this.r=h;e&&(e._prev=this,this._next=e)}),ea=(T._parseToProxy=function(a,c,f,e,h,k){var d,l,m,q=e,n={},t={};l=f._transform;var p=O;f._transform=null;O=c;e=a=f.parse(a,c,e,h);O=p;for(k&&(f._transform=l,q&&(q._prev=null,q._prev&&(q._prev._next=null)));e&&e!==q;){if(1>=e.type&&(d=e.p,t[d]=e.s+e.c,n[d]=e.s,k||(m=new za(e,"s",d,m,
e.r),e.c=0),1===e.type))for(f=e.l;0<--f;)l="xn"+f,d=e.p+"_"+l,t[d]=e.data[l],n[d]=e[l],k||(m=new za(e,l,d,m,e.rxp[l]));e=e._next}return{proxy:n,end:t,firstMPT:m,pt:a}},T.CSSPropTween=function(c,e,h,k,d,l,m,q,n,t,p){this.t=c;this.p=e;this.s=h;this.c=k;this.n=m||e;c instanceof ea||f.push(this.n);this.r=q;this.type=l||0;n&&(this.pr=n,a=!0);this.b=void 0===t?h:t;this.e=void 0===p?h+k:p;d&&(this._next=d,d._prev=this)}),xa=h.parseComplex=function(a,c,f,e,h,k,d,l,m,n){f=f||k||"";d=new ea(a,c,0,0,d,n?2:1,
null,!1,l,f,e);e+="";var t,p,u,v,B;a=f.split(", ").join(",").split(" ");c=e.split(", ").join(",").split(" ");l=a.length;var y=!1!==q;(-1!==e.indexOf(",")||-1!==f.indexOf(","))&&(a=a.join(" ").replace(L,", ").split(" "),c=c.join(" ").replace(L,", ").split(" "),l=a.length);l!==c.length&&(a=(k||"").split(" "),l=a.length);d.plugin=m;d.setRatio=n;for(f=0;l>f;f++)if(t=a[f],m=c[f],u=parseFloat(t),u||0===u)d.appendXtra("",u,ta(m,u),m.replace(x,""),y&&-1!==m.indexOf("px"),!0);else if(h&&("#"===t.charAt(0)||
qa[t]||F.test(t)))n=","===m.charAt(m.length-1)?"),":")",t=Ba(t),m=Ba(m),(k=6<t.length+m.length)&&!W&&0===m[3]?(d["xs"+d.l]+=d.l?" transparent":"transparent",d.e=d.e.split(c[f]).join("transparent")):(W||(k=!1),d.appendXtra(k?"rgba(":"rgb(",t[0],m[0]-t[0],",",!0,!0).appendXtra("",t[1],m[1]-t[1],",",!0).appendXtra("",t[2],m[2]-t[2],k?",":n,!0),k&&(t=4>t.length?1:t[3],d.appendXtra("",t,(4>m.length?1:m[3])-t,n,!1)));else if(k=t.match(w)){if(p=m.match(x),!p||p.length!==k.length)return d;for(m=n=0;k.length>
m;m++)B=k[m],v=t.indexOf(B,n),d.appendXtra(t.substr(n,v-n),Number(B),ta(p[m],B),"",y&&"px"===t.substr(v+B.length,2),0===m),n=v+B.length;d["xs"+d.l]+=t.substr(n)}else d["xs"+d.l]+=d.l?" "+t:t;if(-1!==e.indexOf("=")&&d.data){n=d.xs0+d.data.s;for(f=1;d.l>f;f++)n+=d["xs"+f]+d.data["xn"+f];d.e=n+d["xs"+f]}return d.l||(d.type=-1,d.xs0=d.e),d.xfirst||d},ja=9,m=ea.prototype;for(m.l=m.pr=0;0<--ja;)m["xn"+ja]=0,m["xs"+ja]="";m.xs0="";m._next=m._prev=m.xfirst=m.data=m.plugin=m.setRatio=m.rxp=null;m.appendXtra=
function(a,c,f,e,h,k){var d=this.l;return this["xs"+d]+=k&&d?" "+a:a||"",f||0===d||this.plugin?(this.l++,this.type=this.setRatio?2:1,this["xs"+this.l]=e||"",0<d?(this.data["xn"+d]=c+f,this.rxp["xn"+d]=h,this["xn"+d]=c,this.plugin||(this.xfirst=new ea(this,"xn"+d,c,f,this.xfirst||this,0,this.n,h,this.pr),this.xfirst.xs0=0),this):(this.data={s:c+f},this.rxp={},this.s=c,this.c=f,this.r=h,this)):(this["xs"+d]+=c+(e||""),this)};var Ha=function(a,c){c=c||{};this.p=c.prefix?ha(a)||a:a;l[a]=l[this.p]=this;
this.format=c.formatter||Ga(c.defaultValue,c.color,c.collapsible,c.multi);c.parser&&(this.parse=c.parser);this.clrs=c.color;this.multi=c.multi;this.keyword=c.keyword;this.dflt=c.defaultValue;this.pr=c.priority||0},Z=T._registerComplexSpecialProp=function(a,c,f){"object"!=typeof c&&(c={parser:f});var e=a.split(","),h=c.defaultValue;f=f||[h];for(a=0;e.length>a;a++)c.prefix=0===a&&c.prefix,c.defaultValue=f[a]||h,new Ha(e[a],c)},Oa=function(a){if(!l[a]){var c=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";
Z(a,{parser:function(a,f,e,h,k,d,m){var q=(_gsScope.GreenSockGlobals||_gsScope).com.greensock.plugins[c];q?a=(q._cssRegister(),l[e].parse(a,f,e,h,k,d,m)):(window.console&&console.log("Error: "+c+" js file not loaded."),a=k);return a}})}},m=Ha.prototype;m.parseComplex=function(a,c,f,e,h,k){var d,l,m,q,n,t,p=this.keyword;if(this.multi&&(L.test(f)||L.test(c)?(l=c.replace(L,"|").split("|"),m=f.replace(L,"|").split("|")):p&&(l=[c],m=[f])),m){q=m.length>l.length?m.length:l.length;for(d=0;q>d;d++)c=l[d]=
l[d]||this.dflt,f=m[d]=m[d]||this.dflt,p&&(n=c.indexOf(p),t=f.indexOf(p),n!==t&&(f=-1===t?m:l,f[d]+=" "+p));c=l.join(", ");f=m.join(", ")}return xa(a,this.p,c,f,this.clrs,this.dflt,e,this.pr,h,k)};m.parse=function(a,c,f,e,h,d){return this.parseComplex(a.style,this.format(U(a,this.p,k,!1,this.dflt)),this.format(c),h,d)};h.registerSpecialProp=function(a,c,f){Z(a,{parser:function(a,e,h,k,d,l){d=new ea(a,h,0,0,d,2,h,!1,f);return d.plugin=l,d.setRatio=c(a,e,k._tween,h),d},priority:f})};var va,Ia="scaleX scaleY scaleZ x y z skewX skewY rotation rotationX rotationY perspective xPercent yPercent".split(" "),
ka=ha("transform"),Pa=fa+"transform",wa=ha("transformOrigin"),na=null!==ha("perspective"),Ja=T.Transform=function(){this.skewY=0},Da=window.SVGElement,Ka=function(a,c,f){var e;a=P.createElementNS("http://www.w3.org/2000/svg",a);var h=/([a-z])([A-Z])/g;for(e in f)a.setAttributeNS(null,e.replace(h,"$1-$2").toLowerCase(),f[e]);return c.appendChild(a),a},La=document.documentElement,Qa=function(){var a,c,f,e=p||/Android/i.test(Y)&&!window.chrome;return P.createElementNS&&!e&&(a=Ka("svg",La),c=Ka("rect",
a,{width:100,height:50,x:100}),f=c.getBoundingClientRect().left,c.style[wa]="50% 50%",c.style[ka]="scale(0.5,0.5)",e=f===c.getBoundingClientRect().left,La.removeChild(a)),e}(),Ma=function(a,c,f){a=a.getBBox();c=oa(c).split(" ");f.xOrigin=(-1!==c[0].indexOf("%")?parseFloat(c[0])/100*a.width:parseFloat(c[0]))+a.x;f.yOrigin=(-1!==c[1].indexOf("%")?parseFloat(c[1])/100*a.height:parseFloat(c[1]))+a.y},sa=T.getTransform=function(a,c,f,e){if(a._gsTransform&&f&&!e)return a._gsTransform;var d,l,m,q,n,t,p,
w,u,v,B,y=f?a._gsTransform||new Ja:new Ja,A=0>y.scaleX;n=179.99*Q;var x=na?parseFloat(U(a,wa,c,!1,"0 0 0").split(" ")[2])||y.zOrigin||0:0,F=parseFloat(h.defaultTransformPerspective)||0;if(ka?d=U(a,Pa,c,!0):a.currentStyle&&(d=a.currentStyle.filter.match(K),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),y.x||0,y.y||0].join():""),d&&"none"!==d&&"matrix(1, 0, 0, 1, 0, 0)"!==d){l=(d||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[];for(d=l.length;-1<--d;)m=Number(l[d]),
l[d]=(q=m-(m|=0))?(0|1E5*q+(0>q?-.5:.5))/1E5+m:m;if(16===l.length){F=l[8];A=l[9];c=l[10];q=l[12];m=l[13];var D=l[14];if(y.zOrigin&&(D=-y.zOrigin,q=F*D-l[12],m=A*D-l[13],D=c*D+y.zOrigin-l[14]),!f||e||null==y.rotationX){var J;e=l[0];var C=l[1],H=l[2],E=l[3],M=l[4],G=l[5],z=l[6],O=l[7];l=l[11];var I=Math.atan2(z,c),L=-n>I||I>n;y.rotationX=I*N;I&&(u=Math.cos(-I),v=Math.sin(-I),t=M*u+F*v,p=G*u+A*v,w=z*u+c*v,F=M*-v+F*u,A=G*-v+A*u,c=z*-v+c*u,l=O*-v+l*u,M=t,G=p,z=w);I=Math.atan2(F,e);y.rotationY=I*N;I&&(B=
-n>I||I>n,u=Math.cos(-I),v=Math.sin(-I),t=e*u-F*v,p=C*u-A*v,w=H*u-c*v,A=C*v+A*u,c=H*v+c*u,l=E*v+l*u,e=t,C=p,H=w);I=Math.atan2(C,G);y.rotation=I*N;I&&(J=-n>I||I>n,u=Math.cos(-I),v=Math.sin(-I),e=e*u+M*v,p=C*u+G*v,G=C*-v+G*u,z=H*-v+z*u,C=p);J&&L?y.rotation=y.rotationX=0:J&&B?y.rotation=y.rotationY=0:B&&L&&(y.rotationY=y.rotationX=0);y.scaleX=(0|1E5*Math.sqrt(e*e+C*C)+.5)/1E5;y.scaleY=(0|1E5*Math.sqrt(G*G+A*A)+.5)/1E5;y.scaleZ=(0|1E5*Math.sqrt(z*z+c*c)+.5)/1E5;y.skewX=0;y.perspective=l?1/(0>l?-l:l):
0;y.x=q;y.y=m;y.z=D}}else na&&!e&&l.length&&y.x===l[4]&&y.y===l[5]&&(y.rotationX||y.rotationY)||void 0!==y.x&&"none"===U(a,"display",c)||(t=(n=6<=l.length)?l[0]:1,w=l[1]||0,p=l[2]||0,u=n?l[3]:1,y.x=l[4]||0,y.y=l[5]||0,l=Math.sqrt(t*t+w*w),n=Math.sqrt(u*u+p*p),t=t||w?Math.atan2(w,t)*N:y.rotation||0,p=p||u?Math.atan2(p,u)*N+t:y.skewX||0,w=l-Math.abs(y.scaleX||0),u=n-Math.abs(y.scaleY||0),90<Math.abs(p)&&270>Math.abs(p)&&(A?(l*=-1,p+=0>=t?180:-180,t+=0>=t?180:-180):(n*=-1,p+=0>=p?180:-180)),v=(t-y.rotation)%
180,B=(p-y.skewX)%180,(void 0===y.skewX||2E-5<w||-2E-5>w||2E-5<u||-2E-5>u||-179.99<v&&179.99>v&&0|1E5*v||-179.99<B&&179.99>B&&0|1E5*B)&&(y.scaleX=l,y.scaleY=n,y.rotation=t,y.skewX=p),na&&(y.rotationX=y.rotationY=y.z=0,y.perspective=F,y.scaleZ=1));y.zOrigin=x;for(d in y)2E-5>y[d]&&-2E-5<y[d]&&(y[d]=0)}else y={x:0,y:0,z:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,skewY:0,perspective:F,rotation:0,rotationX:0,rotationY:0,zOrigin:0};return f&&(a._gsTransform=y),y.svg=Da&&a instanceof Da&&a.parentNode instanceof
Da,y.svg&&(Ma(a,U(a,wa,k,!1,"50% 50%")+"",y),va=h.useSVGTransformAttr||Qa),y.xPercent=y.yPercent=0,y},Ra=function(a){var c,f,e=this.data,h=-e.rotation*Q,k=h+e.skewX*Q,d=(0|Math.cos(h)*e.scaleX*1E5)/1E5,l=(0|Math.sin(h)*e.scaleX*1E5)/1E5,m=(0|Math.sin(k)*-e.scaleY*1E5)/1E5,q=(0|Math.cos(k)*e.scaleY*1E5)/1E5,k=this.t.style;if(h=this.t.currentStyle){f=l;l=-m;m=-f;c=h.filter;k.filter="";var n,t;f=this.t.offsetWidth;var w=this.t.offsetHeight,u="absolute"!==h.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+
d+", M12="+l+", M21="+m+", M22="+q,B=e.x+f*e.xPercent/100,y=e.y+w*e.yPercent/100;if(null!=e.ox&&(n=(e.oxp?.01*f*e.ox:e.ox)-f/2,t=(e.oyp?.01*w*e.oy:e.oy)-w/2,B+=n-(n*d+t*l),y+=t-(n*m+t*q)),u?(n=f/2,t=w/2,v+=", Dx="+(n-(n*d+t*l)+B)+", Dy="+(t-(n*m+t*q)+y)+")"):v+=", sizingMethod='auto expand')",k.filter=-1!==c.indexOf("DXImageTransform.Microsoft.Matrix(")?c.replace(M,v):v+" "+c,(0===a||1===a)&&1===d&&0===l&&0===m&&1===q&&(u&&-1===v.indexOf("Dx=0, Dy=0")||D.test(c)&&100!==parseFloat(RegExp.$1)||-1===
c.indexOf(c.indexOf("Alpha"))&&k.removeAttribute("filter")),!u)for(a=8>p?1:-1,n=e.ieOffsetX||0,t=e.ieOffsetY||0,e.ieOffsetX=Math.round((f-((0>d?-d:d)*f+(0>l?-l:l)*w))/2+B),e.ieOffsetY=Math.round((w-((0>q?-q:q)*w+(0>m?-m:m)*f))/2+y),ja=0;4>ja;ja++)d=da[ja],l=h[d],f=-1!==l.indexOf("px")?parseFloat(l):ia(this.t,d,parseFloat(l),l.replace(E,""))||0,l=f!==e[d]?2>ja?-e.ieOffsetX:-e.ieOffsetY:2>ja?n-e.ieOffsetX:t-e.ieOffsetY,k[d]=(e[d]=Math.round(f-l*(0===ja||2===ja?1:a)))+"px"}},Ea=T.set3DTransformRatio=
function(a){var c,f,e,h,k,d,l,m,q,n,t,p,w,v,B,y,A,F,x,D,J,C=this.data,H=this.t.style,M=C.rotation*Q,E=C.scaleX,G=C.scaleY,z=C.scaleZ,U=C.x,I=C.y,O=C.z,L=C.perspective;if(!(1!==a&&0!==a||"auto"!==C.force3D||C.rotationY||C.rotationX||1!==z||L||O))return Na.call(this,a),void 0;u&&(1E-4>E&&-1E-4<E&&(E=z=2E-5),1E-4>G&&-1E-4<G&&(G=z=2E-5),!L||C.z||C.rotationX||C.rotationY||(L=0));if(M||C.skewX)y=Math.cos(M),A=Math.sin(M),a=y,h=A,C.skewX&&(M-=C.skewX*Q,y=Math.cos(M),A=Math.sin(M),"simple"===C.skewType&&
(F=Math.tan(C.skewX*Q),F=Math.sqrt(1+F*F),y*=F,A*=F)),c=-A,k=y;else{if(!(C.rotationY||C.rotationX||1!==z||L||C.svg))return H[ka]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+U+"px,"+I+"px,"+O+"px)"+(1!==E||1!==G?" scale("+E+","+G+")":""),void 0;a=k=1;c=h=0}n=1;f=e=d=l=m=q=t=p=w=0;v=L?-1/L:0;B=C.zOrigin;(M=C.rotationY*Q)&&(y=Math.cos(M),A=Math.sin(M),m=n*-A,p=v*-A,f=a*A,d=h*A,n*=y,v*=y,a*=y,h*=y);(M=C.rotationX*Q)&&(y=Math.cos(M),A=Math.sin(M),F=
c*y+f*A,x=k*y+d*A,D=q*y+n*A,J=w*y+v*A,f=c*-A+f*y,d=k*-A+d*y,n=q*-A+n*y,v=w*-A+v*y,c=F,k=x,q=D,w=J);1!==z&&(f*=z,d*=z,n*=z,v*=z);1!==G&&(c*=G,k*=G,q*=G,w*=G);1!==E&&(a*=E,h*=E,m*=E,p*=E);B&&(t-=B,e=f*t,l=d*t,t=n*t+B);C.svg&&(e+=C.xOrigin-(C.xOrigin*a+C.yOrigin*c),l+=C.yOrigin-(C.xOrigin*h+C.yOrigin*k));e=(F=(e+=U)-(e|=0))?(0|1E5*F+(0>F?-.5:.5))/1E5+e:e;l=(F=(l+=I)-(l|=0))?(0|1E5*F+(0>F?-.5:.5))/1E5+l:l;t=(F=(t+=O)-(t|=0))?(0|1E5*F+(0>F?-.5:.5))/1E5+t:t;H[ka]=(C.xPercent||C.yPercent?"translate("+C.xPercent+
"%,"+C.yPercent+"%) matrix3d(":"matrix3d(")+[(0|1E5*a)/1E5,(0|1E5*h)/1E5,(0|1E5*m)/1E5,(0|1E5*p)/1E5,(0|1E5*c)/1E5,(0|1E5*k)/1E5,(0|1E5*q)/1E5,(0|1E5*w)/1E5,(0|1E5*f)/1E5,(0|1E5*d)/1E5,(0|1E5*n)/1E5,(0|1E5*v)/1E5,e,l,t,L?1+-t/L:1].join()+")"},Na=T.set2DTransformRatio=function(a){var c,f,e,h,k,d,l,m,q,n=this.data,t=this.t,p=t.style,w=n.x,u=n.y;return!(n.rotationX||n.rotationY||n.z||!0===n.force3D||"auto"===n.force3D&&1!==a&&0!==a)||n.svg&&va||!na?(e=n.scaleX,h=n.scaleY,n.rotation||n.skewX||n.svg?(c=
n.rotation*Q,f=c-n.skewX*Q,k=Math.cos(c)*e,d=Math.sin(c)*e,l=Math.sin(f)*-h,m=Math.cos(f)*h,n.svg&&(w+=n.xOrigin-(n.xOrigin*k+n.yOrigin*l),u+=n.yOrigin-(n.xOrigin*d+n.yOrigin*m),1E-6>w&&-1E-6<w&&(w=0),1E-6>u&&-1E-6<u&&(u=0)),q=(0|1E5*k)/1E5+","+(0|1E5*d)/1E5+","+(0|1E5*l)/1E5+","+(0|1E5*m)/1E5+","+w+","+u+")",n.svg&&va?t.setAttribute("transform","matrix("+q):p[ka]=(n.xPercent||n.yPercent?"translate("+n.xPercent+"%,"+n.yPercent+"%) matrix(":"matrix(")+q):p[ka]=(n.xPercent||n.yPercent?"translate("+
n.xPercent+"%,"+n.yPercent+"%) matrix(":"matrix(")+e+",0,0,"+h+","+w+","+u+")",void 0):(this.setRatio=Ea,Ea.call(this,a),void 0)};Z("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(a,c,f,e,d,l,m){if(e._transform)return d;var n,q,t,p,w,u;c=e._transform=sa(a,k,!0,m.parseTransform);
var v=a.style,y=Ia.length,B={};if("string"==typeof m.transform&&ka)t=S.style,t[ka]=m.transform,t.display="block",t.position="absolute",P.body.appendChild(S),n=sa(S,null,!1),P.body.removeChild(S);else if("object"==typeof m){if(n={scaleX:ma(null!=m.scaleX?m.scaleX:m.scale,c.scaleX),scaleY:ma(null!=m.scaleY?m.scaleY:m.scale,c.scaleY),scaleZ:ma(m.scaleZ,c.scaleZ),x:ma(m.x,c.x),y:ma(m.y,c.y),z:ma(m.z,c.z),xPercent:ma(m.xPercent,c.xPercent),yPercent:ma(m.yPercent,c.yPercent),perspective:ma(m.transformPerspective,
c.perspective)},u=m.directionalRotation,null!=u)if("object"==typeof u)for(t in u)m[t]=u[t];else m.rotation=u;"string"==typeof m.x&&-1!==m.x.indexOf("%")&&(n.x=0,n.xPercent=ma(m.x,c.xPercent));"string"==typeof m.y&&-1!==m.y.indexOf("%")&&(n.y=0,n.yPercent=ma(m.y,c.yPercent));n.rotation=ua("rotation"in m?m.rotation:"shortRotation"in m?m.shortRotation+"_short":"rotationZ"in m?m.rotationZ:c.rotation,c.rotation,"rotation",B);na&&(n.rotationX=ua("rotationX"in m?m.rotationX:"shortRotationX"in m?m.shortRotationX+
"_short":c.rotationX||0,c.rotationX,"rotationX",B),n.rotationY=ua("rotationY"in m?m.rotationY:"shortRotationY"in m?m.shortRotationY+"_short":c.rotationY||0,c.rotationY,"rotationY",B));n.skewX=null==m.skewX?c.skewX:ua(m.skewX,c.skewX);n.skewY=null==m.skewY?c.skewY:ua(m.skewY,c.skewY);(q=n.skewY-c.skewY)&&(n.skewX+=q,n.rotation+=q)}na&&null!=m.force3D&&(c.force3D=m.force3D,w=!0);c.skewType=m.skewType||c.skewType||h.defaultSkewType;for((q=c.force3D||c.z||c.rotationX||c.rotationY||n.z||n.rotationX||n.rotationY||
n.perspective)||null==m.scale||(n.scaleZ=1);-1<--y;)f=Ia[y],p=n[f]-c[f],(1E-6<p||-1E-6>p||null!=m[f]||null!=O[f])&&(w=!0,d=new ea(c,f,c[f],p,d),f in B&&(d.e=B[f]),d.xs0=0,d.plugin=l,e._overwriteProps.push(d.n));return p=m.transformOrigin,p&&c.svg&&(Ma(a,p,n),d=new ea(c,"xOrigin",c.xOrigin,n.xOrigin-c.xOrigin,d,-1,"transformOrigin"),d.b=c.xOrigin,d.e=d.xs0=n.xOrigin,d=new ea(c,"yOrigin",c.yOrigin,n.yOrigin-c.yOrigin,d,-1,"transformOrigin"),d.b=c.yOrigin,d.e=d.xs0=n.yOrigin,p="0px 0px"),(p||na&&q&&
c.zOrigin)&&(ka?(w=!0,f=wa,p=(p||U(a,f,k,!1,"50% 50%"))+"",d=new ea(v,f,0,0,d,-1,"transformOrigin"),d.b=v[f],d.plugin=l,na?(t=c.zOrigin,p=p.split(" "),c.zOrigin=(2<p.length&&(0===t||"0px"!==p[2])?parseFloat(p[2]):t)||0,d.xs0=d.e=p[0]+" "+(p[1]||"50%")+" 0px",d=new ea(c,"zOrigin",0,0,d,-1,d.n),d.b=t,d.xs0=d.e=c.zOrigin):d.xs0=d.e=p):oa(p+"",c)),w&&(e._transformType=c.svg&&va||!q&&3!==this._transformType?2:3),d},prefix:!0});Z("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,
keyword:"inset"});Z("borderRadius",{defaultValue:"0px",parser:function(a,c,f,h,d){c=this.format(c);var l,m,n,q,t,p,w,u,v,B,y,A,F,x,D=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=a.style;h=parseFloat(a.offsetWidth);u=parseFloat(a.offsetHeight);c=c.split(" ");for(l=0;D.length>l;l++)this.p.indexOf("border")&&(D[l]=ha(D[l])),q=n=U(a,D[l],k,!1,"0px"),-1!==q.indexOf(" ")&&(n=q.split(" "),q=n[0],n=n[1]),t=m=c[l],p=parseFloat(q),B=q.substr((p+"").length),
(y="="===t.charAt(1))?(w=parseInt(t.charAt(0)+"1",10),t=t.substr(2),w*=parseFloat(t),v=t.substr((w+"").length-(0>w?1:0))||""):(w=parseFloat(t),v=t.substr((w+"").length)),""===v&&(v=e[f]||B),v!==B&&(A=ia(a,"borderLeft",p,B),F=ia(a,"borderTop",p,B),"%"===v?(q=A/h*100+"%",n=F/u*100+"%"):"em"===v?(x=ia(a,"borderLeft",1,"em"),q=A/x+"em",n=F/x+"em"):(q=A+"px",n=F+"px"),y&&(t=parseFloat(q)+w+v,m=parseFloat(n)+w+v)),d=xa(C,D[l],q+" "+n,t+" "+m,!1,"0px",d);return d},prefix:!0,formatter:Ga("0px 0px 0px 0px",
!1,!0)});Z("backgroundPosition",{defaultValue:"0 0",parser:function(a,c,f,e,h,d){var l,m,n;f=k||ba(a,null);f=this.format((f?p?f.getPropertyValue("background-position-x")+" "+f.getPropertyValue("background-position-y"):f.getPropertyValue("background-position"):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0");var q=this.format(c);if(-1!==f.indexOf("%")!=(-1!==q.indexOf("%"))&&(l=U(a,"backgroundImage").replace(I,""),l&&"none"!==l)){c=f.split(" ");e=q.split(" ");R.setAttribute("src",
l);for(l=2;-1<--l;)f=c[l],m=-1!==f.indexOf("%"),m!==(-1!==e[l].indexOf("%"))&&(n=0===l?a.offsetWidth-R.width:a.offsetHeight-R.height,c[l]=m?parseFloat(f)/100*n+"px":100*(parseFloat(f)/n)+"%");f=c.join(" ")}return this.parseComplex(a.style,f,q,h,d)},formatter:oa});Z("backgroundSize",{defaultValue:"0 0",formatter:oa});Z("perspective",{defaultValue:"0px",prefix:!0});Z("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0});Z("transformStyle",{prefix:!0});Z("backfaceVisibility",{prefix:!0});Z("userSelect",
{prefix:!0});Z("margin",{parser:Ca("marginTop,marginRight,marginBottom,marginLeft")});Z("padding",{parser:Ca("paddingTop,paddingRight,paddingBottom,paddingLeft")});Z("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,c,f,e,h,d){var l,m,n;return 9>p?(m=a.currentStyle,n=8>p?" ":",",l="rect("+m.clipTop+n+m.clipRight+n+m.clipBottom+n+m.clipLeft+")",c=this.format(c).split(",").join(n)):(l=this.format(U(a,this.p,k,!1,this.dflt)),c=this.format(c)),this.parseComplex(a.style,l,c,h,d)}});Z("textShadow",
{defaultValue:"0px 0px 0px #999",color:!0,multi:!0});Z("autoRound,strictUnits",{parser:function(a,c,f,e,h){return h}});Z("border",{defaultValue:"0px solid #000",parser:function(a,c,f,e,h,d){return this.parseComplex(a.style,this.format(U(a,"borderTopWidth",k,!1,"0px")+" "+U(a,"borderTopStyle",k,!1,"solid")+" "+U(a,"borderTopColor",k,!1,"#000")),this.format(c),h,d)},color:!0,formatter:function(a){var c=a.split(" ");return c[0]+" "+(c[1]||"solid")+" "+(a.match(pa)||["#000"])[0]}});Z("borderWidth",{parser:Ca("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")});
Z("float,cssFloat,styleFloat",{parser:function(a,c,f,e,h){a=a.style;e="cssFloat"in a?"cssFloat":"styleFloat";return new ea(a,e,0,0,h,-1,f,!1,0,a[e],c)}});var Sa=function(a){var c,f=this.t,e=f.filter||U(this.data,"filter")||"";a=0|this.s+this.c*a;100===a&&(-1===e.indexOf("atrix(")&&-1===e.indexOf("radient(")&&-1===e.indexOf("oader(")?(f.removeAttribute("filter"),c=!U(this.data,"filter")):(f.filter=e.replace(B,""),c=!0));c||(this.xn1&&(f.filter=e=e||"alpha(opacity="+a+")"),-1===e.indexOf("pacity")?
0===a&&this.xn1||(f.filter=e+" alpha(opacity="+a+")"):f.filter=e.replace(D,"opacity="+a))};Z("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,c,f,e,h,d){var l=parseFloat(U(a,"opacity",k,!1,"1")),m=a.style,n="autoAlpha"===f;return"string"==typeof c&&"="===c.charAt(1)&&(c=("-"===c.charAt(0)?-1:1)*parseFloat(c.substr(2))+l),n&&1===l&&"hidden"===U(a,"visibility",k)&&0!==c&&(l=0),W?h=new ea(m,"opacity",l,c-l,h):(h=new ea(m,"opacity",100*l,100*(c-l),h),h.xn1=n?1:0,m.zoom=1,h.type=2,h.b="alpha(opacity="+
h.s+")",h.e="alpha(opacity="+(h.s+h.c)+")",h.data=a,h.plugin=d,h.setRatio=Sa),n&&(h=new ea(m,"visibility",0,0,h,-1,null,!1,0,0!==l?"inherit":"hidden",0===c?"hidden":"inherit"),h.xs0="inherit",e._overwriteProps.push(h.n),e._overwriteProps.push(f)),h}});var Fa=function(a,c){c&&(a.removeProperty?("ms"===c.substr(0,2)&&(c="M"+c.substr(1)),a.removeProperty(c.replace(C,"-$1").toLowerCase())):a.removeAttribute(c))},Ta=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?
this.b:this.e);for(var c=this.data,f=this.t.style;c;)c.v?f[c.p]=c.v:Fa(f,c.p),c=c._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Z("className",{parser:function(c,f,e,h,d,l,m){var n,q,t,p,w=c.getAttribute("class")||"",u=c.style.cssText;if(d=h._classNamePT=new ea(c,e,0,0,d,2),d.setRatio=Ta,d.pr=-11,a=!0,d.b=w,e=V(c,k),q=c._gsClassPT){t={};for(p=q.data;p;)t[p.p]=1,p=p._next;q.setRatio(1)}return c._gsClassPT=
d,d.e="="!==f.charAt(1)?f:w.replace(RegExp("\\s*\\b"+f.substr(2)+"\\b"),"")+("+"===f.charAt(0)?" "+f.substr(2):""),h._tween._duration&&(c.setAttribute("class",d.e),n=ca(c,e,V(c),m,t),c.setAttribute("class",w),d.data=n.firstMPT,c.style.cssText=u,d=d.xfirst=h.parse(c,n.difs,d,l)),d}});var Ua=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var c,f,e,h=this.t.style,d=l.transform.parse;if("all"===this.e)h.cssText="",e=!0;else for(a=this.e.split(" ").join("").split(","),
f=a.length;-1<--f;)c=a[f],l[c]&&(l[c].parse===d?e=!0:c="transformOrigin"===c?wa:l[c].p),Fa(h,c);e&&(Fa(h,ka),this.t._gsTransform&&delete this.t._gsTransform)}};Z("clearProps",{parser:function(c,f,e,h,d){return d=new ea(c,e,0,0,d,2),d.setRatio=Ua,d.e=f,d.pr=-10,d.data=h._tween,a=!0,d}});m=["bezier","throwProps","physicsProps","physics2D"];for(ja=m.length;ja--;)Oa(m[ja]);m=h.prototype;m._firstPT=null;m._onInitTween=function(c,d,l){if(!c.nodeType)return!1;this._target=c;this._tween=l;this._vars=d;q=
d.autoRound;a=!1;e=d.suffixMap||h.suffixMap;k=ba(c,"");f=this._overwriteProps;var m,p,w,u,B=c.style;if(n&&""===B.zIndex&&(m=U(c,"zIndex",k),("auto"===m||""===m)&&this._addLazySet(B,"zIndex",0)),"string"==typeof d&&(w=B.cssText,m=V(c,k),B.cssText=w+";"+d,m=ca(c,m,V(c)).difs,!W&&A.test(d)&&(m.opacity=parseFloat(RegExp.$1)),d=m,B.cssText=w),this._firstPT=l=this.parse(c,d,null),this._transformType){d=3===this._transformType;ka?t&&(n=!0,""===B.zIndex&&(p=U(c,"zIndex",k),("auto"===p||""===p)&&this._addLazySet(B,
"zIndex",0)),v&&this._addLazySet(B,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(d?"visible":"hidden"))):B.zoom=1;for(p=l;p&&p._next;)p=p._next;m=new ea(c,"transform",0,0,null,2);this._linkCSSP(m,null,p);m.setRatio=d&&na?Ea:ka?Na:Ra;m.data=this._transform||sa(c,k,!0);f.pop()}if(a){for(;l;){c=l._next;for(p=w;p&&p.pr>l.pr;)p=p._next;(l._prev=p?p._prev:u)?l._prev._next=l:w=l;(l._next=p)?p._prev=l:u=l;l=c}this._firstPT=w}return!0};m.parse=function(a,c,f,h){var d,m,n,t,p,w,u,v,B,y=a.style;
for(d in c){p=c[d];if(m=l[d])f=m.parse(a,p,d,this,f,h,c);else if(m=U(a,d,k)+"",v="string"==typeof p,"color"===d||"fill"===d||"stroke"===d||-1!==d.indexOf("Color")||v&&F.test(p))v||(p=Ba(p),p=(3<p.length?"rgba(":"rgb(")+p.join(",")+")"),f=xa(y,d,m,p,!0,"transparent",f,0,h);else if(!v||-1===p.indexOf(" ")&&-1===p.indexOf(",")){w=(n=parseFloat(m))||0===n?m.substr((n+"").length):"";if(""===m||"auto"===m)if("width"===d||"height"===d){n=a;var A=d;w=k;B=parseFloat("width"===A?n.offsetWidth:n.offsetHeight);
var A=aa[A],x=A.length;for(w=w||ba(n,null);-1<--x;)B-=parseFloat(U(n,"padding"+A[x],w,!0))||0,B-=parseFloat(U(n,"border"+A[x]+"Width",w,!0))||0;n=B;w="px"}else"left"===d||"top"===d?(n=ra(a,d,k),w="px"):(n="opacity"!==d?0:1,w="");(B=v&&"="===p.charAt(1))?(t=parseInt(p.charAt(0)+"1",10),p=p.substr(2),t*=parseFloat(p),u=p.replace(E,"")):(t=parseFloat(p),u=v?p.substr((t+"").length)||"":"");""===u&&(u=d in e?e[d]:w);p=t||0===t?(B?t+n:t)+u:c[d];w!==u&&""!==u&&(t||0===t)&&n&&(n=ia(a,d,n,w),"%"===u?(n/=ia(a,
d,100,"%")/100,!0!==c.strictUnits&&(m=n+"%")):"em"===u?n/=ia(a,d,1,"em"):"px"!==u&&(t=ia(a,d,t,u),u="px"),B&&(t||0===t)&&(p=t+n+u));B&&(t+=n);!n&&0!==n||!t&&0!==t?void 0!==y[d]&&(p||"NaN"!=p+""&&null!=p)?(f=new ea(y,d,t||n||0,0,f,-1,d,!1,0,m,p),f.xs0="none"!==p||"display"!==d&&-1===d.indexOf("Style")?p:m):window.console&&console.log("invalid "+d+" tween value: "+c[d]):(f=new ea(y,d,n,t-n,f,0,d,!1!==q&&("px"===u||"zIndex"===d),0,m,p),f.xs0=u)}else f=xa(y,d,m,p,!0,null,f,0,h);h&&f&&!f.plugin&&(f.plugin=
h)}return f};m.setRatio=function(a){var c,f,e,h=this._firstPT;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1E-6===this._tween._rawPrevTime)for(;h;){if(c=h.c*a+h.s,h.r?c=Math.round(c):1E-6>c&&-1E-6<c&&(c=0),h.type)if(1===h.type)if(e=h.l,2===e)h.t[h.p]=h.xs0+c+h.xs1+h.xn1+h.xs2;else if(3===e)h.t[h.p]=h.xs0+c+h.xs1+h.xn1+h.xs2+h.xn2+h.xs3;else if(4===e)h.t[h.p]=h.xs0+c+h.xs1+h.xn1+h.xs2+h.xn2+h.xs3+
h.xn3+h.xs4;else if(5===e)h.t[h.p]=h.xs0+c+h.xs1+h.xn1+h.xs2+h.xn2+h.xs3+h.xn3+h.xs4+h.xn4+h.xs5;else{f=h.xs0+c+h.xs1;for(e=1;h.l>e;e++)f+=h["xn"+e]+h["xs"+(e+1)];h.t[h.p]=f}else-1===h.type?h.t[h.p]=h.xs0:h.setRatio&&h.setRatio(a);else h.t[h.p]=c+h.xs0;h=h._next}else for(;h;)2!==h.type?h.t[h.p]=h.b:h.setRatio(a),h=h._next;else for(;h;)2!==h.type?h.t[h.p]=h.e:h.setRatio(a),h=h._next};m._enableTransforms=function(a){this._transform=this._transform||sa(this._target,k,!0);this._transformType=this._transform.svg&&
va||!a&&3!==this._transformType?2:3};var Va=function(){this.t[this.p]=this.e;this.data._linkCSSP(this,this._next,null,!0)};m._addLazySet=function(a,c,f){a=this._firstPT=new ea(a,c,0,0,this._firstPT,2);a.e=f;a.setRatio=Va;a.data=this};m._linkCSSP=function(a,c,f,e){return a&&(c&&(c._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,e=!0),f?f._next=a:e||null!==this._firstPT||(this._firstPT=a),a._next=c,a._prev=f),a};m._kill=function(a){var c,
f,e,h=a;if(a.autoAlpha||a.alpha){h={};for(f in a)h[f]=a[f];h.opacity=1;h.autoAlpha&&(h.visibility=1)}return a.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),d.prototype._kill.call(this,h)};var ya=function(a,c,f){var e,h,d;if(a.slice)for(e=a.length;-1<--e;)ya(a[e],c,f);else for(a=a.childNodes,e=a.length;-1<--e;)h=a[e],d=h.type,
h.style&&(c.push(V(h)),f&&f.push(h)),1!==d&&9!==d&&11!==d||!h.childNodes.length||ya(h,c,f)};return h.cascadeTo=function(a,f,e){var h,d,k=c.to(a,f,e),l=[k],m=[],n=[],q=[],t=c._internals.reservedProps;a=k._targets||k.target;ya(a,m,q);k.render(f,!0);ya(a,n);k.render(0,!0);k._enabled(!0);for(a=q.length;-1<--a;)if(h=ca(q[a],m[a],n[a]),h.firstMPT){h=h.difs;for(d in e)t[d]&&(h[d]=e[d]);l.push(c.to(q[a],f,h))}return l},d.activate([h]),h},!0);(function(){var d=_gsScope._gsDefine.plugin({propName:"roundProps",
priority:-1,API:2,init:function(c,a,e){return this._tween=e,!0}}).prototype;d._onInitAllProps=function(){for(var c,a,e,d=this._tween,f=d.vars.roundProps instanceof Array?d.vars.roundProps:d.vars.roundProps.split(","),h=f.length,l={},m=d._propLookup.roundProps;-1<--h;)l[f[h]]=1;for(h=f.length;-1<--h;)for(c=f[h],a=d._firstPT;a;)e=a._next,a.pg?a.t._roundProps(l,!0):a.n===c&&(this._add(a.t,c,a.s,a.c),e&&(e._prev=a._prev),a._prev?a._prev._next=e:d._firstPT===a&&(d._firstPT=e),a._next=a._prev=null,d._propLookup[c]=
m),a=e;return!1};d._add=function(c,a,e,d){this._addTween(c,a,e,e+d,a,!0);this._overwriteProps.push(a)}})();_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.3.3",init:function(d,c){var a,e;if("function"!=typeof d.setAttribute)return!1;this._target=d;this._proxy={};this._start={};this._end={};for(a in c)this._start[a]=this._proxy[a]=e=d.getAttribute(a),e=this._addTween(this._proxy,a,parseFloat(e),c[a],a),this._end[a]=e?e.s+e.c:c[a],this._overwriteProps.push(a);return!0},set:function(d){this._super.setRatio.call(this,
d);for(var c=this._overwriteProps,a=c.length,e=1===d?this._end:d?this._proxy:this._start;-1<--a;)d=c[a],this._target.setAttribute(d,e[d]+"")}});_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(d,c){"object"!=typeof c&&(c={rotation:c});this.finals={};var a,e,k,f,h,l,m=!0===c.useRadians?2*Math.PI:360;for(a in c)"useRadians"!==a&&(l=(c[a]+"").split("_"),e=l[0],k=parseFloat("function"!=typeof d[a]?d[a]:d[a.indexOf("set")||"function"!=typeof d["get"+a.substr(3)]?
a:"get"+a.substr(3)]()),f=this.finals[a]="string"==typeof e&&"="===e.charAt(1)?k+parseInt(e.charAt(0)+"1",10)*Number(e.substr(2)):Number(e)||0,h=f-k,l.length&&(e=l.join("_"),-1!==e.indexOf("short")&&(h%=m,h!==h%(m/2)&&(h=0>h?h+m:h-m)),-1!==e.indexOf("_cw")&&0>h?h=(h+9999999999*m)%m-(0|h/m)*m:-1!==e.indexOf("ccw")&&0<h&&(h=(h-9999999999*m)%m-(0|h/m)*m)),(1E-6<h||-1E-6>h)&&(this._addTween(d,a,k,k+h,a),this._overwriteProps.push(a)));return!0},set:function(d){if(1!==d)this._super.setRatio.call(this,d);
else for(d=this._firstPT;d;)d.f?d.t[d.p](this.finals[d.p]):d.t[d.p]=this.finals[d.p],d=d._next}})._autoCSS=!0;_gsScope._gsDefine("easing.Back",["easing.Ease"],function(d){var c,a,e,k=_gsScope.GreenSockGlobals||_gsScope,f=2*Math.PI,h=Math.PI/2,l=k.com.greensock._class,m=function(a,c){var f=l("easing."+a,function(){},!0),e=f.prototype=new d;return e.constructor=f,e.getRatio=c,f},q=d.register||function(){},n=function(a,c,f,e){c=l("easing."+a,{easeOut:new c,easeIn:new f,easeInOut:new e},!0);return q(c,
a),c},t=function(a,c,f){this.t=a;this.v=c;f&&(this.next=f,f.prev=this,this.c=f.v-c,this.gap=f.t-a)},u=function(a,c){var f=l("easing."+a,function(a){this._p1=a||0===a?a:1.70158;this._p2=1.525*this._p1},!0),e=f.prototype=new d;return e.constructor=f,e.getRatio=c,e.config=function(a){return new f(a)},f},u=n("Back",u("BackOut",function(a){return--a*a*((this._p1+1)*a+this._p1)+1}),u("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),u("BackInOut",function(a){return 1>(a*=2)?.5*a*a*((this._p2+
1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),v=l("easing.SlowMo",function(a,c,f){null==a?a=.7:1<a&&(a=1);this._p=1!==a?c||0===c?c:.7:0;this._p1=(1-a)/2;this._p2=a;this._p3=this._p1+this._p2;this._calcEnd=!0===f},!0),p=v.prototype=new d;return p.constructor=v,p.getRatio=function(a){var c=a+(.5-a)*this._p;return this._p1>a?this._calcEnd?1-(a=1-a/this._p1)*a:c-(a=1-a/this._p1)*a*a*a*c:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:c+(a-c)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?
1:c},v.ease=new v(.7,.7),p.config=v.config=function(a,c,f){return new v(a,c,f)},c=l("easing.SteppedEase",function(a){a=a||1;this._p1=1/a;this._p2=a+1},!0),p=c.prototype=new d,p.constructor=c,p.getRatio=function(a){return 0>a?a=0:1<=a&&(a=.999999999),(this._p2*a>>0)*this._p1},p.config=c.config=function(a){return new c(a)},a=l("easing.RoughEase",function(a){a=a||{};for(var c,f,e,h,k=a.taper||"none",l=[],m=0,n=h=0|(a.points||20),q=!1!==a.randomize,p=!0===a.clamp,u=a.template instanceof d?a.template:
null,v="number"==typeof a.strength?.4*a.strength:.4;-1<--n;)a=q?Math.random():1/h*n,c=u?u.getRatio(a):a,"none"===k?f=v:"out"===k?(e=1-a,f=e*e*v):"in"===k?f=a*a*v:.5>a?(e=2*a,f=.5*e*e*v):(e=2*(1-a),f=.5*e*e*v),q?c+=Math.random()*f-.5*f:n%2?c+=.5*f:c-=.5*f,p&&(1<c?c=1:0>c&&(c=0)),l[m++]={x:a,y:c};l.sort(function(a,c){return a.x-c.x});f=new t(1,1,null);for(n=h;-1<--n;)h=l[n],f=new t(h.x,h.y,f);this._prev=new t(0,0,0!==f.t?f:f.next)},!0),p=a.prototype=new d,p.constructor=a,p.getRatio=function(a){var c=
this._prev;if(a>c.t){for(;c.next&&a>=c.t;)c=c.next;c=c.prev}else for(;c.prev&&c.t>=a;)c=c.prev;return this._prev=c,c.v+(a-c.t)/c.gap*c.c},p.config=function(c){return new a(c)},a.ease=new a,n("Bounce",m("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),m("BounceIn",function(a){return 1/2.75>(a=1-a)?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*
a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),m("BounceInOut",function(a){var c=.5>a;return a=c?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,c?.5*(1-a):.5*a+.5})),n("Circ",m("CircOut",function(a){return Math.sqrt(1- --a*a)}),m("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),m("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),e=function(a,c,e){var h=
l("easing."+a,function(a,c){this._p1=a||1;this._p2=c||e;this._p3=this._p2/f*(Math.asin(1/this._p1)||0)},!0);a=h.prototype=new d;return a.constructor=h,a.getRatio=c,a.config=function(a,c){return new h(a,c)},h},n("Elastic",e("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*f/this._p2)+1},.3),e("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*--a)*Math.sin((a-this._p3)*f/this._p2))},.3),e("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*--a)*
Math.sin((a-this._p3)*f/this._p2):.5*this._p1*Math.pow(2,-10*--a)*Math.sin((a-this._p3)*f/this._p2)+1},.45)),n("Expo",m("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),m("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),m("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),n("Sine",m("SineOut",function(a){return Math.sin(a*h)}),m("SineIn",function(a){return-Math.cos(a*h)+1}),m("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),l("easing.EaseLookup",
{find:function(a){return d.map[a]}},!0),q(k.SlowMo,"SlowMo","ease,"),q(a,"RoughEase","ease,"),q(c,"SteppedEase","ease,"),u},!0)});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
(function(d,c){var a=d.GreenSockGlobals=d.GreenSockGlobals||d;if(!a.TweenLite){var e,k,f,h,l,m=function(c){var f=c.split("."),e=a;for(c=0;f.length>c;c++)e[f[c]]=e=e[f[c]]||{};return e},q=m("com.greensock"),n=function(a){var c,f=[],e=a.length;for(c=0;c!==e;f.push(a[c++]));return f},t=function(){},u=function(){var a=Object.prototype.toString,c=a.call([]);return function(f){return null!=f&&(f instanceof Array||"object"==typeof f&&!!f.push&&a.call(f)===c)}}(),v={},p=function(f,e,h,k){this.sc=v[f]?v[f].sc:
[];v[f]=this;this.gsClass=null;this.func=h;var l=[];this.check=function(n){for(var q,t,u=e.length,B=u;-1<--u;)(q=v[e[u]]||new p(e[u],[])).gsClass?(l[u]=q.gsClass,B--):n&&q.sc.push(this);if(0===B&&h)for(n=("com.greensock."+f).split("."),q=n.pop(),t=m(n.join("."))[q]=this.gsClass=h.apply(h,l),k&&(a[q]=t,"function"==typeof define&&define.amd?define((d.GreenSockAMDPath?d.GreenSockAMDPath+"/":"")+f.split(".").pop(),[],function(){return t}):f===c&&"undefined"!=typeof module&&module.exports&&(module.exports=
t)),u=0;this.sc.length>u;u++)this.sc[u].check()};this.check(!0)},w=d._gsDefine=function(a,c,f,e){return new p(a,c,f,e)},x=q._class=function(a,c,f){return c=c||function(){},w(a,[],function(){return c},f),c};w.globals=a;var z=[0,0,1,1],y=[],E=x("easing.Ease",function(a,c,f,e){this._func=a;this._type=f||0;this._power=e||0;this._params=c?z.concat(c):z},!0),D=E.map={},A=E.register=function(a,c,f,e){var h,d,k;c=c.split(",");for(var l=c.length,m=(f||"easeIn,easeOut,easeInOut").split(",");-1<--l;)for(h=c[l],
f=e?x("easing."+h,null,!0):q.easing[h]||{},d=m.length;-1<--d;)k=m[d],D[h+"."+k]=D[k+h]=f[k]=a.getRatio?a:a[k]||new a};f=E.prototype;f._calcEnd=!1;f.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var c=this._type,f=this._power,e=1===c?1-a:2===c?a:.5>a?2*a:2*(1-a);return 1===f?e*=e:2===f?e*=e*e:3===f?e*=e*e*e:4===f&&(e*=e*e*e*e),1===c?1-e:2===c?e:.5>a?e/2:1-e/2};e=["Linear","Quad","Cubic","Quart","Quint,Strong"];for(k=e.length;-1<--k;)f=e[k]+",Power"+
k,A(new E(null,null,1,k),f,"easeOut",!0),A(new E(null,null,2,k),f,"easeIn"+(0===k?",easeNone":"")),A(new E(null,null,3,k),f,"easeInOut");D.linear=q.easing.Linear.easeIn;D.swing=q.easing.Quad.easeInOut;var B=x("events.EventDispatcher",function(a){this._listeners={};this._eventTarget=a||this});f=B.prototype;f.addEventListener=function(a,c,f,e,d){d=d||0;var k,m=this._listeners[a],n=0;null==m&&(this._listeners[a]=m=[]);for(k=m.length;-1<--k;)a=m[k],a.c===c&&a.s===f?m.splice(k,1):0===n&&d>a.pr&&(n=k+1);
m.splice(n,0,{c:c,s:f,up:e,pr:d});this!==h||l||h.wake()};f.removeEventListener=function(a,c){var f,e=this._listeners[a];if(e)for(f=e.length;-1<--f;)if(e[f].c===c)return e.splice(f,1),void 0};f.dispatchEvent=function(a){var c,f,e,h=this._listeners[a];if(h)for(c=h.length,f=this._eventTarget;-1<--c;)(e=h[c])&&(e.up?e.c.call(e.s||f,{type:a,target:f}):e.c.call(e.s||f))};var F=d.requestAnimationFrame,C=d.cancelAnimationFrame,H=Date.now||function(){return(new Date).getTime()},I=H();e=["ms","moz","webkit",
"o"];for(k=e.length;-1<--k&&!F;)F=d[e[k]+"RequestAnimationFrame"],C=d[e[k]+"CancelAnimationFrame"]||d[e[k]+"CancelRequestAnimationFrame"];x("Ticker",function(a,c){var f,e,d,k,m,n=this,q=H(),p=!1!==c&&F,u=500,v=33,y=function(a){var c,h;c=H()-I;c>u&&(q+=c-v);I+=c;n.time=(I-q)/1E3;c=n.time-m;(!f||0<c||!0===a)&&(n.frame++,m+=c+(c>=k?.004:k-c),h=!0);!0!==a&&(d=e(y));h&&n.dispatchEvent("tick")};B.call(n);n.time=n.frame=0;n.tick=function(){y(!0)};n.lagSmoothing=function(a,c){u=a||1E10;v=Math.min(c,u,0)};
n.sleep=function(){null!=d&&(p&&C?C(d):clearTimeout(d),e=t,d=null,n===h&&(l=!1))};n.wake=function(){null!==d?n.sleep():10<n.frame&&(I=H()-u+5);e=0===f?t:p&&F?F:function(a){return setTimeout(a,0|1E3*(m-n.time)+1)};n===h&&(l=!0);y(2)};n.fps=function(a){return arguments.length?(f=a,k=1/(f||60),m=this.time+k,n.wake(),void 0):f};n.useRAF=function(a){return arguments.length?(n.sleep(),p=a,n.fps(f),void 0):p};n.fps(a);setTimeout(function(){p&&(!d||5>n.frame)&&n.useRAF(!1)},1500)});f=q.Ticker.prototype=new q.events.EventDispatcher;
f.constructor=q.Ticker;var J=x("core.Animation",function(a,c){if(this.vars=c=c||{},this._duration=this._totalDuration=a||0,this._delay=Number(c.delay)||0,this._timeScale=1,this._active=!0===c.immediateRender,this.data=c.data,this._reversed=!0===c.reversed,Y){l||h.wake();var f=this.vars.useFrames?T:Y;f.add(this,f._time);this.vars.paused&&this.paused(!0)}});h=J.ticker=new q.Ticker;f=J.prototype;f._dirty=f._gc=f._initted=f._paused=!1;f._totalTime=f._time=0;f._rawPrevTime=-1;f._next=f._last=f._onUpdate=
f._timeline=f.timeline=null;f._paused=!1;var G=function(){l&&2E3<H()-I&&h.wake();setTimeout(G,2E3)};G();f.play=function(a,c){return null!=a&&this.seek(a,c),this.reversed(!1).paused(!1)};f.pause=function(a,c){return null!=a&&this.seek(a,c),this.paused(!0)};f.resume=function(a,c){return null!=a&&this.seek(a,c),this.paused(!1)};f.seek=function(a,c){return this.totalTime(Number(a),!1!==c)};f.restart=function(a,c){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==c,!0)};f.reverse=function(a,
c){return null!=a&&this.seek(a||this.totalDuration(),c),this.reversed(!0).paused(!1)};f.render=function(){};f.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this};f.isActive=function(){var a,c=this._timeline,f=this._startTime;return!c||!this._gc&&!this._paused&&c.isActive()&&(a=c.rawTime())>=f&&f+this.totalDuration()/this._timeScale>a};f._enabled=function(a,c){return l||h.wake(),this._gc=!a,this._active=
this.isActive(),!0!==c&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1};f._kill=function(){return this._enabled(!1,!1)};f.kill=function(a,c){return this._kill(a,c),this};f._uncache=function(a){for(a=a?this:this.timeline;a;)a._dirty=!0,a=a.timeline;return this};f._swapSelfInParams=function(a){for(var c=a.length,f=a.concat();-1<--c;)"{self}"===a[c]&&(f[c]=this);return f};f.eventCallback=function(a,c,f,e){if("on"===(a||"").substr(0,
2)){var h=this.vars;if(1===arguments.length)return h[a];null==c?delete h[a]:(h[a]=c,h[a+"Params"]=u(f)&&-1!==f.join("").indexOf("{self}")?this._swapSelfInParams(f):f,h[a+"Scope"]=e);"onUpdate"===a&&(this._onUpdate=c)}return this};f.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay};f.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&
0<this._time&&this._time<this._duration&&0!==a&&this.totalTime(a/this._duration*this._totalTime,!0),this):(this._dirty=!1,this._duration)};f.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration};f.time=function(a,c){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,c)):this._time};f.totalTime=function(a,c,f){if(l||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!f&&
(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var e=this._totalDuration,d=this._timeline;if(a>e&&!f&&(a=e),this._startTime=(this._paused?this._pauseTime:d._time)-(this._reversed?e-a:a)/this._timeScale,d._dirty||this._uncache(!1),d._timeline)for(;d._timeline;)d._timeline._time!==(d._startTime+d._totalTime)/d._timeScale&&d.totalTime(d._totalTime,!0),d=d._timeline}this._gc&&this._enabled(!0,!1);(this._totalTime!==a||0===this._duration)&&(this.render(a,
c,!1),L.length&&W())}return this};f.progress=f.totalProgress=function(a,c){return arguments.length?this.totalTime(this.duration()*a,c):this._time/this.duration()};f.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime};f.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale};f.timeScale=function(a){if(!arguments.length)return this._timeScale;
if(a=a||1E-10,this._timeline&&this._timeline.smoothChildTiming){var c=this._pauseTime,c=c||0===c?c:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)};f.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed};f.paused=function(a){if(!arguments.length)return this._paused;
if(a!=this._paused&&this._timeline){l||a||h.wake();var c=this._timeline,f=c.rawTime(),e=f-this._pauseTime;!a&&c.smoothChildTiming&&(this._startTime+=e,this._uncache(!1));this._pauseTime=a?f:null;this._paused=a;this._active=this.isActive();!a&&0!==e&&this._initted&&this.duration()&&this.render(c.smoothChildTiming?this._totalTime:(f-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};e=x("core.SimpleTimeline",function(a){J.call(this,0,a);this.autoRemoveChildren=this.smoothChildTiming=
!0});f=e.prototype=new J;f.constructor=e;f.kill()._gc=!1;f._first=f._last=f._recent=null;f._sortChildren=!1;f.add=f.insert=function(a,c){var f,e;if(a._startTime=Number(c||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),f=this._last,this._sortChildren)for(e=a._startTime;f&&f._startTime>e;)f=f._prev;return f?(a._next=f._next,f._next=a):(a._next=
this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=f,this._recent=a,this._timeline&&this._uncache(!0),this};f._remove=function(a,c){return a.timeline===this&&(c||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this};f.render=function(a,c,f){var e,h=this._first;for(this._totalTime=
this._time=this._rawPrevTime=a;h;)e=h._next,(h._active||a>=h._startTime&&!h._paused)&&(h._reversed?h.render((h._dirty?h.totalDuration():h._totalDuration)-(a-h._startTime)*h._timeScale,c,f):h.render((a-h._startTime)*h._timeScale,c,f)),h=e};f.rawTime=function(){return l||h.wake(),this._totalTime};var K=x("TweenLite",function(a,c,f){if(J.call(this,c,f),this.render=K.prototype.render,null==a)throw"Cannot tween a null target.";this.target=a="string"!=typeof a?a:K.selector(a)||a;var e,h;e=a.jquery||a.length&&
a!==d&&a[0]&&(a[0]===d||a[0].nodeType&&a[0].style&&!a.nodeType);f=this.vars.overwrite;if(this._overwrite=f=null==f?R[K.defaultOverwrite]:"number"==typeof f?f>>0:R[f],(e||a instanceof Array||a.push&&u(a))&&"number"!=typeof a[0])for(this._targets=h=n(a),this._propLookup=[],this._siblings=[],a=0;h.length>a;a++)(e=h[a])?"string"!=typeof e?e.length&&e!==d&&e[0]&&(e[0]===d||e[0].nodeType&&e[0].style&&!e.nodeType)?(h.splice(a--,1),this._targets=h=h.concat(n(e))):(this._siblings[a]=X(e,this,!1),1===f&&1<
this._siblings[a].length&&la(e,this,null,1,this._siblings[a])):(e=h[a--]=K.selector(e),"string"==typeof e&&h.splice(a+1,1)):h.splice(a--,1);else this._propLookup={},this._siblings=X(a,this,!1),1===f&&1<this._siblings.length&&la(a,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1E-10,this.render(-this._delay))},!0),M=function(a){return a&&a.length&&a!==d&&a[0]&&(a[0]===d||a[0].nodeType&&a[0].style&&!a.nodeType)};f=K.prototype=
new J;f.constructor=K;f.kill()._gc=!1;f.ratio=0;f._firstPT=f._targets=f._overwrittenProps=f._startAt=null;f._notifyPluginsOfEnabled=f._lazy=!1;K.version="1.14.2";K.defaultEase=f._ease=new E(null,null,1,1);K.defaultOverwrite="auto";K.ticker=h;K.autoSleep=!0;K.lagSmoothing=function(a,c){h.lagSmoothing(a,c)};K.selector=d.$||d.jQuery||function(a){var c=d.$||d.jQuery;return c?(K.selector=c,c(a)):"undefined"==typeof document?a:document.querySelectorAll?document.querySelectorAll(a):document.getElementById("#"===
a.charAt(0)?a.substr(1):a)};var L=[],Q={};k=K._internals={isArray:u,isSelector:M,lazyTweens:L};var N=K._plugins={},O=k.tweenLookup={},P=0,S=k.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,
repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},R={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},T=J._rootFramesTimeline=new e,Y=J._rootTimeline=new e,W=k.lazyRender=function(){var a,c=L.length;for(Q={};-1<--c;)(a=L[c])&&!1!==a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);L.length=0};Y._startTime=h.time;T._startTime=h.frame;Y._active=T._active=!0;setTimeout(W,1);J._updateRoot=K.render=function(){var a,c,f;if(L.length&&W(),
Y.render((h.time-Y._startTime)*Y._timeScale,!1,!1),T.render((h.frame-T._startTime)*T._timeScale,!1,!1),L.length&&W(),!(h.frame%120)){for(f in O){c=O[f].tweens;for(a=c.length;-1<--a;)c[a]._gc&&c.splice(a,1);0===c.length&&delete O[f]}if(f=Y._first,(!f||f._paused)&&K.autoSleep&&!T._first&&1===h._listeners.tick.length){for(;f&&f._paused;)f=f._next;f||h.sleep()}}};h.addEventListener("tick",J._updateRoot);var X=function(a,c,f){var e,h,d=a._gsTweenID;if(O[d||(a._gsTweenID=d="t"+P++)]||(O[d]={target:a,tweens:[]}),
c&&(e=O[d].tweens,e[h=e.length]=c,f))for(;-1<--h;)e[h]===c&&e.splice(h,1);return O[d].tweens},fa=function(a,c,f,e){var h,d,k=a.vars.onOverwrite;return k&&(h=k(a,c,f,e)),k=K.onOverwrite,k&&(d=k(a,c,f,e)),!1!==h&&!1!==d},la=function(a,c,f,e,h){var d,k,l;if(1===e||4<=e){a=h.length;for(d=0;a>d;d++)if((l=h[d])!==c)l._gc||fa(l,c)&&l._enabled(!1,!1)&&(k=!0);else if(5===e)break;return k}var m,n=c._startTime+1E-10,q=[],t=0,p=0===c._duration;for(d=h.length;-1<--d;)(l=h[d])===c||l._gc||l._paused||(l._timeline!==
c._timeline?(m=m||ha(c,0,p),0===ha(l,m,p)&&(q[t++]=l)):n>=l._startTime&&l._startTime+l.totalDuration()/l._timeScale>n&&((p||!l._initted)&&2E-10>=n-l._startTime||(q[t++]=l)));for(d=t;-1<--d;)(l=q[d],2===e&&l._kill(f,a,c)&&(k=!0),2!==e||!l._firstPT&&l._initted)&&(2===e||fa(l,c))&&l._enabled(!1,!1)&&(k=!0);return k},ha=function(a,c,f){for(var e=a._timeline,h=e._timeScale,d=a._startTime;e._timeline;){if(d+=e._startTime,h*=e._timeScale,e._paused)return-100;e=e._timeline}return d/=h,d>c?d-c:f&&d===c||!a._initted&&
2E-10>d-c?1E-10:(d+=a.totalDuration()/a._timeScale/h)>c+1E-10?0:d-c-1E-10};f._init=function(){var a,c,f,e=this.vars,h=this._overwrittenProps,d=this._duration,k=!!e.immediateRender,l=e.ease;if(e.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill());f={};for(a in e.startAt)f[a]=e.startAt[a];if(f.overwrite=!1,f.immediateRender=!0,f.lazy=k&&!1!==e.lazy,f.startAt=f.delay=null,this._startAt=K.to(this.target,0,f),k)if(0<this._time)this._startAt=null;else if(0!==d)return}else if(e.runBackwards&&
0!==d)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(k=!1);f={};for(a in e)S[a]&&"autoCSS"!==a||(f[a]=e[a]);if(f.overwrite=0,f.data="isFromStart",f.lazy=k&&!1!==e.lazy,f.immediateRender=k,this._startAt=K.to(this.target,0,f),k){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof E?l:"function"==typeof l?new E(l,e.easeParams):D[l]||K.defaultEase:
K.defaultEase,e.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,e.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;-1<--a;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null)&&(c=!0);else c=this._initProps(this.target,this._propLookup,this._siblings,h);if(c&&K._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,
!1)),e.runBackwards)for(f=this._firstPT;f;)f.s+=f.c,f.c=-f.c,f=f._next;this._onUpdate=e.onUpdate;this._initted=!0};f._initProps=function(a,c,f,e){var h,k,l,m,n;if(null==a)return!1;Q[a._gsTweenID]&&W();if(!this.vars.css&&a.style&&a!==d&&a.nodeType&&N.css&&!1!==this.vars.autoCSS){k=this.vars;var q,t={};for(q in k)S[q]||q in a&&"transform"!==q&&"x"!==q&&"y"!==q&&"width"!==q&&"height"!==q&&"className"!==q&&"border"!==q||!(!N[q]||N[q]&&N[q]._autoCSS)||(t[q]=k[q],delete k[q]);k.css=t}for(h in this.vars){if(k=
this.vars[h],S[h])k&&(k instanceof Array||k.push&&u(k))&&-1!==k.join("").indexOf("{self}")&&(this.vars[h]=this._swapSelfInParams(k,this));else if(N[h]&&(m=new N[h])._onInitTween(a,this.vars[h],this)){this._firstPT=n={_next:this._firstPT,t:m,p:"setRatio",s:0,c:1,f:!0,n:h,pg:!0,pr:m._priority};for(k=m._overwriteProps.length;-1<--k;)c[m._overwriteProps[k]]=this._firstPT;(m._priority||m._onInitAllProps)&&(l=!0);(m._onDisable||m._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[h]=n={_next:this._firstPT,
t:a,p:h,f:"function"==typeof a[h],n:h,pg:!1,pr:0},n.s=n.f?a[h.indexOf("set")||"function"!=typeof a["get"+h.substr(3)]?h:"get"+h.substr(3)]():parseFloat(a[h]),n.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-n.s||0;n&&n._next&&(n._next._prev=n)}return e&&this._kill(e,a)?this._initProps(a,c,f,e):1<this._overwrite&&this._firstPT&&1<f.length&&la(a,this,c,this._overwrite,f)?(this._kill(c,a),this._initProps(a,c,f,e)):(this._firstPT&&(!1!==this.vars.lazy&&
this._duration||this.vars.lazy&&!this._duration)&&(Q[a._gsTweenID]=!0),l)};f.render=function(a,c,f){var e,h,d,k,l=this._time,m=this._duration;d=this._rawPrevTime;if(a>=m)this._totalTime=this._time=m,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(e=!0,h="onComplete"),0===m&&(this._initted||!this.vars.lazy||f)&&(this._startTime===this._timeline._duration&&(a=0),(0===a||0>d||1E-10===d)&&d!==a&&(f=!0,1E-10<d&&(h="onReverseComplete")),this._rawPrevTime=k=!c||a||d===a?a:1E-10);
else if(1E-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==l||0===m&&0<d&&1E-10!==d)&&(h="onReverseComplete",e=this._reversed),0>a&&(this._active=!1,0===m&&(this._initted||!this.vars.lazy||f)&&(0<=d&&(f=!0),this._rawPrevTime=k=!c||a||d===a?a:1E-10)),this._initted||(f=!0);else if(this._totalTime=this._time=a,this._easeType){var n=a/m,q=this._easeType,t=this._easePower;(1===q||3===q&&.5<=n)&&(n=1-n);3===q&&(n*=2);1===t?n*=n:2===t?n*=n*n:3===t?n*=n*n*n:4===
t&&(n*=n*n*n*n);this.ratio=1===q?1-n:2===q?n:.5>a/m?n/2:1-n/2}else this.ratio=this._ease.getRatio(a/m);if(this._time!==l||f){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!f&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=l,this._rawPrevTime=d,L.push(this),this._lazy=[a,c],void 0;this._time&&!e?this.ratio=this._ease.getRatio(this._time/m):e&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?
0:1))}!1!==this._lazy&&(this._lazy=!1);this._active||!this._paused&&this._time!==l&&0<=a&&(this._active=!0);0!==l||(this._startAt&&(0<=a?this._startAt.render(a,c,f):h||(h="_dummyGS")),!this.vars.onStart||0===this._time&&0!==m||!c&&this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y));for(d=this._firstPT;d;)d.f?d.t[d.p](d.c*this.ratio+d.s):d.t[d.p]=d.c*this.ratio+d.s,d=d._next;this._onUpdate&&(0>a&&this._startAt&&-1E-4!==a&&this._startAt.render(a,c,f),c||(this._time!==l||
e)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y));h&&(!this._gc||f)&&(0>a&&this._startAt&&!this._onUpdate&&-1E-4!==a&&this._startAt.render(a,c,f),e&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!c&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||y),0===m&&1E-10===this._rawPrevTime&&1E-10!==k&&(this._rawPrevTime=0))}};f._kill=function(a,c,f){if("all"===a&&(a=null),null==a&&(null==c||c===this.target))return this._lazy=
!1,this._enabled(!1,!1);c="string"!=typeof c?c||this._targets||this.target:K.selector(c)||c;var e,h,d,k,l,m,n;if((u(c)||M(c))&&"number"!=typeof c[0])for(e=c.length;-1<--e;)this._kill(a,c[e])&&(m=!0);else{if(this._targets)for(e=this._targets.length;-1<--e;){if(c===this._targets[e]){l=this._propLookup[e]||{};this._overwrittenProps=this._overwrittenProps||[];h=this._overwrittenProps[e]=a?this._overwrittenProps[e]||{}:"all";break}}else{if(c!==this.target)return!1;l=this._propLookup;h=this._overwrittenProps=
a?this._overwrittenProps||{}:"all"}if(l){if(e=a||l,a=a!==h&&"all"!==h&&a!==l&&("object"!=typeof a||!a._tempKill),f&&(K.onOverwrite||this.vars.onOverwrite)){for(d in e)l[d]&&(n||(n=[]),n.push(d));if(!fa(this,f,c,n))return!1}for(d in e)(k=l[d])&&(k.pg&&k.t._kill(e)&&(m=!0),k.pg&&0!==k.t._overwriteProps.length||(k._prev?k._prev._next=k._next:k===this._firstPT&&(this._firstPT=k._next),k._next&&(k._next._prev=k._prev),k._next=k._prev=null),delete l[d]),a&&(h[d]=1);!this._firstPT&&this._initted&&this._enabled(!1,
!1)}}return m};f.invalidate=function(){return this._notifyPluginsOfEnabled&&K._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],J.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1E-10,this.render(-this._delay)),this};f._enabled=function(a,c){if(l||h.wake(),a&&this._gc){var f,e=this._targets;if(e)for(f=e.length;-1<--f;)this._siblings[f]=
X(e[f],this,!0);else this._siblings=X(this.target,this,!0)}return J.prototype._enabled.call(this,a,c),this._notifyPluginsOfEnabled&&this._firstPT?K._onPluginEvent(a?"_onEnable":"_onDisable",this):!1};K.to=function(a,c,f){return new K(a,c,f)};K.from=function(a,c,f){return f.runBackwards=!0,f.immediateRender=0!=f.immediateRender,new K(a,c,f)};K.fromTo=function(a,c,f,e){return e.startAt=f,e.immediateRender=0!=e.immediateRender&&0!=f.immediateRender,new K(a,c,e)};K.delayedCall=function(a,c,f,e,h){return new K(c,
0,{delay:a,onComplete:c,onCompleteParams:f,onCompleteScope:e,onReverseComplete:c,onReverseCompleteParams:f,onReverseCompleteScope:e,immediateRender:!1,useFrames:h,overwrite:0})};K.set=function(a,c){return new K(a,0,c)};K.getTweensOf=function(a,c){if(null==a)return[];a="string"!=typeof a?a:K.selector(a)||a;var f,e,h,d;if((u(a)||M(a))&&"number"!=typeof a[0]){f=a.length;for(e=[];-1<--f;)e=e.concat(K.getTweensOf(a[f],c));for(f=e.length;-1<--f;)for(d=e[f],h=f;-1<--h;)d===e[h]&&e.splice(f,1)}else for(e=
X(a).concat(),f=e.length;-1<--f;)(e[f]._gc||c&&!e[f].isActive())&&e.splice(f,1);return e};K.killTweensOf=K.killDelayedCallsTo=function(a,c,f){"object"==typeof c&&(f=c,c=!1);c=K.getTweensOf(a,c);for(var e=c.length;-1<--e;)c[e]._kill(f,a)};var ba=x("plugins.TweenPlugin",function(a,c){this._overwriteProps=(a||"").split(",");this._propName=this._overwriteProps[0];this._priority=c||0;this._super=ba.prototype},!0);if(f=ba.prototype,ba.version="1.10.1",ba.API=2,f._firstPT=null,f._addTween=function(a,c,f,
e,h,d){var k,l;return null!=e&&(k="number"==typeof e||"="!==e.charAt(1)?Number(e)-f:parseInt(e.charAt(0)+"1",10)*Number(e.substr(2)))?(this._firstPT=l={_next:this._firstPT,t:a,p:c,s:f,c:k,f:"function"==typeof a[c],n:h||c,r:d},l._next&&(l._next._prev=l),l):void 0},f.setRatio=function(a){for(var c,f=this._firstPT;f;)c=f.c*a+f.s,f.r?c=Math.round(c):1E-6>c&&-1E-6<c&&(c=0),f.f?f.t[f.p](c):f.t[f.p]=c,f=f._next},f._kill=function(a){var c,f=this._overwriteProps,e=this._firstPT;if(null!=a[this._propName])this._overwriteProps=
[];else for(c=f.length;-1<--c;)null!=a[f[c]]&&f.splice(c,1);for(;e;)null!=a[e.n]&&(e._next&&(e._next._prev=e._prev),e._prev?(e._prev._next=e._next,e._prev=null):this._firstPT===e&&(this._firstPT=e._next)),e=e._next;return!1},f._roundProps=function(a,c){for(var f=this._firstPT;f;)(a[this._propName]||null!=f.n&&a[f.n.split(this._propName+"_").join("")])&&(f.r=c),f=f._next},K._onPluginEvent=function(a,c){var f,e,h,d,k,l=c._firstPT;if("_onInitAllProps"===a){for(;l;){k=l._next;for(e=h;e&&e.pr>l.pr;)e=
e._next;(l._prev=e?e._prev:d)?l._prev._next=l:h=l;(l._next=e)?e._prev=l:d=l;l=k}l=c._firstPT=h}for(;l;)l.pg&&"function"==typeof l.t[a]&&l.t[a]()&&(f=!0),l=l._next;return f},ba.activate=function(a){for(var c=a.length;-1<--c;)a[c].API===ba.API&&(N[(new a[c])._propName]=a[c]);return!0},w.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var c,f=a.propName,e=a.priority||0,h=a.overwriteProps,d={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},
k=x("plugins."+f.charAt(0).toUpperCase()+f.substr(1)+"Plugin",function(){ba.call(this,f,e);this._overwriteProps=h||[]},!0===a.global),l=k.prototype=new ba(f);l.constructor=k;k.API=a.API;for(c in d)"function"==typeof a[c]&&(l[d[c]]=a[c]);return k.version=a.version,ba.activate([k]),k},e=d._gsQueue){for(k=0;e.length>k;k++)e[k]();for(f in v)v[f].func||d.console.log("GSAP encountered missing dependency: com.greensock."+f)}l=!1}})("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:
this||window,"TweenMax");_gsScope="undefined"!==typeof module&&module.exports&&"undefined"!==typeof global?global:this||window;
(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){var d=document.documentElement,c=window,a=function(a,e){var k="x"===e?"Width":"Height",m="scroll"+k,q="client"+k,n=document.body;return a===c||a===d||a===n?Math.max(d[m],n[m])-(c["inner"+k]||Math.max(d[q],n[q])):a[m]-a["offset"+k]},e=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,version:"1.7.4",init:function(f,e,d){this._wdw=f===c;this._target=f;this._tween=d;"object"!==typeof e&&(e={y:e});this.vars=e;this._autoKill=!1!==e.autoKill;
this.x=this.xPrev=this.getX();this.y=this.yPrev=this.getY();null!=e.x?(this._addTween(this,"x",this.x,"max"===e.x?a(f,"x"):e.x,"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0;null!=e.y?(this._addTween(this,"y",this.y,"max"===e.y?a(f,"y"):e.y,"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0;return!0},set:function(f){this._super.setRatio.call(this,f);f=this._wdw||!this.skipX?this.getX():this.xPrev;var e=this._wdw||!this.skipY?this.getY():this.yPrev,d=e-
this.yPrev,k=f-this.xPrev;this._autoKill&&(!this.skipX&&(7<k||-7>k)&&f<a(this._target,"x")&&(this.skipX=!0),!this.skipY&&(7<d||-7>d)&&e<a(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[])));this._wdw?c.scrollTo(this.skipX?f:this.x,this.skipY?e:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x));this.xPrev=
this.x;this.yPrev=this.y}}),k=e.prototype;e.max=a;k.getX=function(){return this._wdw?null!=c.pageXOffset?c.pageXOffset:null!=d.scrollLeft?d.scrollLeft:document.body.scrollLeft:this._target.scrollLeft};k.getY=function(){return this._wdw?null!=c.pageYOffset?c.pageYOffset:null!=d.scrollTop?d.scrollTop:document.body.scrollTop:this._target.scrollTop};k._kill=function(a){a.scrollTo_x&&(this.skipX=!0);a.scrollTo_y&&(this.skipY=!0);return this._super._kill.call(this,a)}});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
var dat=dat||{};dat.gui=dat.gui||{};dat.utils=dat.utils||{};dat.controllers=dat.controllers||{};dat.dom=dat.dom||{};dat.color=dat.color||{};dat.utils.css=function(){return{load:function(d,c){c=c||document;var a=c.createElement("link");a.type="text/css";a.rel="stylesheet";a.href=d;c.getElementsByTagName("head")[0].appendChild(a)},inject:function(d,c){c=c||document;var a=document.createElement("style");a.type="text/css";a.innerHTML=d;c.getElementsByTagName("head")[0].appendChild(a)}}}();
dat.utils.common=function(){var d=Array.prototype.forEach,c=Array.prototype.slice;return{BREAK:{},extend:function(a){this.each(c.call(arguments,1),function(c){for(var d in c)this.isUndefined(c[d])||(a[d]=c[d])},this);return a},defaults:function(a){this.each(c.call(arguments,1),function(c){for(var d in c)this.isUndefined(a[d])&&(a[d]=c[d])},this);return a},compose:function(){var a=c.call(arguments);return function(){for(var e=c.call(arguments),d=a.length-1;0<=d;d--)e=[a[d].apply(this,e)];return e[0]}},
each:function(a,c,k){if(d&&a.forEach===d)a.forEach(c,k);else if(a.length===a.length+0)for(var f=0,h=a.length;f<h&&!(f in a&&c.call(k,a[f],f)===this.BREAK);f++);else for(f in a)if(c.call(k,a[f],f)===this.BREAK)break},defer:function(a){setTimeout(a,0)},toArray:function(a){return a.toArray?a.toArray():c.call(a)},isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},isNaN:function(a){return a!==a},isArray:Array.isArray||function(a){return a.constructor===Array},isObject:function(a){return a===
Object(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+""},isBoolean:function(a){return!1===a||!0===a},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)}}}();
dat.controllers.Controller=function(d){var c=function(a,c){this.initialValue=a[c];this.domElement=document.createElement("div");this.object=a;this.property=c;this.__onFinishChange=this.__onChange=void 0};d.extend(c.prototype,{onChange:function(a){this.__onChange=a;return this},onFinishChange:function(a){this.__onFinishChange=a;return this},setValue:function(a){this.object[this.property]=a;this.__onChange&&this.__onChange.call(this,a);this.updateDisplay();return this},getValue:function(){return this.object[this.property]},
updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}});return c}(dat.utils.common);
dat.dom.dom=function(d){function c(a){if("0"===a||d.isUndefined(a))return 0;a=a.match(e);return d.isNull(a)?0:parseFloat(a[1])}var a={};d.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(c,e){d.each(c,function(c){a[c]=e})});var e=/(\d+(\.\d+)?)px/,k={makeSelectable:function(a,c){void 0!==a&&void 0!==a.style&&(a.onselectstart=c?function(){return!1}:function(){},a.style.MozUserSelect=c?"auto":"none",a.style.KhtmlUserSelect=
c?"auto":"none",a.unselectable=c?"on":"off")},makeFullscreen:function(a,c,e){d.isUndefined(c)&&(c=!0);d.isUndefined(e)&&(e=!0);a.style.position="absolute";c&&(a.style.left=0,a.style.right=0);e&&(a.style.top=0,a.style.bottom=0)},fakeEvent:function(c,e,k,m){k=k||{};var q=a[e];if(!q)throw Error("Event type "+e+" not supported.");var n=document.createEvent(q);switch(q){case "MouseEvents":n.initMouseEvent(e,k.bubbles||!1,k.cancelable||!0,window,k.clickCount||1,0,0,k.x||k.clientX||0,k.y||k.clientY||0,!1,
!1,!1,!1,0,null);break;case "KeyboardEvents":q=n.initKeyboardEvent||n.initKeyEvent;d.defaults(k,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0});q(e,k.bubbles||!1,k.cancelable,window,k.ctrlKey,k.altKey,k.shiftKey,k.metaKey,k.keyCode,k.charCode);break;default:n.initEvent(e,k.bubbles||!1,k.cancelable||!0)}d.defaults(n,m);c.dispatchEvent(n)},bind:function(a,c,e,d){a.addEventListener?a.addEventListener(c,e,d||!1):a.attachEvent&&a.attachEvent("on"+c,e);return k},
unbind:function(a,c,e,d){a.removeEventListener?a.removeEventListener(c,e,d||!1):a.detachEvent&&a.detachEvent("on"+c,e);return k},addClass:function(a,c){if(void 0===a.className)a.className=c;else if(a.className!==c){var e=a.className.split(/ +/);-1==e.indexOf(c)&&(e.push(c),a.className=e.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return k},removeClass:function(a,c){if(c){if(void 0!==a.className)if(a.className===c)a.removeAttribute("class");else{var e=a.className.split(/ +/),d=e.indexOf(c);-1!=
d&&(e.splice(d,1),a.className=e.join(" "))}}else a.className=void 0;return k},hasClass:function(a,c){return RegExp("(?:^|\\s+)"+c+"(?:\\s+|$)").test(a.className)||!1},getWidth:function(a){a=getComputedStyle(a);return c(a["border-left-width"])+c(a["border-right-width"])+c(a["padding-left"])+c(a["padding-right"])+c(a.width)},getHeight:function(a){a=getComputedStyle(a);return c(a["border-top-width"])+c(a["border-bottom-width"])+c(a["padding-top"])+c(a["padding-bottom"])+c(a.height)},getOffset:function(a){var c=
{left:0,top:0};if(a.offsetParent){do c.left+=a.offsetLeft,c.top+=a.offsetTop;while(a=a.offsetParent)}return c},isActive:function(a){return a===document.activeElement&&(a.type||a.href)}};return k}(dat.utils.common);
dat.controllers.OptionController=function(d,c,a){var e=function(d,f,h){e.superclass.call(this,d,f);var l=this;this.__select=document.createElement("select");if(a.isArray(h)){var m={};a.each(h,function(a){m[a]=a});h=m}a.each(h,function(a,c){var e=document.createElement("option");e.innerHTML=c;e.setAttribute("value",a);l.__select.appendChild(e)});this.updateDisplay();c.bind(this.__select,"change",function(){l.setValue(this.options[this.selectedIndex].value)});this.domElement.appendChild(this.__select)};
e.superclass=d;a.extend(e.prototype,d.prototype,{setValue:function(a){a=e.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue());return a},updateDisplay:function(){this.__select.value=this.getValue();return e.superclass.prototype.updateDisplay.call(this)}});return e}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.controllers.NumberController=function(d,c){var a=function(e,d,f){a.superclass.call(this,e,d);f=f||{};this.__min=f.min;this.__max=f.max;this.__step=f.step;c.isUndefined(this.__step)?this.__impliedStep=0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step;e=this.__impliedStep;e=e.toString();this.__precision=e=-1<e.indexOf(".")?e.length-e.indexOf(".")-1:0};a.superclass=d;c.extend(a.prototype,d.prototype,{setValue:function(c){void 0!==
this.__min&&c<this.__min?c=this.__min:void 0!==this.__max&&c>this.__max&&(c=this.__max);void 0!==this.__step&&0!=c%this.__step&&(c=Math.round(c/this.__step)*this.__step);return a.superclass.prototype.setValue.call(this,c)},min:function(a){this.__min=a;return this},max:function(a){this.__max=a;return this},step:function(a){this.__step=a;return this}});return a}(dat.controllers.Controller,dat.utils.common);
dat.controllers.NumberControllerBox=function(d,c,a){var e=function(d,f,h){function l(){var c=parseFloat(n.__input.value);a.isNaN(c)||n.setValue(c)}function m(a){var c=t-a.clientY;n.setValue(n.getValue()+c*n.__impliedStep);t=a.clientY}function q(){c.unbind(window,"mousemove",m);c.unbind(window,"mouseup",q)}this.__truncationSuspended=!1;e.superclass.call(this,d,f,h);var n=this,t;this.__input=document.createElement("input");this.__input.setAttribute("type","text");c.bind(this.__input,"change",l);c.bind(this.__input,
"blur",function(){l();n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())});c.bind(this.__input,"mousedown",function(a){c.bind(window,"mousemove",m);c.bind(window,"mouseup",q);t=a.clientY});c.bind(this.__input,"keydown",function(a){13===a.keyCode&&(n.__truncationSuspended=!0,this.blur(),n.__truncationSuspended=!1)});this.updateDisplay();this.domElement.appendChild(this.__input)};e.superclass=d;a.extend(e.prototype,d.prototype,{updateDisplay:function(){var a=this.__input,c;if(this.__truncationSuspended)c=
this.getValue();else{c=this.getValue();var h=Math.pow(10,this.__precision);c=Math.round(c*h)/h}a.value=c;return e.superclass.prototype.updateDisplay.call(this)}});return e}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common);
dat.controllers.NumberControllerSlider=function(d,c,a,e,k){function f(a,c,e,f,h){return f+(a-c)/(e-c)*(h-f)}var h=function(a,e,d,k,t){function u(a){a.preventDefault();var e=c.getOffset(p.__background),h=c.getWidth(p.__background);p.setValue(f(a.clientX,e.left,e.left+h,p.__min,p.__max));return!1}function v(){c.unbind(window,"mousemove",u);c.unbind(window,"mouseup",v);p.__onFinishChange&&p.__onFinishChange.call(p,p.getValue())}h.superclass.call(this,a,e,{min:d,max:k,step:t});var p=this;this.__background=
document.createElement("div");this.__foreground=document.createElement("div");c.bind(this.__background,"mousedown",function(a){c.bind(window,"mousemove",u);c.bind(window,"mouseup",v);u(a)});c.addClass(this.__background,"slider");c.addClass(this.__foreground,"slider-fg");this.updateDisplay();this.__background.appendChild(this.__foreground);this.domElement.appendChild(this.__background)};h.superclass=d;h.useDefaultStyles=function(){a.inject(k)};e.extend(h.prototype,d.prototype,{updateDisplay:function(){var a=
(this.getValue()-this.__min)/(this.__max-this.__min);this.__foreground.style.width=100*a+"%";return h.superclass.prototype.updateDisplay.call(this)}});return h}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,"/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n.slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}");
dat.controllers.FunctionController=function(d,c,a){var e=function(a,f,h){e.superclass.call(this,a,f);var d=this;this.__button=document.createElement("div");this.__button.innerHTML=void 0===h?"Fire":h;c.bind(this.__button,"click",function(a){a.preventDefault();d.fire();return!1});c.addClass(this.__button,"button");this.domElement.appendChild(this.__button)};e.superclass=d;a.extend(e.prototype,d.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this);this.__onFinishChange&&this.__onFinishChange.call(this,
this.getValue());this.getValue().call(this.object)}});return e}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.controllers.BooleanController=function(d,c,a){var e=function(a,f){e.superclass.call(this,a,f);var h=this;this.__prev=this.getValue();this.__checkbox=document.createElement("input");this.__checkbox.setAttribute("type","checkbox");c.bind(this.__checkbox,"change",function(){h.setValue(!h.__prev)},!1);this.domElement.appendChild(this.__checkbox);this.updateDisplay()};e.superclass=d;a.extend(e.prototype,d.prototype,{setValue:function(a){a=e.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&
this.__onFinishChange.call(this,this.getValue());this.__prev=this.getValue();return a},updateDisplay:function(){!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1;return e.superclass.prototype.updateDisplay.call(this)}});return e}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.color.toString=function(d){return function(c){if(1==c.a||d.isUndefined(c.a)){for(c=c.hex.toString(16);6>c.length;)c="0"+c;return"#"+c}return"rgba("+Math.round(c.r)+","+Math.round(c.g)+","+Math.round(c.b)+","+c.a+")"}}(dat.utils.common);
dat.color.interpret=function(d,c){var a,e,k=[{litmus:c.isString,conversions:{THREE_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===a?!1:{space:"HEX",hex:parseInt("0x"+a[1].toString()+a[1].toString()+a[2].toString()+a[2].toString()+a[3].toString()+a[3].toString())}},write:d},SIX_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9]{6})$/i);return null===a?!1:{space:"HEX",hex:parseInt("0x"+a[1].toString())}},write:d},CSS_RGB:{read:function(a){a=a.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
return null===a?!1:{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3])}},write:d},CSS_RGBA:{read:function(a){a=a.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===a?!1:{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3]),a:parseFloat(a[4])}},write:d}}},{litmus:c.isNumber,conversions:{HEX:{read:function(a){return{space:"HEX",hex:a,conversionName:"HEX"}},write:function(a){return a.hex}}}},{litmus:c.isArray,conversions:{RGB_ARRAY:{read:function(a){return 3!=
a.length?!1:{space:"RGB",r:a[0],g:a[1],b:a[2]}},write:function(a){return[a.r,a.g,a.b]}},RGBA_ARRAY:{read:function(a){return 4!=a.length?!1:{space:"RGB",r:a[0],g:a[1],b:a[2],a:a[3]}},write:function(a){return[a.r,a.g,a.b,a.a]}}}},{litmus:c.isObject,conversions:{RGBA_OBJ:{read:function(a){return c.isNumber(a.r)&&c.isNumber(a.g)&&c.isNumber(a.b)&&c.isNumber(a.a)?{space:"RGB",r:a.r,g:a.g,b:a.b,a:a.a}:!1},write:function(a){return{r:a.r,g:a.g,b:a.b,a:a.a}}},RGB_OBJ:{read:function(a){return c.isNumber(a.r)&&
c.isNumber(a.g)&&c.isNumber(a.b)?{space:"RGB",r:a.r,g:a.g,b:a.b}:!1},write:function(a){return{r:a.r,g:a.g,b:a.b}}},HSVA_OBJ:{read:function(a){return c.isNumber(a.h)&&c.isNumber(a.s)&&c.isNumber(a.v)&&c.isNumber(a.a)?{space:"HSV",h:a.h,s:a.s,v:a.v,a:a.a}:!1},write:function(a){return{h:a.h,s:a.s,v:a.v,a:a.a}}},HSV_OBJ:{read:function(a){return c.isNumber(a.h)&&c.isNumber(a.s)&&c.isNumber(a.v)?{space:"HSV",h:a.h,s:a.s,v:a.v}:!1},write:function(a){return{h:a.h,s:a.s,v:a.v}}}}}];return function(){e=!1;
var f=1<arguments.length?c.toArray(arguments):arguments[0];c.each(k,function(h){if(h.litmus(f))return c.each(h.conversions,function(h,d){a=h.read(f);if(!1===e&&!1!==a)return e=a,a.conversionName=d,a.conversion=h,c.BREAK}),c.BREAK});return e}}(dat.color.toString,dat.utils.common);
dat.GUI=dat.gui.GUI=function(d,c,a,e,k,f,h,l,m,q,n,t,u,v,p){function w(a,c,f,h){if(void 0===c[f])throw Error("Object "+c+' has no property "'+f+'"');h.color?c=new n(c,f):(c=[c,f].concat(h.factoryArgs),c=e.apply(a,c));h.before instanceof k&&(h.before=h.before.__li);y(a,c);v.addClass(c.domElement,"c");f=document.createElement("span");v.addClass(f,"property-name");f.innerHTML=c.property;var d=document.createElement("div");d.appendChild(f);d.appendChild(c.domElement);h=x(a,d,h.before);v.addClass(h,N.CLASS_CONTROLLER_ROW);
v.addClass(h,typeof c.getValue());z(a,h,c);a.__controllers.push(c);return c}function x(a,c,e){var f=document.createElement("li");c&&f.appendChild(c);e?a.__ul.insertBefore(f,params.before):a.__ul.appendChild(f);a.onResize();return f}function z(a,c,e){e.__li=c;e.__gui=a;p.extend(e,{options:function(c){if(1<arguments.length)return e.remove(),w(a,e.object,e.property,{before:e.__li.nextElementSibling,factoryArgs:[p.toArray(arguments)]});if(p.isArray(c)||p.isObject(c))return e.remove(),w(a,e.object,e.property,
{before:e.__li.nextElementSibling,factoryArgs:[c]})},name:function(a){e.__li.firstElementChild.firstElementChild.innerHTML=a;return e},listen:function(){e.__gui.listen(e);return e},remove:function(){e.__gui.remove(e);return e}});if(e instanceof m){var d=new l(e.object,e.property,{min:e.__min,max:e.__max,step:e.__step});p.each(["updateDisplay","onChange","onFinishChange"],function(a){var c=e[a],f=d[a];e[a]=d[a]=function(){var a=Array.prototype.slice.call(arguments);c.apply(e,a);return f.apply(d,a)}});
v.addClass(c,"has-slider");e.domElement.insertBefore(d.domElement,e.domElement.firstElementChild)}else if(e instanceof l){var k=function(c){return p.isNumber(e.__min)&&p.isNumber(e.__max)?(e.remove(),w(a,e.object,e.property,{before:e.__li.nextElementSibling,factoryArgs:[e.__min,e.__max,e.__step]})):c};e.min=p.compose(k,e.min);e.max=p.compose(k,e.max)}else e instanceof f?(v.bind(c,"click",function(){v.fakeEvent(e.__checkbox,"click")}),v.bind(e.__checkbox,"click",function(a){a.stopPropagation()})):
e instanceof h?(v.bind(c,"click",function(){v.fakeEvent(e.__button,"click")}),v.bind(c,"mouseover",function(){v.addClass(e.__button,"hover")}),v.bind(c,"mouseout",function(){v.removeClass(e.__button,"hover")})):e instanceof n&&(v.addClass(c,"color"),e.updateDisplay=p.compose(function(a){c.style.borderLeftColor=e.__color.toString();return a},e.updateDisplay),e.updateDisplay());e.setValue=p.compose(function(c){a.getRoot().__preset_select&&e.isModified()&&C(a.getRoot(),!0);return c},e.setValue)}function y(a,
c){var e=a.getRoot(),f=e.__rememberedObjects.indexOf(c.object);if(-1!=f){var h=e.__rememberedObjectIndecesToControllers[f];void 0===h&&(h={},e.__rememberedObjectIndecesToControllers[f]=h);h[c.property]=c;if(e.load&&e.load.remembered){e=e.load.remembered;if(e[a.preset])e=e[a.preset];else if(e[I])e=e[I];else return;e[f]&&void 0!==e[f][c.property]&&(f=e[f][c.property],c.initialValue=f,c.setValue(f))}}}function E(a){var c=a.__save_row=document.createElement("li");v.addClass(a.domElement,"has-save");a.__ul.insertBefore(c,
a.__ul.firstChild);v.addClass(c,"save-row");var e=document.createElement("span");e.innerHTML="&nbsp;";v.addClass(e,"button gears");var f=document.createElement("span");f.innerHTML="Save";v.addClass(f,"button");v.addClass(f,"save");var h=document.createElement("span");h.innerHTML="New";v.addClass(h,"button");v.addClass(h,"save-as");var d=document.createElement("span");d.innerHTML="Revert";v.addClass(d,"button");v.addClass(d,"revert");var k=a.__preset_select=document.createElement("select");a.load&&
a.load.remembered?p.each(a.load.remembered,function(c,e){F(a,e,e==a.preset)}):F(a,I,!1);v.bind(k,"change",function(){for(var c=0;c<a.__preset_select.length;c++)a.__preset_select[c].innerHTML=a.__preset_select[c].value;a.preset=this.value});c.appendChild(k);c.appendChild(e);c.appendChild(f);c.appendChild(h);c.appendChild(d);if(J){var c=document.getElementById("dg-save-locally"),l=document.getElementById("dg-local-explain");c.style.display="block";c=document.getElementById("dg-local-storage");"true"===
localStorage.getItem(document.location.href+".isLocal")&&c.setAttribute("checked","checked");var m=function(){l.style.display=a.useLocalStorage?"block":"none"};m();v.bind(c,"change",function(){a.useLocalStorage=!a.useLocalStorage;m()})}var n=document.getElementById("dg-new-constructor");v.bind(n,"keydown",function(a){!a.metaKey||67!==a.which&&67!=a.keyCode||G.hide()});v.bind(e,"click",function(){n.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2);G.show();n.focus();n.select()});v.bind(f,"click",
function(){a.save()});v.bind(h,"click",function(){var c=prompt("Enter a new preset name.");c&&a.saveAs(c)});v.bind(d,"click",function(){a.revert()})}function D(a){function c(d){d.preventDefault();h=d.clientX;v.addClass(a.__closeButton,N.CLASS_DRAG);v.bind(window,"mousemove",e);v.bind(window,"mouseup",f);return!1}function e(c){c.preventDefault();a.width+=h-c.clientX;a.onResize();h=c.clientX;return!1}function f(){v.removeClass(a.__closeButton,N.CLASS_DRAG);v.unbind(window,"mousemove",e);v.unbind(window,
"mouseup",f)}a.__resize_handle=document.createElement("div");p.extend(a.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var h;v.bind(a.__resize_handle,"mousedown",c);v.bind(a.__closeButton,"mousedown",c);a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function A(a,c){a.domElement.style.width=c+"px";a.__save_row&&a.autoPlace&&(a.__save_row.style.width=c+"px");a.__closeButton&&(a.__closeButton.style.width=c+"px")}
function B(a,c){var e={};p.each(a.__rememberedObjects,function(f,h){var d={};p.each(a.__rememberedObjectIndecesToControllers[h],function(a,e){d[e]=c?a.initialValue:a.getValue()});e[h]=d});return e}function F(a,c,e){var f=document.createElement("option");f.innerHTML=c;f.value=c;a.__preset_select.appendChild(f);e&&(a.__preset_select.selectedIndex=a.__preset_select.length-1)}function C(a,c){var e=a.__preset_select[a.__preset_select.selectedIndex];e.innerHTML=c?e.value+"*":e.value}function H(a){0!=a.length&&
t(function(){H(a)});p.each(a,function(a){a.updateDisplay()})}d.inject(a);var I="Default",J;try{J="localStorage"in window&&null!==window.localStorage}catch(O){J=!1}var G,K=!0,M,L=!1,Q=[],N=function(a){function c(){localStorage.setItem(document.location.href+".gui",JSON.stringify(f.getSaveObject()))}function e(){var a=f.getRoot();a.width+=1;p.defer(function(){--a.width})}var f=this;this.domElement=document.createElement("div");this.__ul=document.createElement("ul");this.domElement.appendChild(this.__ul);
v.addClass(this.domElement,"dg");this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];a=a||{};a=p.defaults(a,{autoPlace:!0,width:N.DEFAULT_WIDTH});a=p.defaults(a,{resizable:a.autoPlace,hideable:a.autoPlace});p.isUndefined(a.load)?a.load={preset:I}:a.preset&&(a.load.preset=a.preset);p.isUndefined(a.parent)&&a.hideable&&Q.push(this);a.resizable=p.isUndefined(a.parent)&&a.resizable;a.autoPlace&&p.isUndefined(a.scrollable)&&
(a.scrollable=!0);var h=J&&"true"===localStorage.getItem(document.location.href+".isLocal");Object.defineProperties(this,{parent:{get:function(){return a.parent}},scrollable:{get:function(){return a.scrollable}},autoPlace:{get:function(){return a.autoPlace}},preset:{get:function(){return f.parent?f.getRoot().preset:a.load.preset},set:function(c){f.parent?f.getRoot().preset=c:a.load.preset=c;for(c=0;c<this.__preset_select.length;c++)this.__preset_select[c].value==this.preset&&(this.__preset_select.selectedIndex=
c);f.revert()}},width:{get:function(){return a.width},set:function(c){a.width=c;A(f,c)}},name:{get:function(){return a.name},set:function(c){a.name=c;k&&(k.innerHTML=a.name)}},closed:{get:function(){return a.closed},set:function(c){a.closed=c;a.closed?v.addClass(f.__ul,N.CLASS_CLOSED):v.removeClass(f.__ul,N.CLASS_CLOSED);this.onResize();f.__closeButton&&(f.__closeButton.innerHTML=c?N.TEXT_OPEN:N.TEXT_CLOSED)}},load:{get:function(){return a.load}},useLocalStorage:{get:function(){return h},set:function(a){J&&
((h=a)?v.bind(window,"unload",c):v.unbind(window,"unload",c),localStorage.setItem(document.location.href+".isLocal",a))}}});if(p.isUndefined(a.parent)){a.closed=!1;v.addClass(this.domElement,N.CLASS_MAIN);v.makeSelectable(this.domElement,!1);if(J&&h){f.useLocalStorage=!0;var d=localStorage.getItem(document.location.href+".gui");d&&(a.load=JSON.parse(d))}this.__closeButton=document.createElement("div");this.__closeButton.innerHTML=N.TEXT_CLOSED;v.addClass(this.__closeButton,N.CLASS_CLOSE_BUTTON);this.domElement.appendChild(this.__closeButton);
v.bind(this.__closeButton,"click",function(){f.closed=!f.closed})}else{void 0===a.closed&&(a.closed=!0);var k=document.createTextNode(a.name);v.addClass(k,"controller-name");d=x(f,k);v.addClass(this.__ul,N.CLASS_CLOSED);v.addClass(d,"title");v.bind(d,"click",function(a){a.preventDefault();f.closed=!f.closed;return!1});a.closed||(this.closed=!1)}a.autoPlace&&(p.isUndefined(a.parent)&&(K&&(M=document.createElement("div"),v.addClass(M,"dg"),v.addClass(M,N.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(M),
K=!1),M.appendChild(this.domElement),v.addClass(this.domElement,N.CLASS_AUTO_PLACE)),this.parent||A(f,a.width));v.bind(window,"resize",function(){f.onResize()});v.bind(this.__ul,"webkitTransitionEnd",function(){f.onResize()});v.bind(this.__ul,"transitionend",function(){f.onResize()});v.bind(this.__ul,"oTransitionEnd",function(){f.onResize()});this.onResize();a.resizable&&D(this);f.getRoot();a.parent||e()};N.toggleHide=function(){L=!L;p.each(Q,function(a){a.domElement.style.zIndex=L?-999:999;a.domElement.style.opacity=
L?0:1})};N.CLASS_AUTO_PLACE="a";N.CLASS_AUTO_PLACE_CONTAINER="ac";N.CLASS_MAIN="main";N.CLASS_CONTROLLER_ROW="cr";N.CLASS_TOO_TALL="taller-than-window";N.CLASS_CLOSED="closed";N.CLASS_CLOSE_BUTTON="close-button";N.CLASS_DRAG="drag";N.DEFAULT_WIDTH=245;N.TEXT_CLOSED="Close Controls";N.TEXT_OPEN="Open Controls";v.bind(window,"keydown",function(a){"text"===document.activeElement.type||72!==a.which&&72!=a.keyCode||N.toggleHide()},!1);p.extend(N.prototype,{add:function(a,c){return w(this,a,c,{factoryArgs:Array.prototype.slice.call(arguments,
2)})},addColor:function(a,c){return w(this,a,c,{color:!0})},remove:function(a){this.__ul.removeChild(a.__li);this.__controllers.slice(this.__controllers.indexOf(a),1);var c=this;p.defer(function(){c.onResize()})},destroy:function(){this.autoPlace&&M.removeChild(this.domElement)},addFolder:function(a){if(void 0!==this.__folders[a])throw Error('You already have a folder in this GUI by the name "'+a+'"');var c={name:a,parent:this};c.autoPlace=this.autoPlace;this.load&&this.load.folders&&this.load.folders[a]&&
(c.closed=this.load.folders[a].closed,c.load=this.load.folders[a]);c=new N(c);this.__folders[a]=c;a=x(this,c.domElement);v.addClass(a,"folder");return c},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var a=this.getRoot();if(a.scrollable){var c=v.getOffset(a.__ul).top,e=0;p.each(a.__ul.childNodes,function(c){a.autoPlace&&c===a.__save_row||(e+=v.getHeight(c))});window.innerHeight-c-20<e?(v.addClass(a.domElement,N.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-
c-20+"px"):(v.removeClass(a.domElement,N.CLASS_TOO_TALL),a.__ul.style.height="auto")}a.__resize_handle&&p.defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+"px"});a.__closeButton&&(a.__closeButton.style.width=a.width+"px")},remember:function(){p.isUndefined(G)&&(G=new u,G.domElement.innerHTML=c);if(this.parent)throw Error("You can only call remember on a top level GUI.");var a=this;p.each(Array.prototype.slice.call(arguments),function(c){0==a.__rememberedObjects.length&&E(a);-1==
a.__rememberedObjects.indexOf(c)&&a.__rememberedObjects.push(c)});this.autoPlace&&A(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;a.closed=this.closed;0<this.__rememberedObjects.length&&(a.preset=this.preset,a.remembered||(a.remembered={}),a.remembered[this.preset]=B(this));a.folders={};p.each(this.__folders,function(c,e){a.folders[e]=c.getSaveObject()});return a},save:function(){this.load.remembered||(this.load.remembered=
{});this.load.remembered[this.preset]=B(this);C(this,!1)},saveAs:function(a){this.load.remembered||(this.load.remembered={},this.load.remembered[I]=B(this,!0));this.load.remembered[a]=B(this);this.preset=a;F(this,a,!0)},revert:function(a){p.each(this.__controllers,function(c){this.getRoot().load.remembered?y(a||this.getRoot(),c):c.setValue(c.initialValue)},this);p.each(this.__folders,function(a){a.revert(a)});a||C(this.getRoot(),!1)},listen:function(a){var c=0==this.__listening.length;this.__listening.push(a);
c&&H(this.__listening)}});return N}(dat.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',
".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid rgba(0, 0, 0, 0); }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2fa1d6; }\n    .dg .cr.number input[type=text] {\n      color: #2fa1d6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2fa1d6; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",
dat.controllers.factory=function(d,c,a,e,k,f,h){return function(l,m,q,n){var t=l[m];if(h.isArray(q)||h.isObject(q))return new d(l,m,q);if(h.isNumber(t))return h.isNumber(q)&&h.isNumber(n)?new a(l,m,q,n):new c(l,m,{min:q,max:n});if(h.isString(t))return new e(l,m);if(h.isFunction(t))return new k(l,m,"");if(h.isBoolean(t))return new f(l,m)}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(d,c,a){var e=
function(a,f){function h(){d.setValue(d.__input.value)}e.superclass.call(this,a,f);var d=this;this.__input=document.createElement("input");this.__input.setAttribute("type","text");c.bind(this.__input,"keyup",h);c.bind(this.__input,"change",h);c.bind(this.__input,"blur",function(){d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())});c.bind(this.__input,"keydown",function(a){13===a.keyCode&&this.blur()});this.updateDisplay();this.domElement.appendChild(this.__input)};e.superclass=d;a.extend(e.prototype,
d.prototype,{updateDisplay:function(){c.isActive(this.__input)||(this.__input.value=this.getValue());return e.superclass.prototype.updateDisplay.call(this)}});return e}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,
dat.controllers.ColorController=function(d,c,a,e,k){function f(a,c,e,f){a.style.background="";k.each(m,function(h){a.style.cssText+="background: "+h+"linear-gradient("+c+", "+e+" 0%, "+f+" 100%); "})}function h(a){a.style.background="";a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var l=function(d,m){function t(a){w(a);c.bind(window,"mousemove",w);c.bind(window,
"mouseup",u)}function u(){c.unbind(window,"mousemove",w);c.unbind(window,"mouseup",u)}function v(){var a=e(this.value);!1!==a?(z.__color.__state=a,z.setValue(z.__color.toOriginal())):this.value=z.__color.toString()}function p(){c.unbind(window,"mousemove",x);c.unbind(window,"mouseup",p)}function w(a){a.preventDefault();var e=c.getWidth(z.__saturation_field),f=c.getOffset(z.__saturation_field),h=(a.clientX-f.left+document.body.scrollLeft)/e;a=1-(a.clientY-f.top+document.body.scrollTop)/e;1<a?a=1:0>
a&&(a=0);1<h?h=1:0>h&&(h=0);z.__color.v=a;z.__color.s=h;z.setValue(z.__color.toOriginal());return!1}function x(a){a.preventDefault();var e=c.getHeight(z.__hue_field),f=c.getOffset(z.__hue_field);a=1-(a.clientY-f.top+document.body.scrollTop)/e;1<a?a=1:0>a&&(a=0);z.__color.h=360*a;z.setValue(z.__color.toOriginal());return!1}l.superclass.call(this,d,m);this.__color=new a(this.getValue());this.__temp=new a(0);var z=this;this.domElement=document.createElement("div");c.makeSelectable(this.domElement,!1);
this.__selector=document.createElement("div");this.__selector.className="selector";this.__saturation_field=document.createElement("div");this.__saturation_field.className="saturation-field";this.__field_knob=document.createElement("div");this.__field_knob.className="field-knob";this.__field_knob_border="2px solid ";this.__hue_knob=document.createElement("div");this.__hue_knob.className="hue-knob";this.__hue_field=document.createElement("div");this.__hue_field.className="hue-field";this.__input=document.createElement("input");
this.__input.type="text";this.__input_textShadow="0 1px 1px ";c.bind(this.__input,"keydown",function(a){13===a.keyCode&&v.call(this)});c.bind(this.__input,"blur",v);c.bind(this.__selector,"mousedown",function(a){c.addClass(this,"drag").bind(window,"mouseup",function(a){c.removeClass(z.__selector,"drag")})});var y=document.createElement("div");k.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"});k.extend(this.__field_knob.style,
{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(.5>this.__color.v?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1});k.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1});k.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"});k.extend(y.style,{width:"100%",height:"100%",
background:"none"});f(y,"top","rgba(0,0,0,0)","#000");k.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"});h(this.__hue_field);k.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"});c.bind(this.__saturation_field,"mousedown",t);c.bind(this.__field_knob,"mousedown",t);c.bind(this.__hue_field,"mousedown",function(a){x(a);c.bind(window,
"mousemove",x);c.bind(window,"mouseup",p)});this.__saturation_field.appendChild(y);this.__selector.appendChild(this.__field_knob);this.__selector.appendChild(this.__saturation_field);this.__selector.appendChild(this.__hue_field);this.__hue_field.appendChild(this.__hue_knob);this.domElement.appendChild(this.__input);this.domElement.appendChild(this.__selector);this.updateDisplay()};l.superclass=d;k.extend(l.prototype,d.prototype,{updateDisplay:function(){var c=e(this.getValue());if(!1!==c){var h=!1;
k.each(a.COMPONENTS,function(a){if(!k.isUndefined(c[a])&&!k.isUndefined(this.__color.__state[a])&&c[a]!==this.__color.__state[a])return h=!0,{}},this);h&&k.extend(this.__color.__state,c)}k.extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var d=.5>this.__color.v||.5<this.__color.s?255:0,l=255-d;k.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+d+
","+d+","+d+")"});this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px";this.__temp.s=1;this.__temp.v=1;f(this.__saturation_field,"left","#fff",this.__temp.toString());k.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+d+","+d+","+d+")",textShadow:this.__input_textShadow+"rgba("+l+","+l+","+l+",.7)"})}});var m=["-moz-","-o-","-webkit-","-ms-",""];return l}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(d,c,a,e){function k(a,
c,e){Object.defineProperty(a,c,{get:function(){if("RGB"===this.__state.space)return this.__state[c];h(this,c,e);return this.__state[c]},set:function(a){"RGB"!==this.__state.space&&(h(this,c,e),this.__state.space="RGB");this.__state[c]=a}})}function f(a,c){Object.defineProperty(a,c,{get:function(){if("HSV"===this.__state.space)return this.__state[c];l(this);return this.__state[c]},set:function(a){"HSV"!==this.__state.space&&(l(this),this.__state.space="HSV");this.__state[c]=a}})}function h(a,f,h){if("HEX"===
a.__state.space)a.__state[f]=c.component_from_hex(a.__state.hex,h);else if("HSV"===a.__state.space)e.extend(a.__state,c.hsv_to_rgb(a.__state.h,a.__state.s,a.__state.v));else throw"Corrupted color state";}function l(a){var f=c.rgb_to_hsv(a.r,a.g,a.b);e.extend(a.__state,{s:f.s,v:f.v});e.isNaN(f.h)?e.isUndefined(a.__state.h)&&(a.__state.h=0):a.__state.h=f.h}var m=function(){this.__state=d.apply(this,arguments);if(!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||
1};m.COMPONENTS="r g b h s v hex a".split(" ");e.extend(m.prototype,{toString:function(){return a(this)},toOriginal:function(){return this.__state.conversion.write(this)}});k(m.prototype,"r",2);k(m.prototype,"g",1);k(m.prototype,"b",0);f(m.prototype,"h");f(m.prototype,"s");f(m.prototype,"v");Object.defineProperty(m.prototype,"a",{get:function(){return this.__state.a},set:function(a){this.__state.a=a}});Object.defineProperty(m.prototype,"hex",{get:function(){this.__state.hex=c.rgb_to_hex(this.r,this.g,
this.b);return this.__state.hex},set:function(a){this.__state.space="HEX";this.__state.hex=a}});return m}(dat.color.interpret,dat.color.math=function(){var d;return{hsv_to_rgb:function(c,a,e){var d=c/60-Math.floor(c/60),f=e*(1-a),h=e*(1-d*a);a=e*(1-(1-d)*a);c=[[e,a,f],[h,e,f],[f,e,a],[f,h,e],[a,f,e],[e,f,h]][Math.floor(c/60)%6];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(c,a,e){var d=Math.min(c,a,e),f=Math.max(c,a,e),d=f-d;if(0==f)return{h:NaN,s:0,v:0};c=(c==f?(a-e)/d:a==f?2+(e-
c)/d:4+(c-a)/d)/6;0>c&&(c+=1);return{h:360*c,s:d/f,v:f/255}},rgb_to_hex:function(c,a,e){c=this.hex_with_component(0,2,c);c=this.hex_with_component(c,1,a);return this.hex_with_component(c,0,e)},component_from_hex:function(c,a){return c>>8*a&255},hex_with_component:function(c,a,e){return e<<(d=8*a)|c&~(255<<d)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d,c){window.setTimeout(d,1E3/60)}}(),dat.dom.CenteredDiv=function(d,c){var a=function(){this.backgroundElement=document.createElement("div");c.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"});d.makeFullscreen(this.backgroundElement);this.backgroundElement.style.position="fixed";this.domElement=document.createElement("div");
c.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var a=this;d.bind(this.backgroundElement,"click",function(){a.hide()})};a.prototype.show=function(){var a=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=0;this.domElement.style.webkitTransform=
"scale(1.1)";this.layout();c.defer(function(){a.backgroundElement.style.opacity=1;a.domElement.style.opacity=1;a.domElement.style.webkitTransform="scale(1)"})};a.prototype.hide=function(){var a=this,c=function(){a.domElement.style.display="none";a.backgroundElement.style.display="none";d.unbind(a.domElement,"webkitTransitionEnd",c);d.unbind(a.domElement,"transitionend",c);d.unbind(a.domElement,"oTransitionEnd",c)};d.bind(this.domElement,"webkitTransitionEnd",c);d.bind(this.domElement,"transitionend",
c);d.bind(this.domElement,"oTransitionEnd",c);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"};a.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-d.getWidth(this.domElement)/2+"px";this.domElement.style.top=window.innerHeight/2-d.getHeight(this.domElement)/2+"px"};return a}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common);
(function(){function d(c,e){function f(a,c){return function(){return a.apply(c,arguments)}}var h;e=e||{};this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=e.touchBoundary||10;this.layer=c;this.tapDelay=e.tapDelay||200;this.tapTimeout=e.tapTimeout||700;if(!d.notNeeded(c)){for(var k="onMouse onClick onTouchStart onTouchMove onTouchEnd onTouchCancel".split(" "),u=0,v=k.length;u<v;u++)this[k[u]]=f(this[k[u]],
this);a&&(c.addEventListener("mouseover",this.onMouse,!0),c.addEventListener("mousedown",this.onMouse,!0),c.addEventListener("mouseup",this.onMouse,!0));c.addEventListener("click",this.onClick,!0);c.addEventListener("touchstart",this.onTouchStart,!1);c.addEventListener("touchmove",this.onTouchMove,!1);c.addEventListener("touchend",this.onTouchEnd,!1);c.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(c.removeEventListener=function(a,e,f){var h=Node.prototype.removeEventListener;
"click"===a?h.call(c,a,e.hijacked||e,f):h.call(c,a,e,f)},c.addEventListener=function(a,e,f){var h=Node.prototype.addEventListener;"click"===a?h.call(c,a,e.hijacked||(e.hijacked=function(a){a.propagationStopped||e(a)}),f):h.call(c,a,e,f)});"function"===typeof c.onclick&&(h=c.onclick,c.addEventListener("click",function(a){h(a)},!1),c.onclick=null)}}var c=0<=navigator.userAgent.indexOf("Windows Phone"),a=0<navigator.userAgent.indexOf("Android")&&!c,e=/iP(ad|hone|od)/.test(navigator.userAgent)&&!c,k=
e&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=e&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),h=0<navigator.userAgent.indexOf("BB10");d.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(a.disabled)return!0;break;case "input":if(e&&"file"===a.type||a.disabled)return!0;break;case "label":case "iframe":case "video":return!0}return/\bneedsclick\b/.test(a.className)};d.prototype.needsFocus=function(c){switch(c.nodeName.toLowerCase()){case "textarea":return!0;
case "select":return!a;case "input":switch(c.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!c.disabled&&!c.readOnly;default:return/\bneedsfocus\b/.test(c.className)}};d.prototype.sendClick=function(a,c){var e,f;document.activeElement&&document.activeElement!==a&&document.activeElement.blur();f=c.changedTouches[0];e=document.createEvent("MouseEvents");e.initMouseEvent(this.determineEventType(a),!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,
!1,!1,!1,!1,0,null);e.forwardedTouchEvent=!0;a.dispatchEvent(e)};d.prototype.determineEventType=function(c){return a&&"select"===c.tagName.toLowerCase()?"mousedown":"click"};d.prototype.focus=function(a){var c;e&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(c=a.value.length,a.setSelectionRange(c,c)):a.focus()};d.prototype.updateScrollParent=function(a){var c,e;c=a.fastClickScrollParent;if(!c||!c.contains(a)){e=a;do{if(e.scrollHeight>e.offsetHeight){c=e;a.fastClickScrollParent=
e;break}e=e.parentElement}while(e)}c&&(c.fastClickLastScrollTop=c.scrollTop)};d.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a};d.prototype.onTouchStart=function(a){var c,f,h;if(1<a.targetTouches.length)return!0;c=this.getTargetElementFromEventTarget(a.target);f=a.targetTouches[0];if(e){h=window.getSelection();if(h.rangeCount&&!h.isCollapsed)return!0;if(!k){if(f.identifier&&f.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;
this.lastTouchIdentifier=f.identifier;this.updateScrollParent(c)}}this.trackingClick=!0;this.trackingClickStart=a.timeStamp;this.targetElement=c;this.touchStartX=f.pageX;this.touchStartY=f.pageY;a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault();return!0};d.prototype.touchHasMoved=function(a){a=a.changedTouches[0];var c=this.touchBoundary;return Math.abs(a.pageX-this.touchStartX)>c||Math.abs(a.pageY-this.touchStartY)>c?!0:!1};d.prototype.onTouchMove=function(a){if(!this.trackingClick)return!0;
if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))this.trackingClick=!1,this.targetElement=null;return!0};d.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};d.prototype.onTouchEnd=function(c){var h,d,n=this.targetElement;if(!this.trackingClick)return!0;if(c.timeStamp-this.lastClickTime<
this.tapDelay)return this.cancelNextClick=!0;if(c.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;this.cancelNextClick=!1;this.lastClickTime=c.timeStamp;h=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;f&&(d=c.changedTouches[0],n=document.elementFromPoint(d.pageX-window.pageXOffset,d.pageY-window.pageYOffset)||n,n.fastClickScrollParent=this.targetElement.fastClickScrollParent);d=n.tagName.toLowerCase();if("label"===d){if(h=this.findControl(n)){this.focus(n);if(a)return!1;
n=h}}else if(this.needsFocus(n)){if(100<c.timeStamp-h||e&&window.top!==window&&"input"===d)return this.targetElement=null,!1;this.focus(n);this.sendClick(n,c);e&&"select"===d||(this.targetElement=null,c.preventDefault());return!1}if(e&&!k&&(h=n.fastClickScrollParent)&&h.fastClickLastScrollTop!==h.scrollTop)return!0;this.needsClick(n)||(c.preventDefault(),this.sendClick(n,c));return!1};d.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};d.prototype.onMouse=function(a){return this.targetElement&&
!a.forwardedTouchEvent&&a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0};d.prototype.onClick=function(a){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===a.target.type&&0===a.detail)return!0;a=this.onMouse(a);a||(this.targetElement=null);return a};d.prototype.destroy=function(){var c=this.layer;a&&(c.removeEventListener("mouseover",
this.onMouse,!0),c.removeEventListener("mousedown",this.onMouse,!0),c.removeEventListener("mouseup",this.onMouse,!0));c.removeEventListener("click",this.onClick,!0);c.removeEventListener("touchstart",this.onTouchStart,!1);c.removeEventListener("touchmove",this.onTouchMove,!1);c.removeEventListener("touchend",this.onTouchEnd,!1);c.removeEventListener("touchcancel",this.onTouchCancel,!1)};d.notNeeded=function(c){var e,f;if("undefined"===typeof window.ontouchstart)return!0;if(f=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||
[,0])[1])if(a){if((e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||31<f&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return h&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),10<=e[1]&&3<=e[2]&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===c.style.msTouchAction||"none"===c.style.touchAction?
!0:!1};d.attach=function(a,c){return new d(a,c)};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return d}):"undefined"!==typeof module&&module.exports?(module.exports=d.attach,module.exports.FastClick=d):window.FastClick=d})();
function colorFade(d,c,a,e,k,f){var h,l,m,q,n,t;k=k||20;f=f||20;clearInterval(d.timer);e=colorConv(e);h=e[0];l=e[1];m=e[2];d.r||(a=colorConv(a),r=a[0],g=a[1],b=a[2],d.r=r,d.g=g,d.b=b);q=Math.round(Math.abs(d.r-h)/k);n=Math.round(Math.abs(d.g-l)/k);t=Math.round(Math.abs(d.b-m)/k);0==q&&(q=1);0==n&&(n=1);0==t&&(t=1);d.step=1;d.timer=setInterval(function(){animateColor(d,c,k,h,l,m,q,n,t)},f)}
function animateColor(d,c,a,e,k,f,h,l,m){if(d.step<=a){a=d.r;var q=d.g,n=d.b;a=a>=e?a-h:parseInt(a)+parseInt(h);q=q>=k?q-l:parseInt(q)+parseInt(l);n=n>=f?n-m:parseInt(n)+parseInt(m);e="rgb("+a+","+q+","+n+")";"background"==c?d.style.backgroundColor=e:"border"==c?d.style.borderColor=e:d.style.color=e;d.r=a;d.g=q;d.b=n;d.step+=1}else clearInterval(d.timer),e="rgb("+e+","+k+","+f+")","background"==c?d.style.backgroundColor=e:"border"==c?d.style.borderColor=e:d.style.color=e}
function colorConv(d){return[parseInt(d.substring(0,2),16),parseInt(d.substring(2,4),16),parseInt(d.substring(4,6),16)]}
function MainMenu(d){function c(){var a=d.children.length;n=document.createElement("div");n.style.position="relative";n.style.display="block";for(var c=0,e=0;e<a;e++){var h=d.children[e];if(h.getAttribute("data-menuTitle")){var k=document.createElement("div");k.style.position="relative";k.style.clear="both";k.style.display="block";k._menuTitle=h.getAttribute("data-menuTitle");k._template=h.getAttribute("data-template");k._path=h.getAttribute("data-path");k._index=c;k.innerHTML=h.getAttribute("data-menuTitle");
k.style.whiteSpace="noWrap";k.style.color="#B9BFBB";5===c&&(k.style.marginTop="25px");k.style.left=0;k.style.cursor="pointer";k._storeData=h;u.push(k);BrowserDetect.MOBILE||BrowserDetect.TABLET?k.addEventListener("touchstart",f):(k.addEventListener(MouseAndTouchEvent.MOUSE_DOWN,f),k.addEventListener(MouseEvent.MOUSE_OVER,function(a){this!=v&&TweenMax.to(this,0,{css:{color:"#FFF"},ease:Linear.easeNone})}),k.addEventListener(MouseEvent.MOUSE_OUT,function(a){this!=v&&TweenMax.to(this,0,{css:{color:"#B9BFBB"},
ease:Linear.easeNone})}));n.appendChild(k);0==c&&(v=k,k.style.color="#fff");c++}}return n}function a(){AJAX.load(Assets.SITE_BASE+"/social/gettweets.php",e,"GET");t=new SmartObject;t.style.position="absolute";t.style.width="370px";t.style.fontSize="14px";t.style.lineHeight="16px";t.className="nav-twitter";t.style.left="52%";var a=document.createElement("span");a.style.display="block";a.style.marginBottom="7px";a.innerHTML=Assets.DATA_STATIC.querySelector("#nav-twitter").innerHTML;a.style.color="#B9BFBB";
t.appendChild(a);return t}function e(a){z=JSON.parse(a);a=z[0];var c=a.text;a.created_at.split(" ");var e=c;a=new SmartObject;a.style.position="relative";c=document.createElement("span");c.style.display="block";c.style.width="100%";c.style.marginBottom="6px";c.style.color="#B9BFBB";if(-1<e.indexOf("https://")||-1<e.indexOf("http://")||-1<e.indexOf("@"))for(var e=e.split(" "),f=0;f<e.length;f++)if(-1<e[f].indexOf("https://")){var h=document.createElement("a");h.style.textDecoration="none";h.style.color=
"#fff";h.setAttribute("href",e[f]);h.setAttribute("target","_blank");h.innerHTML=e[f]+" ";h.className="cultureLink";c.appendChild(h)}else-1<e[f].indexOf("http://")?(h=document.createElement("a"),h.style.textDecoration="none",h.style.color="#fff",h.setAttribute("href",e[f]),h.setAttribute("target","_blank"),h.innerHTML=e[f]+" ",h.className="cultureLink",c.appendChild(h)):-1<e[f].indexOf("@")?(h=document.createElement("span"),h.style.color="#fff",h.innerHTML=e[f]+" ",c.appendChild(h)):c.innerHTML+=
e[f]+" ";else c.innerHTML=e;a._text=c;a.appendChild(c);t.appendChild(a)}function k(a,c){if(y._isAnimating)return!1;c||_gaq.push(["_trackEvent","Menu",l._isOpen?"Close":"Open"]);"HomeTemplate"===ContentManager._activeTemplates[0].templateName&&ContentManager._activeTemplates[0].template.hideActiveCat&&ContentManager._activeTemplates[0].template.hideActiveCat();if(l._isOpen)e=l,f=ContentManager._prevTemplateObj.template,parseInt(f.style.top)&&(l.style.top=-parseInt(f.style.top)+"px",Assets.LAYER_ALL.scrollTop=
-parseInt(f.style.top),f.style.top="0px"),Assets.SCROLL_DISABLER.enable_scroll(),y.move(e,f,{direction:"left",onComplete:function(){f.enableParallax&&f.enableParallax();f.showBackArrow&&f.showBackArrow();l.style.top="0px";l._isOpen=!1;c&&c()}});else{l._isOpen=!0;document.body.style.overflow="hidden";Assets.SCROLL_DISABLER.disable_scroll();var e=ContentManager._prevTemplateObj.template,f=l;Assets.LAYER_ALL&&Assets.LAYER_ALL.scrollTop&&(e.style.top=-Assets.LAYER_ALL.scrollTop+"px",Assets.LAYER_ALL.scrollTop=
0);e.disableParallax&&e.disableParallax();e.hideBackArrow&&e.hideBackArrow();y.move(e,f,{direction:"right",onComplete:function(){c&&c()}});l.style.display="block";l.style.top="0px"}}function f(a){if(y._isAnimating)return!1;var c=a.currentTarget;trace(c._storeData);ContentManager._newPath!==c._path&&TweenMax.to(v,.2,{css:{color:"#B9BFBB"},ease:Linear.easeNone});c.style.color="#fff";v=c;ContentManager._newPath===c._path?(Assets.SCROLL_DISABLER.enable_scroll(),k(a,function(){l._isOpen=!1;l.style.top=
"0px"})):(Assets.SCROLL_DISABLER.enable_scroll(),l._isOpen=!1,l.style.top="0px",Assets.CLICKED_MENU_LINK=!0,ContentManager.path(c._storeData));m.onClick(null,!0)}function h(a){x=window.innerWidth/640;window.innerHeight<window.innerWidth&&(x=window.innerHeight/640);l._isOpen?(l.style.display="block",TweenMax.set(ContentManager._prevTemplateObj.template,{x:Math.ceil(window.innerWidth+2),y:0,z:0})):l.style.display="none";p.style.width=window.innerWidth+"px";p.style.height=window.innerHeight+"px";q.style.width=
window.innerWidth-40+"px";q.style.height=window.innerHeight-40+"px";w&&w.resize();q.style.width=window.innerWidth-40+"px"}var l=new SmartObject;l.style.position="absolute";l.style.top=0;l.style.left=0;l.style.right=0;l.style.bottom=0;l.style.display="none";var m,q,n,t,u=[],v,p,w,x,z,y=Assets.FULLSCREEN_TRANSITIONS||new FullScreenStackTransition;l._isOpen=!1;l.slideInMenuIcon=function(){TweenMax.to(m,Assets.TRANSITIONS_MANAGER._options.speed,{_x:40,ease:Expo.easeInOut,overwrite:"all"})};l.getIndexOfTemplateFromPath=
function(a){var c=0,e=u.length,f;for(c;c<e;c++){var h=u[c];if(h._path===a){f=h;break}}return f};l.setColor=function(a,c,e){return!1};l.highlightMenuItemFromPath=function(a){if(a=l.getIndexOfTemplateFromPath(a))a!==v&&(v.style.color="#B9BFBB"),a.style.color="#fff",v=a};(function(e){p=new SmartObject;p.style.width=window.innerWidth+"px";p.style.height=window.innerHeight+"px";p._x=0;p.style.backgroundColor="#525453";l.appendChild(p);q=new SmartObject;q.style.position="absolute";q.style.width=window.innerWidth-
40+"px";q.style.height=window.innerHeight-40+"px";q._x=20;q._y=20;q.style.backgroundColor="#5D5F5E";var f=new SmartObject;f.style.position="absolute";f.style.width=window.innerWidth+"px";f.style.height=window.innerHeight+"px";l.appendChild(q);l.appendChild(f);w=new SmartObject;w.style.position="absolute";w.style.zIndex=9999;w.style.width="50%";w.style.height="100%";w.style.left="20px";var h=new SmartObject;h.style.position="absolute";h.style.left="52%";h.style.right=0;h.style.width="auto";h.style.margin=
"0px 40px 0px 0px";h.style.display="block";e=c();h.appendChild(e);e=new SmartObject;e.style.position="absolute";e.style.width="100%";e.style.height="100%";e.style.left="-20px";var d=new SmartObject;d.style.position="absolute";d.innerHTML=Assets.DATA_STATIC.querySelector("#nav-title").innerHTML;d.style.fontSize="14px";d.style.left="52%";d.style.top="30px";d.style.color="#B9BFBB";var k=new SmartObject;k.style.width="45px";k.style.height="1px";k.style.position="absolute";k.style.top="8px";k.style.right=
"-49px";k.style.backgroundColor=d.style.color;d.appendChild(k);var m=new HMLogo,k=Assets.DATA_STATIC.querySelector("#email").innerHTML,u=document.createElement("a");u.style.position="absolute";u.style.fontFamily="TheinhardtRegular";u.href="mailto:"+k;u.innerHTML=k;u.style.left="20px";u.style.bottom="20px";u.style.color="#B9BFBB";u.style.textDecoration="none";BrowserDetect.DESKTOP&&(u.addEventListener(MouseEvent.MOUSE_OVER,function(a){TweenMax.to(u,.2,{css:{color:"#FFF"},ease:Linear.easeNone})}),u.addEventListener(MouseEvent.MOUSE_OUT,
function(a){TweenMax.to(u,.2,{css:{color:"#B9BFBB"},ease:Linear.easeNone})}));var v=new SmartObject;v.style.position="absolute";v.innerHTML="&copy; Copyright "+(new Date).getFullYear();v.style.fontFamily="TheinhardtRegular";v.style.left="52%";v.style.bottom="20px";v.style.color="#B9BFBB";e.appendChild(d);e.appendChild(m);e.appendChild(u);e.appendChild(v);e.appendChild(h);k=new SmartObject;k.style.position="absolute";k.style.display="block";k.style.width="100%";k.style.height="auto";k.style.top=0;
k.style.left=0;k.style.right=0;k.style.bottom=0;k.style.margin="20px 0px 20px 20px";k.appendChild(e);a();e.appendChild(t);w.appendChild(k);w.resize=function(a){x=window.innerWidth/640;window.innerHeight<window.innerWidth&&(x=window.innerHeight/640);w.style.width=window.innerWidth/2-20+"px";m.resize();f.style.width=window.innerWidth+"px";f.style.height=window.innerHeight+"px";if(900>window.innerWidth||BrowserDetect.MOBILE){h.style.left="20px";v.style.opacity=0;d.style.opacity=0;h.style.top=null;h.style.bottom=
(500>window.innerHeight?100:150)*x+"px";a=(window.innerWidth>window.innerHeight||500>window.innerHeight?30:48)*x;var c=(window.innerWidth>window.innerHeight||500>window.innerHeight?34:52)*x;if(45<a||48<c)a=45,c=48;n.style.fontSize=a+"px";n.style.lineHeight=c+"px"}else h.style.left="52%",v.style.opacity=1,d.style.opacity=1,n.style.fontSize="30px",n.style.lineHeight="34px",h.style.top=m._y-parseInt(n.style.fontSize)/2+9+"px";450<window.innerWidth&&BrowserDetect.MOBILE&&window.innerWidth>window.innerHeight&&
(h.style.left="70%",h.style.top=m._y-parseInt(n.style.fontSize)/2+4+"px");w.style.width="50%";t.style.bottom="90px";t.style.display=900>window.innerWidth||BrowserDetect.MOBILE||700>window.innerHeight?"none":"block";a=h.style;var c=h.firstChild,e={w:c.offsetWidth,h:c.offsetHeight};if(!c._sizeW&&!c._sizeH){var k=c.cloneNode(!0);k.style.display="block";k.style.visibility="hidden";document.body.appendChild(k);c._sizeW=k.offsetWidth;c._sizeH=k.offsetHeight;e={w:k.offsetWidth,h:k.offsetHeight};document.body.removeChild(k)}a.height=
e+"px"};f.appendChild(w)})();m=new MainMenuButton(k,y);m.style.position="fixed";m.style.zIndex=5;m._x=-80;m._y=40;m.style.top=0;m.style.left=0;m.style["-webkit-backface-visibility"]="hidden";Assets.LAYER_TOP.appendChild(m);h();l._resize=h;window.addEventListener("resize",h);return l}
function AbstractButton(d,c){var a=new SmartObject;a.bg=document.createElement("div");a.callback=d||function(){};a.hitArea=new SmartObject;a.addEvents=function(){a.hitArea.style.backgroundColor="#FFFFFF";a.hitArea._opacity=.01;a.hitArea.style.width=a.bg.style.width;a.hitArea.style.height=a.bg.style.height;a.hitArea.style.cursor="pointer";a.hitArea.style.pointerEvents="all";a.appendChild(a.hitArea);BrowserDetect.MOBILE||BrowserDetect.TABLET?a.hitArea.addEventListener("touchstart",a.onClick):(a.hitArea.addEventListener(MouseEvent.MOUSE_OVER,
a.mouseOver),a.hitArea.addEventListener(MouseEvent.MOUSE_OUT,a.mouseOut),a.hitArea.addEventListener(MouseEvent.MOUSE_DOWN,a.onClick))};a.removeEvents=function(){a.hitArea.style.cursor="default";a.hitArea.style.pointerEvents="none";BrowserDetect.MOBILE||BrowserDetect.TABLET?a.hitArea.removeEventListener("touchstart",a.onClick):(a.hitArea.removeEventListener(MouseEvent.MOUSE_OVER,a.mouseOver),a.hitArea.removeEventListener(MouseEvent.MOUSE_OUT,a.mouseOut),a.hitArea.removeEventListener(MouseEvent.MOUSE_DOWN,
a.onClick));a&&a.hitArea&&a.hitArea.parentNode&&a.hitArea.parentNode.removeChild(a.hitArea)};a.onClick=function(){a.callback&&a.callback()};a.mouseOver=function(){};a.mouseOut=function(){};a.changeBackgroundColor=function(c){a.bg.style.backgroundColor=c};a.kill=function(){a.bg=null;a.callback=null;a=a.hitArea=null};a.bg.style.width="46px";a.bg.style.height="46px";a.bg.style.borderRadius="23px";a.bg.style.position="absolute";a.changeBackgroundColor(c||"#FFFFFF");a.appendChild(a.bg);return a}
function MainMenuButton(d,c){function a(){TweenMax.to(h[0],.3,{_y:18,overwrite:!0,ease:Quad.easeOut});TweenMax.to(h[2],.3,{_y:26,overwrite:!0,ease:Quad.easeOut,onComplete:e})}function e(){m=!1}function k(a){m=!1;var c=0===a?Quad.easeOut:Quad.easeInOut;TweenMax.to(h[0],.3,{delay:a||.3,_y:18,overwrite:!0,ease:c});TweenMax.to(h[2],.3,{delay:a||.3,_y:26,overwrite:!0,ease:c})}var f=HM.extend(AbstractButton,[d]),h=[],l=!1,m=!1;f.override("onClick",function(e,d){if(c._isAnimating&&!0!==d)return!1;l?(l=!1,
TweenMax.to(h[0],.3,{_y:9,overwrite:!0,ease:Quad.easeOut}),TweenMax.to(h[1],.3,{delay:.2,_rotation:0,overwrite:!0,ease:Quad.easeOut})):(l=!0,TweenMax.to(h[0],.3,{_y:9,overwrite:!0,ease:Quad.easeOut}),TweenMax.to(h[1],.3,{delay:.2,_rotation:180,overwrite:!0,ease:Quad.easeOut}));TweenMax.to(h[2],.3,{_y:35,overwrite:!0,ease:Quad.easeOut,onComplete:a});if(!d)f._super.onClick()});f.override("mouseOver",function(){m||(TweenMax.to(h[0],.3,{_y:16,overwrite:!0,ease:Quad.easeOut}),TweenMax.to(h[2],.3,{_y:28,
overwrite:!0,ease:Quad.easeOut,onComplete:k}))});f.override("mouseOut",function(){m||a()});(function(){var a=0,c;for(a;3>a;a++)c=new SmartObject(AssetLoader.getAsset("assets/images/ui/navigationline@2.png")),c._x=13,c._y=18+4*a,c.width=20,c.height=3,c.style.pointerEvents="none",f.appendChild(c),h.push(c);f.addEvents()})();return f}
function ArrowButton(d,c,a,e,k){function f(){u||(TweenLite.to(m,n.speed,{_rotation:135,_x:-1,ease:Expo.easeInOut}),TweenLite.to(q,n.speed,{_rotation:-135,_x:v,ease:Expo.easeInOut,onComplete:h}))}function h(){t=!1;m._rotation=-45;q._rotation=45;u&&l.mouseOver()}var l=HM.extend(AbstractButton,[c,a]),m,q,n=k._options,t=!1,u=!1,v="Safari"===BrowserDetect.BROWSER_NAME?9:10;l.override("onClick",function(a,c){if(k._isAnimating&&!0!==c)return!1;t=!0;l.callback(a,d);TweenLite.to(m,n.speed,{_rotation:135,_x:-1,
ease:n.ease||Expo.easeInOut,overwrite:!0});TweenLite.to(q,n.speed,{_rotation:-135,_x:v,ease:n.ease||Expo.easeInOut,onComplete:h,overwrite:!0})});l.override("mouseOver",function(){u=!0;t||(TweenLite.to(m,.25,{_rotation:-25,_x:-2,ease:Quad.easeInOut}),TweenLite.to(q,.25,{_rotation:25,_x:11,ease:Quad.easeInOut}))});l.override("mouseOut",function(){u=!1;t||(TweenLite.to(m,.25,{_rotation:-45,_x:-1,ease:Quad.easeInOut}),TweenLite.to(q,.25,{_rotation:45,_x:v,ease:Quad.easeInOut}))});l.style.zIndex=999;m=
new SmartObject;m.style.backgroundColor=a?"#FFFFFF":"#555657";m.style.width="15px";m.style.height="1px";m._rotation=-45;m._x=-1;m._y=4;q=new SmartObject;q.style.backgroundColor=a?"#FFFFFF":"#555657";q.style.width="15px";q.style.height="1px";q._x=v;q._y=4;q._rotation=45;c=new SmartObject;c.style.width="24px";c.style.height="11px";c._x=11;c._y=17;c.style.pointerEvents="none";switch(d){case "down":c._rotation=180;c._x=11;c._y=18;break;case "left":c._rotation=-90;c._x=10;c._y=18;break;case "right":c._rotation=
90}l.appendChild(c);c.appendChild(m);c.appendChild(q);e&&(setTimeout(f,500),e=setInterval(f,4E3),l.idleTimer=e);l.addEvents();return l}
function OffsiteButton(d,c){var a=HM.extend(AbstractButton,[d,c]),e=SmartObject(AssetLoader.getAsset("assets/images/ui/offsite_icon_outline@2.png")),k=SmartObject(AssetLoader.getAsset("assets/images/ui/offsite_icon_arrow@2.png"));a.override("mouseOver",function(){TweenLite.to(k,.3,{_x:21,_y:8})});a.override("mouseOut",function(){TweenLite.to(k,.3,{_x:19,_y:10,_rotation:0})});a.bg.style.width="36px";a.bg.style.height="36px";a.bg.style.borderRadius="18px";e.___useRounded=!0;e.style.pointerEvents="none";
e._x=9;e._y=10;e.width=18.5;e.height=16;a.appendChild(e);k.style.pointerEvents="none";k._x=19;k._y=10;k.width=8;k.height=8;a.appendChild(k);return a}
function HMLogo(){var d=new SmartObject(AssetLoader.getAsset("assets/images/frontpage/hellomonday-logo@2.png"));d.addEvents=function(){d.style.cursor="pointer";d.style.pointerEvents="all";BrowserDetect.MOBILE||BrowserDetect.TABLET?d.addEventListener("touchstart",d.onClick):d.addEventListener(MouseEvent.MOUSE_DOWN,d.onClick)};d.removeEvents=function(){BrowserDetect.MOBILE||BrowserDetect.TABLET?d.removeEventListener("touchstart",d.onClick):d.removeEventListener(MouseEvent.MOUSE_DOWN,d.onClick)};d.onclick=
function(c){ContentManager.path("home")};d.resize=function(){var c=window.innerWidth/640;window.innerHeight<window.innerWidth&&(c=window.innerHeight/640);if(900>window.innerWidth||600>window.innerHeight){var a=.7*(window.innerWidth/2-20);1==BrowserDetect.MOBILE&&window.innerWidth>window.innerHeight&&720>window.innerWidth?a=d.orgW/2.2*c:1==BrowserDetect.MOBILE&&window.innerWidth>window.innerHeight&&(a=d.orgW/1.6*c);a>=d.orgW/2&&!0!==BrowserDetect.MOBILE?(d.style.width=null,d.style.height=null):(d.style.width=
a+"px",d.style.height="auto")}else d.style.width=null,d.style.height=null};d.style.zIndex=999;d._x=20;d._y=158;d.orgW=d.naturalWidth||d.width;d.orgH=d.naturalHeight||d.height;d.ratio=d.orgH/d.orgW;d.addEvents();return d}
(function CatAnimationData(c){var a={};CatAnimationData.THAT_THING_WE_DID={fps:30,audio:"assets/audio/that_thing.mp3",path:"assets/animations/bob_that_thing/",frames:200};CatAnimationData.PROUD_PEACOCK={fps:20,audio:"assets/audio/proud_peacock.mp3",path:"assets/animations/bob_proud_peacock/",frames:84};a.getDataForType=function(a){var c;switch(a){case "that_thing":c=CatAnimationData.THAT_THING_WE_DID;break;case "proud_peacock":c=CatAnimationData.PROUD_PEACOCK}a=c;var f=c.path,h=[],l=0,m=c.frames;
for(l;l<m;l++)h.push(AssetLoader.getAsset(f+"frame_"+l+".png"));a.images=h;return c};a.getAssetsForType=function(a){var c;switch(a){case "that_thing":c=CatAnimationData.THAT_THING_WE_DID;break;case "proud_peacock":c=CatAnimationData.PROUD_PEACOCK}a=c.path;var f=[],h=0;c=c.frames;for(h;h<c;h++)f.push(a+"frame_"+h+".png");return f};c.CatAnimationData=a})(window);
function Cat(d,c){var a=new SmartObject,e,k,f,h=!1,l=!1;a.play=function(){e.play();h&&(HM.Audio.play(f),l=!0)};a.pause=function(){e.pause();h&&l&&HM.Audio.pause(f)};a.unloadAssets=function(){var a=CatAnimationData.getAssetsForType(d),c=0,e=a.length;for(c;c<e;c++)AssetLoader.destroy(a[c]);k=null};k=CatAnimationData.getDataForType(d);e=new AnimationSequence(k.images,k.fps,function(e){e===k.frames-1&&c(a)});e.style.pointerEvents="none";a.appendChild(e);k.audio&&""!==k.audio&&(h=!0,f=HM.Audio.createAudioObject(k.audio));
return a}
function PageTransitionsManager(){function d(){if(!f){var a=k.shift();if(!a)return!1;h=a;f=!0;a=0;Assets.LAYER_ALL.scrollTop&&(a=Assets.LAYER_ALL.scrollTop,h.oldTemplate.style.top=-a+"px",l[h.oldTemplate._path]=a,Assets.LAYER_ALL.scrollTop=0);if(l[h.newTemplate._path]&&!Assets.RESET_SCROLL_TO_ZERO){var d=l[h.newTemplate._path];h.oldTemplate.style.top=-a+d+"px";Assets.LAYER_ALL.scrollTop=d;l[h.newTemplate._path]=null}h.oldTemplate.disableParallax&&h.oldTemplate.disableParallax();Assets.RESET_SCROLL_TO_ZERO&&(Assets.RESET_SCROLL_TO_ZERO=
!1);h.oldTemplate.pause&&requestAnimFrame(h.oldTemplate.pause);h.newTemplate.style.opacity=1;h.oldTemplate.style.position="absolute";h.newTemplate.style.position="absolute";Assets.SCROLL_DISABLER.disable_scroll();requestAnimFrame(function(){e.move(h.oldTemplate,h.newTemplate,{direction:"left",onComplete:c})});setTimeout(function(){requestAnimFrame(function(){Assets.SCROLL_DISABLER.enable_scroll()})},600*Assets.PAGE_TRANSTION_SPEED)}}function c(){if(h.onCompleteCallback)h.onCompleteCallback();h.newTemplate.loadRest&&
h.newTemplate.loadRest();h.newTemplate.buildTemplate&&requestAnimFrame(h.newTemplate.buildTemplate);h.newTemplate.unpause&&requestAnimFrame(h.newTemplate.unpause);h=null;f=!1;d()}var a={},e=Assets.FULLSCREEN_TRANSITIONS||new FullScreenStackTransition,k=[],f=!1,h,l=[];a._options=e._options;Array.prototype.pushUnique=function(a){return-1==this.indexOf(a)?(this.push(a),!0):!1};a.go=function(a,c,e){Assets.FIRST_PAGE_TRANSITION=!1;Assets.CLICKED_MENU_LINK?(e&&e(),e=null,a=Assets.MAIN_MENU):a._path=c.getAttribute("data-path");
BrowserDetect.DESKTOP&&(Assets.DELAY_CASE_IMAGES=!0);ContentManager.nextTemplate();c=ContentManager._prevTemplateObj.template;c._path=ContentManager._newPath;c.style.opacity=0;var f=parseInt(a.style.zIndex)||0;a.style.zIndex=f+1;c.style.zIndex=f+2;TweenMax.set(c,{x:Math.ceil(window.innerWidth+2),y:0,z:0});k.push({oldTemplate:a,newTemplate:c,onCompleteCallback:e});d();Assets.CLICKED_MENU_LINK=!1};return a}
function Preloader(){function d(a){TweenMax.to(t,.2,{opacity:.5,ease:Linear.easeNone})}function c(a){TweenMax.to(t,.2,{opacity:1,ease:Linear.easeNone})}function a(a){h=Math.round((Assets.getWindowWidth()-40)/4);f.style.width=Math.round(Assets.getWindowWidth()-40)+"px";f.style.height=Math.round(Assets.getWindowHeight()-40)+"px";l.resize();1100>Assets.getWindowWidth()?(m._x=20,q._x=20,q._y=292):(m._x=h+20,q._x=h+20,q._y=125);640>Assets.getWindowWidth()?(f.style.paddingBottom="50px",u.style.left="auto",
u.style.right="20px"):(u.style.left=h+20+"px",u.style.right="auto",f.style.paddingBottom="0px");e.style.width=window.innerWidth+"px";e.style.height=window.innerHeight+"px"}var e=new SmartObject,k=new FullScreenStackTransition,f,h,l,m,q,n,t,u,v=!1;e.update=function(a){if(v)return!1;a=a||100;100<=a&&(v=!0);n.innerHTML=a+"%"};e.kill=function(){if(!e)return!1;window.removeEventListener("resize",a);BrowserDetect.DESKTOP&&(t.removeEventListener(MouseEvent.MOUSE_OVER,d),t.removeEventListener(MouseEvent.MOUSE_OUT,
c));if(e.parentNode){var f=ContentManager._prevTemplateObj.template,h=e;h.style.zIndex=0;Assets.MAIN_MENU.slideInMenuIcon();requestAnimFrame(function(){k.move(h,f,{speed:Assets.PAGE_TRANSTION_SPEED,direction:"left",onComplete:function(){k.kill();e.parentNode.removeChild(e);e=null;document.body.style.background=document.documentElement.style.background="#AFB6B0"}})})}};document.body.appendChild(e);e.style.position="absolute";e.style.background="#565759";e.style.zIndex=99999;e.style.top=0;e.style.left=
0;f=new SmartObject;f.style.overflow="hidden";f.style.backgroundColor="#5e5f61";f.style.height=Assets.getWindowHeight()-20+"px";f._x=20;f._y=20;e.appendChild(f);h=(Assets.getWindowWidth()-40)/4;l=new HMLogo;f.appendChild(l);(function(){m=new SmartObject(document.createElement("span"));m.innerHTML=Assets.DATA_STATIC.querySelector("#please-wait").innerHTML;m.style.fontSize="14px";m.style.display="block";m.style.color="#fff";m._x=h+20;m._y=30;var a=document.createElement("div");a.style.position="relative";
a.style.width="43px";a.style.height="1px";a.style.backgroundColor="#fff";a.style.top=("Firefox"===BrowserDetect.BROWSER_NAME?-10:-8)+"px";a.style.left="87px";m.appendChild(a);f.appendChild(m)})();q=new SmartObject(document.createElement("span"));q.innerHTML=Assets.DATA_STATIC.querySelector("#loading").innerHTML;q.style.fontSize="28px";q.style.lineHeight="30px";q.style.display="block";q.style.color="#fff";q._x=h+20;q._y=125;n=new SmartObject(document.createElement("span"));n.innerHTML="0%";n.style.fontSize=
"28px";n.style.lineHeight="30px";n.style.display="block";n.style.color="#b8c2b9";q.appendChild(n);f.appendChild(q);(function(){var a=Assets.DATA_STATIC.querySelector("#email").innerHTML;t=document.createElement("a");t.style.position="absolute";t.href="mailto:"+a;t.innerHTML=a;t.style.textDecoration="none";t.style.fontFamily="TheinhardtRegular";t.style.fontSize="12px";t.style.color="#afb4b0";t.style.left="20px";t.style.bottom="20px";BrowserDetect.DESKTOP&&(t.addEventListener(MouseEvent.MOUSE_OVER,
d),t.addEventListener(MouseEvent.MOUSE_OUT,c));f.appendChild(t);u=document.createElement("span");u.style.position="absolute";u.innerHTML="&copy; Copyright "+(new Date).getFullYear();u.style.fontFamily="TheinhardtRegular";u.style.fontSize="12px";u.style.color="#afb4b0";u.style.left="20px";u.style.bottom="20px";f.appendChild(u)})();a();window.addEventListener("resize",a);return e}
function CaseSlideshow(d,c){function a(a){m||k(this._dir)}function e(a){m||k("up")}function k(a){m=!0;"up"==a?(q--,0>q&&(q=n-1)):(q++,q>n-1&&(q=0));HM.AssetLoader.loadSingle(v[q].path,{onComplete:f})}function f(){u=SmartObject(HM.AssetLoader.get(v[q].path));u._sizePerc=v[q].sizePerc;u.style.width="100%";u.style.height="auto";u.style.zIndex=0;t?(t.style.zIndex=1,TweenMax.to(t,.4,{_opacity:0,onComplete:h,ease:Linear.easeNone})):(u._opacity=0,TweenMax.to(u,.4,{_opacity:1,onComplete:h,ease:Linear.easeNone}));
l.appendChild(u)}function h(){t&&l.removeChild(t);t=u;u=null;m=!1}var l=new SmartObject,m=!1,q=-1,n,t,u,v=[];l.loadFirstSlide=function(){k("down")};l.resize=function(a,c){l.style.width=a+"px";t&&0!==t._getHeight()&&(l.style.height=t._getHeight()+"px");l._slideshowBtnUp&&(690>a?(l._slideshowBtnUp._x=a-12-46,l._slideshowBtnDown._x=a-12-46):(l._slideshowBtnUp._x=a-42-46,l._slideshowBtnDown._x=a-42-46),t&&(l._slideshowBtnUp._y=t._getHeight()/2-52,l._slideshowBtnDown._y=t._getHeight()/2+6))};l.kill=function(){l._slideshowBtnUp.removeEvents();
l._slideshowBtnDown.removeEvents();l._slideshowBtnUp=null;l._slideshowBtnDown=null;l.removeEventListener("click",e);var a=0,c=v.length;for(a;a<c;a++)HM.AssetLoader.destroy(v[a]);t&&(TweenMax.killTweensOf(t),t.parentNode&&l.removeChild(t));u&&(TweenMax.killTweensOf(u),u.parentNode&&l.removeChild(u))};(function(){l.style.overflow="hidden";l.style.top=0;l.style.left=0;l.style.width=Assets.getWindowWidth()+"px";l.style.clear="both";l.style.cssFloat="left";l.style.backgroundColor="#"+d.getAttribute("data-backgroundColor");
var f=d.getAttribute("data-arrowColor"),h=l,k=Assets.getWindowWidth(),m=new ArrowButton("left",a,"#"+f,null,{_options:{speed:.3,ease:Linear.easeNone}});m.style.zIndex=4;690>Assets.getWindowWidth()?m._x=k-12-46:m._x=k-42-46;m._y=c/2-52;m._dir="up";m._slideshow=h;h.appendChild(m);f=new ArrowButton("right",a,"#"+f,null,{_options:{speed:.3,ease:Linear.easeNone}});f.style.zIndex=4;690>Assets.getWindowWidth()?f._x=k-12-46:f._x=k-42-46;f._y=c/2+6;f._slideshow=h;f._dir="down";h.appendChild(f);h._slideshowBtnUp=
m;h._slideshowBtnDown=f;h.addEventListener("click",e);h=d.children;n=h.length;for(k=0;k<n;k++)m=1<window.devicePixelRatio,v.push({path:(1==BrowserDetect.MOBILE?1==m?Assets.CDN_URL_SMALL+"assets/images/projects/tablet/":Assets.CDN_URL_SMALL+"assets/images/projects/mobile/":1==BrowserDetect.TABLET?1==m?Assets.CDN_URL_SMALL+"assets/images/projects/desktop/":Assets.CDN_URL_SMALL+"assets/images/projects/tablet/":Assets.CDN_URL_SMALL+"assets/images/projects/desktop/")+h[k].getAttribute("data-image"),sizePerc:h[k].getAttribute("data-imageSizePerc")/
100}),0==k&&(m=h[k].getAttribute("data-height")/h[k].getAttribute("data-width"),l.style.height=Math.round(Assets.getWindowWidth()*m)+"px")})();return l}
function CalicoLogoGenerator(d,c,a){function e(){q(x);z.render()}function k(){switch(w.getFileType()){case "svg":z.saveAsSvg();break;case "jpg":z.saveAsJpg();break;case "png":z.saveAsPng();break;default:console.log("NO FILE TYPE SELECTED")}}function f(a){z.setColor(a);x="#fff"==a?!0:!1}function h(a){}function l(a){z.setNewText(a)}function m(){n=window.innerWidth;t=n*c;u.width=n;u.height=t;z.setPos(.5*n,.5*t);w.setSize(n,t);w.style.top=t-2+"px";w.style.left=1200<n?(window.innerWidth-1200)/2+"px":0;
q()}function q(a){color=1==a?"#AAA":"#f4f4f4";v.fillStyle=color;v.fillRect(0,0,n,t)}var n=window.innerWidth,t=window.innerHeight,u,v,p,w,x=!1,z,y=document.createElement("div");y.style.position="absolute";y.style.zIndex=10;y.init=function(){n=window.innerWidth;t=n*c;u=document.createElement("canvas");u.style.position="absolute";u.width=n;u.height=t;v=u.getContext("2d");y.appendChild(u);var e=document.createElement("canvas");e.id="fabricLogo";e.width=n;e.height=t;y.appendChild(e);z=new CircleAlpabet(v);
w=new UILogoGen(n,t);w.onDownload(k);w.onNewText(l);w.onColorChange(f);w.onTypePlaceChange(h);w.style.top=t-2+"px";a.appendChild(w);window.addEventListener("resize",m);m()};y.startRender=function(){p=setInterval(e,1E3/60)};y.stopRender=function(){clearInterval(p)};return y}
function CircleAlpabet(d){function c(){try{new Blob}catch(a){return console.log("Downloading of the logo is not supported in your browser. Go get the newest version or try another browser."),alert("Downloading of the logo is not supported in your browser. Go get the newest version or try another browser."),!1}return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")?(alert("Safari is not one of the supported browsers for downloading of the Logo. Please Try either Google Chrome or Firefox"),
!1):!0}function a(){TweenMax.killAll(!0);document.createElement("canvas").id="fabricRender";var a=w,c=w,e=2*w,f=2*w,h=v.length;4==h&&("BOTTOM"==y&&(f+=123-.5*w),"LEFT"==y&&(e+=z.getWidth()+162-.5*w,a+=z.getWidth()+162-.5*w));var d=new fabric.Canvas("fabricRender");d.setDimensions({width:e,height:f});for(e=0;e<h;e++)v[e].renderFabric(d,a,c);4==h&&(z.set({left:("BOTTOM"==y?7:-162)+a,top:("BOTTOM"==y?123:12)+c}),d.add(z));return d}function e(){_LogoCanvas=new fabric.Canvas("fabricLogo");var a=[];_LogoCanvas.selection=
!1;fabric.loadSVGFromURL("assets/images/projects/calico-logogenerator/CalicoLogo.svg",function(c,e){var f=new fabric.Group(a);f.hasControls=f.hasBorders=f.selectable=!1;f.set({left:t+("BOTTOM"==y?7:-162),top:u+("BOTTOM"==y?123:12),fill:q,opacity:E?1:0,width:75,height:75});z=f;_LogoCanvas.add(f);_LogoCanvas.renderAll()},function(c,e){e.set("id",c.getAttribute("id"));a.push(e)})}function k(){z&&(z.set({left:t+("BOTTOM"==y?7:-162),top:u+("BOTTOM"==y?123:12)}),_LogoCanvas.renderAll())}function f(a){var c=
t-a.pageX;a=u-a.pageY;Math.sqrt(c*c+a*a)<w&&window.addEventListener("mousemove",l)}function h(){window.removeEventListener("mousemove",l);for(var a=v.length,c=0;c<a;c++)TweenMax.to(v[c],1,{offsetX:0,offsetY:0,ease:Expo.easeOut})}function l(a){var c=t-a.pageX;a=u-a.pageY;c<-t?c=-t:c>t&&(c=t);a<-u?a=-u:a>u&&(a=u);for(var e=t,f=v.length,h=0;h<f;h++){var d=-v[h].radius/e;TweenMax.to(v[h],1,{offsetX:c*d,offsetY:a*d,ease:Expo.easeOut})}}function m(){1<v.length&&(v.pop().kill(function(a){a=p.indexOf(a);
-1!=a&&p.splice(a,1)}),w-=16)}var q="#403c3c",n={},t=0,u=0,v=[],p=[],w=18,x=0,z,y="BOTTOM",E=!1,D=360/3.5,A=new Circle(d,8,w,D,q);A.rotation=.5*D;v.push(A);p.push(A);var w=w+16,B="abcdefghijklmnopqrstuvwxyz".split(""),F="0123456789".split("");n.activate=function(){window.addEventListener("mousedown",f);window.addEventListener("mouseup",h);e()};n.deactivate=function(){window.removeEventListener("mousedown",f);window.removeEventListener("mouseup",h)};n.render=function(){for(var a=p.length,c=0;c<a;c++)p[c].render()};
n.setLogoPosition=function(a){y=a};n.setColor=function(a){q=a;for(var c=v.length,e=0;e<c;e++)v[e].color=a;z&&(z.set({fill:a}),_LogoCanvas.renderAll())};n.setLogoPlacemenet=function(a){y=a;k()};n.setPos=function(a,c){t=a;u=c;for(var e=v.length,f=0;f<e;f++)v[f].setPos(t,u);k()};n.saveAsSvg=function(){if(c()){var e=a(),f=new Blob([e.toSVG()],{type:"text/plain;charset=utf-8"});saveAs(f,"calico_logo_"+C+".svg");e.dispose();k()}};n.saveAsJpg=function(){if(c()){var e=a();e.backgroundColor="#FFFFFF";e.renderAll();
for(var f=e.toDataURL("image/jpg"),f=atob(f.substr(f.indexOf(",")+1)),h=f.length,d=new Uint8Array(h);h--;)d[h]=f.charCodeAt(h);saveAs(new Blob([d],{type:"image/jpg"}),"calico_logo_"+C+".jpg");e.dispose();k()}};n.saveAsPng=function(){if(c()){for(var e=a(),f=e.toDataURL("image/png"),f=atob(f.substr(f.indexOf(",")+1)),h=f.length,d=new Uint8Array(h);h--;)d[h]=f.charCodeAt(h);saveAs(new Blob([d],{type:"image/png"}),"calico_logo_"+C+".png");e.dispose();k()}};var C="";n.setNewText=function(a){a=a.toLowerCase();
if(a!=C){E=!1;z&&(z.set({opacity:0}),_LogoCanvas.renderAll());var c;if(a.length>C.length)for(var e=a.length,f=c=C.length;f<e;f++){var h=a.charAt(f),k=B.indexOf(h);if(-1==k){if(k=F.indexOf(h),-1!=k){var h=k,k=360,l=new Circle(d,8,w,k,q);l.setPos(t,u);k=360/F.length;l.rotation=360*Math.random();x=k*h+.5*k;v.push(l);p.push(l);TweenMax.to(l,1.5,{rotation:x,gap:k,ease:Quart.easeInOut});w+=16}}else h=k,k=360,l=new Circle(d,8,w,k,q),l.setPos(t,u),k=360/B.length,l.rotation=360*Math.random(),x=k*h+.5*k-2*
k,v.push(l),p.push(l),TweenMax.to(l,1.5,{rotation:x,gap:k,ease:Quart.easeInOut}),w+=16}else if(a.length<C.length)for(c=a.length,e=C.length-c,f=0;f<e;f++)m();for(f=0;f<c;f++)C.charAt(f)!=a.charAt(f)&&(e=f+1,h=B.indexOf(a.charAt(f)),-1==h?(h=F.indexOf(a.charAt(f)),-1!=h&&(k=360/F.length,TweenMax.to(v[e],3,{rotation:k*h+.5*k,gap:k,ease:Quart.easeOut}))):(k=360/B.length,TweenMax.to(v[e],3,{rotation:k*h+.5*k-2*k,gap:k,ease:Quart.easeOut})));C=a}};n.activate();return n}
function Circle(d,c,a,e,k){function f(a,e,f,d,k){var m="",w=Math.PI/180,x=f-.5*c,z=a+x*Math.cos(d*w),y=e+x*Math.sin(d*w);if(180<k-d)var E=h(a,e,x,d,d+180),x=h(a,e,x,d+180,k),m="M"+z+" "+y+(" a"+E+" a"+x),x=f+.5*c,z=a+x*Math.cos(k*w),y=e+x*Math.sin(k*w),m=m+("L"+z+" "+y),E=h(a,e,x,k,k+180,0),x=h(a,e,x,k+180,d,0),m=m+(" a"+E+" a"+x),x=f-.5*c,z=a+x*Math.cos(d*w),y=e+x*Math.sin(d*w),m=m+("L"+z+" "+y),m=m+"z";else m="M"+z+" "+y+(" a"+h(a,e,f,d,k)),console.log("Angles under 180deg needs to be implemented, if needed.");
return new fabric.Path(m,{width:2*f,height:2*f,fill:l.color})}function h(a,c,e,f,h,d){return[e,e,0,0,0==d?d:1,a+e*Math.cos(h*Math.PI/180)-(a+e*Math.cos(f*Math.PI/180)),c+e*Math.sin(h*Math.PI/180)-(c+e*Math.sin(f*Math.PI/180))].join(" ")}var l={x:0,y:0};l.radius=a;l.rotation=0;l.gap=e;l.offsetX=0;l.offsetY=0;l.rotationOffset=0;l.alpha=1;l.color=k;var m=c/l.radius*c*0;l.render=function(){var a=360-this.gap+this.rotation+this.rotationOffset-m,e=this.rotation+this.rotationOffset+m;0>a-e&&(a+=-1*(a-e));
a=a/180*Math.PI;d.strokeStyle=l.color;d.beginPath();d.arc(this.x+this.offsetX,this.y+this.offsetY,this.radius,e/180*Math.PI,a,!1);d.lineWidth=c;d.stroke()};l.setPos=function(a,c){this.x=a;this.y=c};l.kill=function(a){TweenMax.to(this,.9+.6*Math.random(),{gap:359,radius:this.radius,rotation:360*Math.random(),onComplete:a,onCompleteParams:[this],ease:Quad.easeInOut})};l.renderFabric=function(c,e,h){var d=360-this.gap+this.rotation;c.add(f(e?e:0,h?h:0,a,this.rotation+.01,d+.01))};return l}
function UILogoGen(d,c){function a(){var a=k;1200<a&&(a=1200);m.style.left="85px";m.style.top="60px";m.style.width=a-170+"px";m.style.height="60px";f.style.width=a+"px";f.style.height="180px";f.style.backgroundColor="#e1e1e1";h.style.width=a-85+"px";h.style.height="120px"}var e=document.createElement("div");e.style.position="absolute";e.style.zIndex=12;var k=d?d:0,f,h,l,m;f=document.createElement("div");f.style.position="absolute";f.style.backgroundColor="#D5D5D5";h=document.createElement("div");
h.style.position="absolute";h.style.marginTop="60px";h.style.backgroundColor="#D5D5D5";f.appendChild(h);e.appendChild(f);l=document.createElement("span");l.innerHTML="Calico Logo Generator";l.style.position="absolute";l.style.fontSize="16px";l.style.fontFamily="TheinhardtRegular";l.style.whiteSpace="nowrap";l.style.color="#9a9898";l.style.top="20px";l.style.left="20px";e.appendChild(l);m=new LogoInputField("Type your word here");e.appendChild(m);a();e.setSize=function(c,e){k=c;a()};e.onNewText=function(a){m.onChange(a)};
e.onDownload=function(a){};e.onColorChange=function(a){};e.onTypePlaceChange=function(a){};e.getHeight=function(){return 180};e.getFileType=function(){};return e}function LogoInputField(){var d=new TextInput("Write here");d.restrict="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";d.maxChars=26;d.size=20;d.style.width="916px";d.style.height="60px";d.style.fontSize="22px";d.style.fontFamily="TheinhardtRegular";d.style.pointerEvents="all";d.style.backgroundColor="#fff";return d}
function TextField(d,c){var a="",e=document.createElement("div");e.style.position="absolute";e.style.color="#BBBBBB";e.style.width=d+"px";e.style.height=c+"px";e.style.fontFamily="mark_otbold";e.style.textAlign="center";e.style.fontSize="12px";e.getText=function(){return a};e.setText=function(c){a=c;e.innerHTML=a};return e}
function TextInput(d){function c(c){if(a.value!=d){c=a.value;var h=c.length,l,m="",q=null;for(l=0;l<h;l+=1)q=c.charAt(l),-1!==a.restrict.indexOf(q)&&(m+=q);m!=a.value&&(a.value=m)}e&&k!=a.value&&(k=a.value,e(a.value))}var a=document.createElement("input");a.style.position="absolute";a.value=d;var e,k="";a.maxChars=-1;a.restrict="";a.style.border="none";a.style.fontFamily="mark_otlight";a.style.fontSize="25px";a.style.margin=0;a.style.padding="0 0 0 17px";a.style.boxSizing="border-box";a.style.color=
"#7c7c7c";a.style.resize="none";a.style.outline="0px !important";a.style.webkitAppearance="none";a.style.lineHeight="20px";a.style.letterSpacing="0.5px";a.style.marginBottom="-3px";a.onkeypress=function(c){a.value==d&&(a.value="");var e;if(e=-1==a.maxChars?!0:a.value.length<a.maxChars)a.restrict.length?(c="number"==typeof c.which?c.which:c.keyCode,e=String.fromCharCode(c),e=8!==c&&0!==c&&-1===a.restrict.indexOf(e)?!1:!0):e=!0;return e};a.onfocus=function(){a.value==d&&(a.value="");document.addEventListener("keyup",
c)};a.onblur=function(){""==a.value&&(a.value=d);document.removeEventListener("keyup",c)};a.onChange=function(a){e=a};return a}var exports=exports||{},fabric=fabric||{version:"1.3.0"};exports.fabric=fabric;"undefined"!==typeof document&&"undefined"!==typeof window?(fabric.document=document,fabric.window=window):(fabric.document=require("jsdom").jsdom("<!DOCTYPE html><html><head></head><body></body></html>"),fabric.window=fabric.document.createWindow());fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement;
fabric.isLikelyNode="undefined"!==typeof Buffer&&"undefined"===typeof window;
var Cufon=function(){function d(a){var c=this.face=a.face;this.glyphs=a.glyphs;this.w=a.w;this.baseSize=parseInt(c["units-per-em"],10);this.family=c["font-family"].toLowerCase();this.weight=c["font-weight"];this.style=c["font-style"]||"normal";this.viewBox=function(){var a=c.bbox.split(/\s+/),a={minX:parseInt(a[0],10),minY:parseInt(a[1],10),maxX:parseInt(a[2],10),maxY:parseInt(a[3],10)};a.width=a.maxX-a.minX;a.height=a.maxY-a.minY;a.toString=function(){return[this.minX,this.minY,this.width,this.height].join(" ")};
return a}();this.ascent=-parseInt(c.ascent,10);this.descent=-parseInt(c.descent,10);this.height=-this.ascent+this.descent}function c(){var a={},c={oblique:"italic",italic:"oblique"};this.add=function(c){(a[c.style]||(a[c.style]={}))[c.weight]=c};this.get=function(e,f){var h=a[e]||a[c[e]]||a.normal||a.italic||a.oblique;if(!h)return null;f={normal:400,bold:700}[f]||parseInt(f,10);if(h[f])return h[f];var d={1:1,99:0}[f%100],k=[],l,m;void 0===d&&(d=400<f);500==f&&(f=400);for(var n in h){n=parseInt(n,
10);if(!l||n<l)l=n;if(!m||n>m)m=n;k.push(n)}f<l&&(f=l);f>m&&(f=m);k.sort(function(a,c){return(d?a>f&&c>f?a<c:a>c:a<f&&c<f?a>c:a<c)?-1:1});return h[k[0]]}}function a(a){var c={},e={};this.get=function(e){return void 0!=c[e]?c[e]:a[e]};this.getSize=function(a,c){return e[a]||(e[a]=new t.Size(this.get(a),c))};this.extend=function(a){for(var e in a)c[e]=a[e];return this}}function e(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent&&a.attachEvent("on"+c,function(){return e.call(a,fabric.window.event)})}
function k(a){var c={};return function(e){c.hasOwnProperty(e)||(c[e]=a.apply(null,arguments));return c[e]}}function f(a){return fabric.document.getElementsByTagName(a)}function h(){for(var a={},c,e=0,f=arguments.length;e<f;++e)for(c in arguments[e])a[c]=arguments[e][c];return a}function l(a,c,e,f,h,d){var k=f.separate;if("none"==k)return x[f.engine].apply(null,arguments);var l=fabric.document.createDocumentFragment(),m=c.split(E[k]),n="words"==k;n&&u&&(/^\s/.test(c)&&m.unshift(""),/\s$/.test(c)&&
m.push(""));for(var q=0,p=m.length;q<p;++q)(k=x[f.engine](a,n?t.textAlign(m[q],e,q,p):m[q],e,f,h,d,q<p-1))&&l.appendChild(k);return l}function m(a,c){var e,f,h,d;h=v.get(a);h.options||(c.hover&&c.hoverables[a.nodeName.toLowerCase()]&&p.attach(a),h.options=c);for(var k=a.firstChild;k;k=h){h=k.nextSibling;d=!1;if(1==k.nodeType){if(!k.firstChild)continue;if(/cufon/.test(k.className))d=!0;else{arguments.callee(k,c);continue}}f||(f=t.getStyle(a).extend(c));if(!e)a:{(e=f)||(e=t.getStyle(a));for(var m=t.quotedList(e.get("fontFamily").toLowerCase()),
n=void 0,q=0,u=m.length;q<u;++q)if(n=m[q],z[n]){e=z[n].get(e.get("fontStyle"),e.get("fontWeight"));break a}e=null}if(e)if(d)x[c.engine](e,null,f,c,k,a);else d=k.data,"undefined"!=typeof G_vmlCanvasManager&&(d=d.replace(/\r/g,"\n")),""!==d&&((d=l(e,d,f,c,k,a))?k.parentNode.replaceChild(d,k):k.parentNode.removeChild(k))}}var q=function(){return q.replace.apply(null,arguments)},n=q.DOM={ready:function(){var a=!1,c={loaded:1,complete:1},f=[],h=function(){if(!a){a=!0;for(var c;c=f.shift();c());}};fabric.document.addEventListener&&
(fabric.document.addEventListener("DOMContentLoaded",h,!1),fabric.window.addEventListener("pageshow",h,!1));!fabric.window.opera&&fabric.document.readyState&&function(){c[fabric.document.readyState]?h():setTimeout(arguments.callee,10)}();fabric.document.readyState&&fabric.document.createStyleSheet&&function(){try{fabric.document.body.doScroll("left"),h()}catch(a){setTimeout(arguments.callee,1)}}();e(fabric.window,"load",h);return function(c){arguments.length?a?c():f.push(c):h()}}()},t=q.CSS={Size:function(a,
c){this.value=parseFloat(a);this.unit=String(a).match(/[a-z%]*$/)[0]||"px";this.convert=function(a){return a/c*this.value};this.convertFrom=function(a){return a/this.value*c};this.toString=function(){return this.value+this.unit}},getStyle:function(c){return new a(c.style)},quotedList:k(function(a){for(var c=[],e=/\s*((["'])([\s\S]*?[^\\])\2|[^,]+)\s*/g,f;f=e.exec(a);)c.push(f[3]||f[1]);return c}),ready:function(){var a=!1,c=[],e=Object.prototype.propertyIsEnumerable?f("style"):{length:0},h=f("link");
n.ready(function(){for(var f=0,d,k=0,l=h.length;d=h[k],k<l;++k)d.disabled||"stylesheet"!=d.rel.toLowerCase()||++f;if(fabric.document.styleSheets.length>=e.length+f)for(a=!0;f=c.shift();f());else setTimeout(arguments.callee,10)});return function(e){a?e():c.push(e)}}(),supports:function(a,c){var e=fabric.document.createElement("span").style;if(void 0===e[a])return!1;e[a]=c;return e[a]===c},textAlign:function(a,c,e,f){"right"==c.get("textAlign")?0<e&&(a=" "+a):e<f-1&&(a+=" ");return a},textDecoration:function(a,
c){c||(c=this.getStyle(a));for(var e={underline:null,overline:null,"line-through":null},f=a;f.parentNode&&1==f.parentNode.nodeType;){var h=!0,d;for(d in e)e[d]||(-1!=c.get("textDecoration").indexOf(d)&&(e[d]=c.get("color")),h=!1);if(h)break;c=this.getStyle(f=f.parentNode)}return e},textShadow:k(function(a){if("none"==a)return null;for(var c=[],e={},f,h=0,d=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/ig;f=d.exec(a);)","==f[0]?(c.push(e),e={},h=0):f[1]?e.color=f[1]:e[["offX","offY","blur"][h++]]=
f[2];c.push(e);return c}),color:k(function(a){var c={};c.color=a.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(a,e,f){c.opacity=parseFloat(f);return"rgb("+e+")"});return c}),textTransform:function(a,c){return a[{uppercase:"toUpperCase",lowercase:"toLowerCase"}[c.get("textTransform")]||"toString"]()}},u=0==" ".split(/\s+/).length,v=new function(){var a={},c=0;this.get=function(e){e=e.cufid||(e.cufid=++c);return a[e]||(a[e]={})}},p=new function(){function a(c){c=c.relatedTarget;var e;(e=!c)||(e=this.contains?
this.contains(c):this.compareDocumentPosition(c)&16);e||f(this)}function c(a){f(this)}function f(a){setTimeout(function(){q.replace(a,v.get(a).options,!0)},10)}this.attach=function(f){void 0===f.onmouseenter?(e(f,"mouseover",a),e(f,"mouseout",a)):(e(f,"mouseenter",c),e(f,"mouseleave",c))}},w=[],x={},z={},y={engine:null,hover:!1,hoverables:{a:!0},printable:!0,selector:fabric.window.Sizzle||fabric.window.jQuery&&function(a){return jQuery(a)}||fabric.window.dojo&&dojo.query||fabric.window.$$&&function(a){return $$(a)}||
fabric.window.$&&function(a){return $(a)}||fabric.document.querySelectorAll&&function(a){return fabric.document.querySelectorAll(a)}||f,separate:"words",textShadow:"none"},E={words:/\s+/,characters:""};q.now=function(){n.ready();return q};q.refresh=function(){for(var a=w.splice(0,w.length),c=0,e=a.length;c<e;++c)q.replace.apply(null,a[c]);return q};q.registerEngine=function(a,c){if(!c)return q;x[a]=c;return q.set("engine",a)};q.registerFont=function(a){a=new d(a);var e=a.family;z[e]||(z[e]=new c);
z[e].add(a);return q.set("fontFamily",'"'+e+'"')};q.replace=function(a,c,e){c=h(y,c);if(!c.engine)return q;"string"==typeof c.textShadow&&c.textShadow&&(c.textShadow=t.textShadow(c.textShadow));e||w.push(arguments);if(a.nodeType||"string"==typeof a)a=[a];t.ready(function(){for(var e=0,f=a.length;e<f;++e){var h=a[e];"string"==typeof h?q.replace(c.selector(h),c,!0):m(h,c)}});return q};q.replaceElement=function(a,c){c=h(y,c);"string"==typeof c.textShadow&&c.textShadow&&(c.textShadow=t.textShadow(c.textShadow));
return m(a,c)};q.engines=x;q.fonts=z;q.getOptions=function(){return h(y)};q.set=function(a,c){y[a]=c;return q};return q}();
Cufon.registerEngine("canvas",function(){var d=Cufon.CSS.supports("display","inline-block"),c=!d&&("BackCompat"==fabric.document.compatMode||/frameset|transitional/i.test(fabric.document.doctype.publicId)),a=fabric.document.createElement("style");a.type="text/css";c=fabric.document.createTextNode(".cufon-canvas{text-indent:0}@media screen,projection{.cufon-canvas{display:inline;display:inline-block;position:relative;vertical-align:middle"+(c?"":";font-size:1px;line-height:1px")+"}.cufon-canvas .cufon-alt{display:-moz-inline-box;display:inline-block;width:0;height:0;overflow:hidden}"+
(d?".cufon-canvas canvas{position:relative}":".cufon-canvas canvas{position:absolute}")+"}@media print{.cufon-canvas{padding:0 !important}.cufon-canvas canvas{display:none}.cufon-canvas .cufon-alt{display:inline}}");try{a.appendChild(c)}catch(e){a.setAttribute("type","text/css"),a.styleSheet.cssText=c.data}fabric.document.getElementsByTagName("head")[0].appendChild(a);return function(a,c,f,h,l,m){function q(c){G.fillStyle=c||Cufon.textOptions.color||f.get("color");var d=c=0;"right"===h.textAlign?
G.translate(J[d],0):"center"===h.textAlign&&G.translate(J[d]/2,0);for(var k=0,l=B.length;k<l;++k)if("\n"===B[k]){d++;var m=-a.ascent-a.ascent/5*h.lineHeight;"right"===h.textAlign?(G.translate(-F,m),G.translate(J[d],0)):"center"===h.textAlign?(G.translate(-c-J[d-1]/2,m),G.translate(J[d]/2,0)):G.translate(-c,m);c=0}else{var n=a.glyphs[B[k]]||a.missingGlyph;if(n){m=Number(n.w||a.w)+v;M&&(G.save(),G.strokeStyle=G.fillStyle,G.lineWidth+=G.lineWidth,G.beginPath(),M.underline&&(G.moveTo(0,-a.face["underline-position"]+
.5),G.lineTo(m,-a.face["underline-position"]+.5)),M.overline&&(G.moveTo(0,a.ascent+.5),G.lineTo(m,a.ascent+.5)),M["line-through"]&&(G.moveTo(0,-a.descent+.5),G.lineTo(m,-a.descent+.5)),G.stroke(),G.restore());L&&(G.save(),G.transform(1,0,-.25,1,0,0));G.beginPath();if(n.d)if(n.code)for(var q=n.code,n=G,t=0,p=q.length;t<p;++t){var u=q[t];n[u.m].apply(n,u.a)}else{var q=n,n="m"+n.d,t=G,u=p=0,y=[],w=/([mrvxe])([^a-z]*)/g,C=void 0,x=0;a:for(;C=w.exec(n);++x){var A=C[2].split(",");switch(C[1]){case "v":y[x]=
{m:"bezierCurveTo",a:[p+~~A[0],u+~~A[1],p+~~A[2],u+~~A[3],p+=~~A[4],u+=~~A[5]]};break;case "r":y[x]={m:"lineTo",a:[p+=~~A[0],u+=~~A[1]]};break;case "m":y[x]={m:"moveTo",a:[p=~~A[0],u=~~A[1]]};break;case "x":y[x]={m:"closePath",a:[]};break;case "e":break a}t[y[x].m].apply(t,y[x].a)}q.code=y}G.fill();h.strokeStyle&&(G.closePath(),G.save(),G.lineWidth=h.strokeWidth,G.strokeStyle=h.strokeStyle,G.stroke(),G.restore());L&&G.restore();G.translate(m,0);c+=m}}}var n=null===c,t=a.viewBox,u=f.getSize("fontSize",
a.baseSize),v=f.get("letterSpacing"),v="normal"==v?0:u.convertFrom(parseInt(v,10)),p=m=0,w=0,x=h.textShadow,z=[];Cufon.textOptions.shadowOffsets=[];Cufon.textOptions.shadows=null;if(x){Cufon.textOptions.shadows=x;for(var y=0,E=x.length;y<E;++y){var D=x[y],A=u.convertFrom(parseFloat(D.offX)),D=u.convertFrom(parseFloat(D.offY));z[y]=[A,D]}}for(var B=Cufon.CSS.textTransform(n?l.alt:c,f).split(""),F=0,D=null,A=0,C=1,H=[],y=0,E=B.length;y<E;++y)if("\n"===B[y])C++,F>A&&(A=F),H.push(F),F=0;else{var I=a.glyphs[B[y]]||
a.missingGlyph;I&&(F+=D=Number(I.w||a.w)+v)}H.push(F);for(var F=Math.max(A,F),J=[],y=H.length;y--;)J[y]=F-H[y];if(null===D)return null;p+=t.width-D;w+=t.minX;n?(n=l,l=l.firstChild):(n=fabric.document.createElement("span"),n.className="cufon cufon-canvas",n.alt=c,l=fabric.document.createElement("canvas"),n.appendChild(l),h.printable&&(y=fabric.document.createElement("span"),y.className="cufon-alt",y.appendChild(fabric.document.createTextNode(c)),n.appendChild(y)));c=n.style;E=l.style||{};D=u.convert(t.height-
m+0);y=Math.ceil(D);D=y/D;l.width=Math.ceil(u.convert(F+p-w)*D);l.height=y;m+=t.minY;E.top=Math.round(u.convert(m-a.ascent))+"px";E.left=Math.round(u.convert(w))+"px";p=Math.ceil(u.convert(F*D));E=p+"px";D=u.convert(a.height);u=(h.lineHeight-1)*u.convert(-a.ascent/5)*(C-1);Cufon.textOptions.width=p;Cufon.textOptions.height=D*C+u;Cufon.textOptions.lines=C;Cufon.textOptions.totalLineHeight=u;d?(c.width=E,c.height=D+"px"):(c.paddingLeft=E,c.paddingBottom=D-1+"px");var G=Cufon.textOptions.context||l.getContext("2d"),
K=y/t.height;Cufon.textOptions.fontAscent=a.ascent*K;Cufon.textOptions.boundaries=null;t=Cufon.textOptions.shadowOffsets;for(y=z.length;y--;)t[y]=[z[y][0]*K,z[y][1]*K];G.save();G.scale(K,K);G.translate(-w-1/K*l.width/2+(Cufon.fonts[a.family].offsetLeft||0),-m-Cufon.textOptions.height/K/2+(Cufon.fonts[a.family].offsetTop||0));G.lineWidth=a.face["underline-thickness"];G.save();var M=Cufon.getTextDecoration(h),L="italic"===h.fontStyle;G.save();(function(){G.save();var c=0,f=0,d=[{left:0}];h.backgroundColor&&
(G.save(),G.fillStyle=h.backgroundColor,G.translate(0,a.ascent),G.fillRect(0,0,F+10,(-a.ascent+a.descent)*C),G.restore());"right"===h.textAlign?(G.translate(J[f],0),d[0].left=J[f]*K):"center"===h.textAlign&&(G.translate(J[f]/2,0),d[0].left=J[f]/2*K);for(var k=0,l=B.length;k<l;++k)if("\n"===B[k]){f++;var m=-a.ascent-a.ascent/5*h.lineHeight,n=d[d.length-1],q={left:0};n.width=c*K;n.height=(-a.ascent+a.descent)*K;"right"===h.textAlign?(G.translate(-F,m),G.translate(J[f],0),q.left=J[f]*K):"center"===h.textAlign?
(G.translate(-c-J[f-1]/2,m),G.translate(J[f]/2,0),q.left=J[f]/2*K):G.translate(-c,m);d.push(q);c=0}else if(m=a.glyphs[B[k]]||a.missingGlyph)m=Number(m.w||a.w)+v,h.textBackgroundColor&&(G.save(),G.fillStyle=h.textBackgroundColor,G.translate(0,a.ascent),G.fillRect(0,0,m+10,-a.ascent+a.descent),G.restore()),G.translate(m,0),c+=m,k==l-1&&(d[d.length-1].width=c*K,d[d.length-1].height=(-a.ascent+a.descent)*K);G.restore();Cufon.textOptions.boundaries=d})();if(x)for(y=0,E=x.length;y<E;++y)D=x[y],G.save(),
G.translate.apply(G,z[y]),q(D.color),G.restore();q();G.restore();G.restore();G.restore();return n}}());
Cufon.registerEngine("vml",function(){function d(a,c){if(/px$/i.test(c))return parseFloat(c);var d=a.style.left,f=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;var h=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=f;return h}if(fabric.document.namespaces){var c=fabric.document.createElement("canvas");if(!(c&&c.getContext&&c.getContext.apply)&&(null==fabric.document.namespaces.cvml&&fabric.document.namespaces.add("cvml","urn:schemas-microsoft-com:vml"),c=fabric.document.createElement("cvml:shape"),
c.style.behavior="url(#default#VML)",c.coordsize))return c=null,fabric.document.write('<style type="text/css">.cufon-vml-canvas{text-indent:0}@media screen{cvml\\:shape,cvml\\:shadow{behavior:url(#default#VML);display:block;antialias:true;position:absolute}.cufon-vml-canvas{position:absolute;text-align:left}.cufon-vml{display:inline-block;position:relative;vertical-align:middle}.cufon-vml .cufon-alt{position:absolute;left:-10000in;font-size:1px}a .cufon-vml{cursor:pointer}}@media print{.cufon-vml *{display:none}.cufon-vml .cufon-alt{display:inline}}</style>'),
function(a,c,k,f,h,l,m){var q=null===c;q&&(c=h.alt);var n=a.viewBox,t;if(!(t=k.computedFontSize)){t=Cufon.CSS.Size;var u;u=k.get("fontSize");u=d(l,/(?:em|ex|%)$/i.test(u)?"1em":u);t=k.computedFontSize=new t(u+"px",a.baseSize)}u=k.computedLSpacing;void 0==u&&(u=k.get("letterSpacing"),k.computedLSpacing=u="normal"==u?0:~~t.convertFrom(d(l,u)));if(q)l=h,h=h.firstChild;else{l=fabric.document.createElement("span");l.className="cufon cufon-vml";l.alt=c;h=fabric.document.createElement("span");h.className=
"cufon-vml-canvas";l.appendChild(h);if(f.printable){var v=fabric.document.createElement("span");v.className="cufon-alt";v.appendChild(fabric.document.createTextNode(c));l.appendChild(v)}m||l.appendChild(fabric.document.createElement("cvml:shape"))}m=l.style;var p=h.style,w=t.convert(n.height),v=Math.ceil(w),w=v/w,x=n.minX,z=n.minY;p.height=v;p.top=Math.round(t.convert(z-a.ascent));p.left=Math.round(t.convert(x));m.height=t.convert(a.height)+"px";Cufon.getTextDecoration(f);p=k.get("color");c=Cufon.CSS.textTransform(c,
k).split("");var y=k=0,E=null,D;f=f.textShadow;for(var A=0,B=0,F=c.length;A<F;++A)(D=a.glyphs[c[A]]||a.missingGlyph)&&(k+=E=~~(D.w||a.w)+u);if(null===E)return null;D=-x+k+(n.width-E);for(var A=t.convert(D*w),E=Math.round(A),C=D+","+n.height,H,I="r"+C+"nsnf",A=0;A<F;++A)if(D=a.glyphs[c[A]]||a.missingGlyph){q?(n=h.childNodes[B],n.firstChild&&n.removeChild(n.firstChild)):(n=fabric.document.createElement("cvml:shape"),h.appendChild(n));n.stroked="f";n.coordsize=C;n.coordorigin=H=x-y+","+z;n.path=(D.d?
"m"+D.d+"xe":"")+"m"+H+I;n.fillcolor=p;H=n.style;H.width=E;H.height=v;if(f){H=f[0];var J=f[1],G=Cufon.CSS.color(H.color),K,M=fabric.document.createElement("cvml:shadow");M.on="t";M.color=G.color;M.offset=H.offX+","+H.offY;J&&(K=Cufon.CSS.color(J.color),M.type="double",M.color2=K.color,M.offset2=J.offX+","+J.offY);M.opacity=G.opacity||K&&K.opacity||1;n.appendChild(M)}y+=~~(D.w||a.w)+u;++B}m.width=Math.max(Math.ceil(t.convert(k*w)),0);return l}}}());
Cufon.getTextDecoration=function(d){return{underline:"underline"===d.textDecoration,overline:"overline"===d.textDecoration,"line-through":"line-through"===d.textDecoration}};"undefined"!=typeof exports&&(exports.Cufon=Cufon);var JSON;JSON||(JSON={});
(function(){function d(a){return 10>a?"0"+a:a}function c(a){k.lastIndex=0;return k.test(a)?'"'+a.replace(k,function(a){var c=l[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function a(e,d){var k,l,v,p,w=f,x,z=d[e];z&&"object"===typeof z&&"function"===typeof z.toJSON&&(z=z.toJSON(e));"function"===typeof m&&(z=m.call(d,e,z));switch(typeof z){case "string":return c(z);case "number":return isFinite(z)?String(z):"null";case "boolean":case "null":return String(z);
case "object":if(!z)return"null";f+=h;x=[];if("[object Array]"===Object.prototype.toString.apply(z)){p=z.length;for(k=0;k<p;k+=1)x[k]=a(k,z)||"null";v=0===x.length?"[]":f?"[\n"+f+x.join(",\n"+f)+"\n"+w+"]":"["+x.join(",")+"]";f=w;return v}if(m&&"object"===typeof m)for(p=m.length,k=0;k<p;k+=1)"string"===typeof m[k]&&(l=m[k],(v=a(l,z))&&x.push(c(l)+(f?": ":":")+v));else for(l in z)Object.prototype.hasOwnProperty.call(z,l)&&(v=a(l,z))&&x.push(c(l)+(f?": ":":")+v);v=0===x.length?"{}":f?"{\n"+f+x.join(",\n"+
f)+"\n"+w+"}":"{"+x.join(",")+"}";f=w;return v}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,h,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!==typeof JSON.stringify&&(JSON.stringify=function(c,e,d){var k;h=f="";if("number"===typeof d)for(k=0;k<d;k+=1)h+=" ";else"string"===typeof d&&(h=d);if((m=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return a("",{"":c})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,c){function f(a,e){var h,d,k=a[e];if(k&&"object"===typeof k)for(h in k)Object.prototype.hasOwnProperty.call(k,h)&&(d=f(k,h),void 0!==d?k[h]=d:delete k[h]);return c.call(a,e,k)}var h;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof c?f({"":h},""):h;throw new SyntaxError("JSON.parse");})})();"undefined"===typeof Event&&(Event={});if("undefined"===typeof eventjs)var eventjs=Event;
Event=function(d){d.modifyEventListener=!1;d.modifySelectors=!1;d.add=function(c,e,f,h){return a(c,e,f,h,"add")};d.remove=function(c,e,f,h){return a(c,e,f,h,"remove")};d.stop=function(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=!0;a.bubble=0};d.prevent=function(a){a.preventDefault&&a.preventDefault();a.returnValue=!1};d.cancel=function(a){d.stop(a);d.prevent(a)};d.supports=function(a,c){"string"===typeof a&&(c=a,a=window);c="on"+c;if(c in a)return!0;a.setAttribute||(a=document.createElement("div"));
if(a.setAttribute&&a.removeAttribute){a.setAttribute(c,"");var e="function"===typeof a[c];"undefined"!==typeof a[c]&&(a[c]=null);a.removeAttribute(c);return e}};var c=function(a){if(!a||"object"!==typeof a)return a;var e=new a.constructor,f;for(f in a)e[f]=a[f]&&"object"===typeof a[f]?c(a[f]):a[f];return e},a=function(l,u,v,p,w,x){p=p||{};if("string"===typeof l&&"ready"===u)var z=(new Date).getTime(),y=p.timeout,E=window.setInterval(function(){(new Date).getTime()-z>y&&window.clearInterval(E);document.querySelector(l)&&
(window.clearInterval(E),v())},p.interval||1E3/60);else{if("string"===typeof l){l=document.querySelectorAll(l);if(0===l.length)return k("Missing target on listener!");1===l.length&&(l=l[0])}var D={};if(0<l.length){for(var A=0,B=l.length;A<B;A++)(x=a(l[A],u,v,c(p),w))&&(D[A]=x);return e(D)}u.indexOf&&-1!==u.indexOf(" ")&&(u=u.split(" "));u.indexOf&&-1!==u.indexOf(",")&&(u=u.split(","));if("string"!==typeof u){if("number"===typeof u.length)for(A=0,B=u.length;A<B;A++)(x=a(l,u[A],v,c(p),w))&&(D[u[A]]=
x);else for(A in u)(x="function"===typeof u[A]?a(l,A,u[A],c(p),w):a(l,A,u[A].listener,c(u[A]),w))&&(D[A]=x);return e(D)}if("function"!==typeof v)return k("Listener is not a function!");D=p.useCapture||!1;A=f(u)+m(l)+"."+m(v)+"."+(D?1:0);if(d.Gesture&&d.Gesture._gestureHandlers[u])if("remove"===w){if(!h[A])return;h[A].remove();delete h[A]}else{if("add"===w){if(h[A])return h[A];if(p.useCall&&!d.modifyEventListener){var F=v;v=function(a,c){for(var e in c)a[e]=c[e];return F.call(l,a)}}p.gesture=u;p.target=
l;p.listener=v;p.fromOverwrite=x;h[A]=d.proxy[u](p)}}else if(u=f(u),"remove"===w){if(!h[A])return;l[n](u,v,D);delete h[A]}else if("add"===w){if(h[A])return h[A];l[q](u,v,D);h[A]={type:u,target:l,listener:v,remove:function(){d.remove(l,u,v,p)}}}return h[A]}},e=function(a){return{remove:function(){for(var c in a)a[c].remove()},add:function(){for(var c in a)a[c].add()}}},k=function(a){"undefined"!==typeof console&&"undefined"!==typeof console.error&&console.error(a)},f=function(){var a={};return function(c){d.pointerType||
(window.navigator.msPointerEnabled?(d.pointerType="mspointer",a={mousedown:"MSPointerDown",mousemove:"MSPointerMove",mouseup:"MSPointerUp"}):d.supports("touchstart")?(d.pointerType="touch",a={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"}):d.pointerType="mouse");a[c]&&(c=a[c]);return document.addEventListener?c:"on"+c}}(),h={},l=0,m=function(a){if(a===window)return"#window";if(a===document)return"#document";if(!a)return k("Missing target on listener!");a.uniqueID||(a.uniqueID="id"+
l++);return a.uniqueID},q=document.addEventListener?"addEventListener":"attachEvent",n=document.removeEventListener?"removeEventListener":"detachEvent";d.createPointerEvent=function(a,c,e){var f=c.gesture,h=c.target,k=a.changedTouches||d.proxy.getCoords(a);if(k.length){var l=k[0];c.pointers=e?[]:k;c.pageX=l.pageX;c.pageY=l.pageY;c.x=c.pageX;c.y=c.pageY}e=document.createEvent("Event");e.initEvent(f,!0,!0);e.originalEvent=a;for(var m in c)"target"!==m&&(e[m]=c[m]);h.dispatchEvent(e)};d.modifyEventListener&&
window.HTMLElement&&function(){var c=function(c){var e=function(e){var h=e+"EventListener",k=c[h];c[h]=function(c,h,l){if(d.Gesture&&d.Gesture._gestureHandlers[c]){var m=l;"object"===typeof l?m.useCall=!0:m={useCall:!0,useCapture:l};a(this,c,h,m,e,!0);k.call(this,c,h,l)}else k.call(this,f(c),h,l)}};e("add");e("remove")};navigator.userAgent.match(/Firefox/)?(c(HTMLDivElement.prototype),c(HTMLCanvasElement.prototype)):c(HTMLElement.prototype);c(document);c(window)}();d.modifySelectors&&function(){var a=
NodeList.prototype;a.removeEventListener=function(a,c,e){for(var f=0,h=this.length;f<h;f++)this[f].removeEventListener(a,c,e)};a.addEventListener=function(a,c,e){for(var f=0,h=this.length;f<h;f++)this[f].addEventListener(a,c,e)}}();return d}(Event);"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){d.pointerSetup=function(c,a){c.doc=c.target.ownerDocument||c.target;c.minFingers=c.minFingers||c.fingers||1;c.maxFingers=c.maxFingers||c.fingers||Infinity;c.position=c.position||"relative";delete c.fingers;a=a||{};a.gesture=c.gesture;a.target=c.target;a.pointerType=Event.pointerType;Event.modifyEventListener&&c.fromOverwrite&&(c.listener=Event.createPointerEvent);var e=0,d=0===a.gesture.indexOf("pointer")&&Event.modifyEventListener?"pointer":"mouse";a.listener=c.listener;a.proxy=
function(e){a.defaultListener=c.listener;c.listener=e;e(c.event,a)};a.remove=function(){c.onPointerDown&&Event.remove(c.target,d+"down",c.onPointerDown);c.onPointerMove&&Event.remove(c.doc,d+"move",c.onPointerMove);c.onPointerUp&&Event.remove(c.doc,d+"up",c.onPointerUp)};a.resume=function(a){!c.onPointerMove||a&&!a.move||Event.add(c.doc,d+"move",c.onPointerMove);!c.onPointerUp||a&&!a.move||Event.add(c.doc,d+"up",c.onPointerUp);c.fingers=e};a.pause=function(a){e=c.fingers;!c.onPointerMove||a&&!a.move||
Event.remove(c.doc,d+"move",c.onPointerMove);!c.onPointerUp||a&&!a.up||Event.remove(c.doc,d+"up",c.onPointerUp);c.fingers=0};return a};d.pointerStart=function(c,a,e){var k=function(a,c){var f=e.bbox,d=h[c]={};switch(e.position){case "absolute":d.offsetX=0;d.offsetY=0;break;case "difference":d.offsetX=a.pageX;d.offsetY=a.pageY;break;case "move":d.offsetX=a.pageX-f.x1;d.offsetY=a.pageY-f.y1;break;default:d.offsetX=f.x1,d.offsetY=f.y1}if("relative"===e.position)var k=(a.pageX+f.scrollLeft-d.offsetX)*
f.scaleX,f=(a.pageY+f.scrollTop-d.offsetY)*f.scaleY;else k=a.pageX-d.offsetX,f=a.pageY-d.offsetY;d.rotation=0;d.scale=1;d.startTime=d.moveTime=(new Date).getTime();d.move={x:k,y:f};d.start={x:k,y:f};e.fingers++};e.event=c;a.defaultListener&&(e.listener=a.defaultListener,delete a.defaultListener);var f=!e.fingers,h=e.tracker;c=c.changedTouches||d.getCoords(c);for(var l=c.length,m=0;m<l;m++){var q=c[m],n=q.identifier||Infinity;if(e.fingers){if(e.fingers>=e.maxFingers){k=[];for(n in e.tracker)k.push(n);
a.identifier=k.join(",");return f}var t=0,u;for(u in h){if(h[u].up){delete h[u];k(q,n);e.cancel=!0;break}t++}h[n]||k(q,n)}else h=e.tracker={},a.bbox=e.bbox=d.getBoundingBox(e.target),e.fingers=0,e.cancel=!1,k(q,n)}k=[];for(n in e.tracker)k.push(n);a.identifier=k.join(",");return f};d.pointerEnd=function(c,a,e,d){var f=c.touches||[],h=f.length;c={};for(var l=0;l<h;l++){var m=f[l].identifier;c[m||Infinity]=!0}for(m in e.tracker)f=e.tracker[m],c[m]||f.up||(d&&d({pageX:f.pageX,pageY:f.pageY,changedTouches:[{pageX:f.pageX,
pageY:f.pageY,identifier:"Infinity"===m?Infinity:m}]},"up"),f.up=!0,e.fingers--);if(0!==e.fingers)return!1;d=[];e.gestureFingers=0;for(m in e.tracker)e.gestureFingers++,d.push(m);a.identifier=d.join(",");return!0};d.getCoords=function(c){d.getCoords="undefined"!==typeof c.pageX?function(a){return Array({type:"mouse",x:a.pageX,y:a.pageY,pageX:a.pageX,pageY:a.pageY,identifier:Infinity})}:function(a){a=a||window.event;return Array({type:"mouse",x:a.clientX+document.documentElement.scrollLeft,y:a.clientY+
document.documentElement.scrollTop,pageX:a.clientX+document.documentElement.scrollLeft,pageY:a.clientY+document.documentElement.scrollTop,identifier:Infinity})};return d.getCoords(c)};d.getCoord=function(c){if("ontouchstart"in window){var a=0,e=0;d.getCoord=function(c){c=c.changedTouches;return c.length?{x:a=c[0].pageX,y:e=c[0].pageY}:{x:a,y:e}}}else d.getCoord="undefined"!==typeof c.pageX&&"undefined"!==typeof c.pageY?function(a){return{x:a.pageX,y:a.pageY}}:function(a){a=a||window.event;return{x:a.clientX+
document.documentElement.scrollLeft,y:a.clientY+document.documentElement.scrollTop}};return d.getCoord(c)};d.getBoundingBox=function(c){if(c===window||c===document)c=document.body;var a={x1:0,y1:0,x2:0,y2:0,scrollLeft:0,scrollTop:0};c===document.body?(a.height=document.querySelector(".section.logo-generator").clientHeight,a.width=document.querySelector(".section.logo-generator").clientWidth):(a.height=c.offsetHeight,a.width=c.offsetWidth);a.scaleX=c.width/a.width||1;a.scaleY=c.height/a.height||1;
for(var e=c;null!==e;)a.x1+=e.offsetLeft,a.y1+=e.offsetTop,e=e.offsetParent;for(e=c.parentNode;null!==e&&e!==document.body&&void 0!==e.scrollTop;)a.scrollLeft+=e.scrollLeft,a.scrollTop+=e.scrollTop,e=e.parentNode;a.x2=a.x1+a.width;a.y2=a.y1+a.height;return a};(function(){var c=navigator.userAgent.toLowerCase(),a=-1!==c.indexOf("macintosh"),e=a&&-1!==c.indexOf("khtml")?{91:!0,93:!0}:a&&-1!==c.indexOf("firefox")?{224:!0}:{17:!0};d.isMetaKey=function(a){return!!e[a.keyCode]};d.metaTracker=function(a){e[a.keyCode]&&
(d.metaKey="keydown"===a.type)}})();return d}(Event.proxy);"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){d.click=function(c){c.maxFingers=c.maxFingers||c.fingers||1;var a;c.onPointerDown=function(a){d.pointerStart(a,e,c)&&(Event.add(c.doc,"mousemove",c.onPointerMove).listener(a),Event.add(c.doc,"mouseup",c.onPointerUp))};c.onPointerMove=function(c){a=c};c.onPointerUp=function(k){if(d.pointerEnd(k,e,c)&&(Event.remove(c.doc,"mousemove",c.onPointerMove),Event.remove(c.doc,"mouseup",c.onPointerUp),!(a.cancelBubble&&1<++a.bubble))){var f=(a.changedTouches||d.getCoords(a))[0];k=c.bbox;
var h=d.getBoundingBox(c.target);if("relative"===c.position)var l=(f.pageX+k.scrollLeft-k.x1)*k.scaleX,f=(f.pageY+k.scrollTop-k.y1)*k.scaleY;else l=f.pageX-k.x1,f=f.pageY-k.y1;0<l&&l<k.width&&0<f&&f<k.height&&k.scrollTop===h.scrollTop&&c.listener(a,e)}};var e=d.pointerSetup(c);e.state="click";Event.add(c.target,"mousedown",c.onPointerDown);return e};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{};Event.Gesture._gestureHandlers.click=d.click;return d}(Event.proxy);
"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){d.dbltap=d.dblclick=function(c){c.maxFingers=c.maxFingers||c.fingers||1;var a,e,k,f,h;c.onPointerDown=function(m){var q=m.changedTouches||d.getCoords(m);a&&!e?(h=q[0],e=(new Date).getTime()-a):(f=q[0],a=(new Date).getTime(),e=0,clearTimeout(k),k=setTimeout(function(){a=0},700));d.pointerStart(m,l,c)&&(Event.add(c.doc,"mousemove",c.onPointerMove).listener(m),Event.add(c.doc,"mouseup",c.onPointerUp))};c.onPointerMove=function(l){a&&!e&&(h=(l.changedTouches||d.getCoords(l))[0]);
l=c.bbox;if("relative"===c.position)var q=(h.pageX+l.scrollLeft-l.x1)*l.scaleX,n=(h.pageY+l.scrollTop-l.y1)*l.scaleY;else q=h.pageX-l.x1,n=h.pageY-l.y1;0<q&&q<l.width&&0<n&&n<l.height&&25>=Math.abs(h.pageX-f.pageX)&&25>=Math.abs(h.pageY-f.pageY)||(Event.remove(c.doc,"mousemove",c.onPointerMove),clearTimeout(k),a=e=0)};c.onPointerUp=function(f){d.pointerEnd(f,l,c)&&(Event.remove(c.doc,"mousemove",c.onPointerMove),Event.remove(c.doc,"mouseup",c.onPointerUp));a&&e&&(700>=e&&!(f.cancelBubble&&1<++f.bubble)&&
(l.state=c.gesture,c.listener(f,l)),clearTimeout(k),a=e=0)};var l=d.pointerSetup(c);l.state="dblclick";Event.add(c.target,"mousedown",c.onPointerDown);return l};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{};Event.Gesture._gestureHandlers.dbltap=d.dbltap;Event.Gesture._gestureHandlers.dblclick=d.dblclick;return d}(Event.proxy);"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){d.dragElement=function(c,a){d.drag({event:a,target:c,position:"move",listener:function(a,d){c.style.left=d.x+"px";c.style.top=d.y+"px";Event.prevent(a)}})};d.drag=function(c){c.gesture="drag";c.onPointerDown=function(e){d.pointerStart(e,a,c)&&!c.monitor&&(Event.add(c.doc,"mousemove",c.onPointerMove),Event.add(c.doc,"mouseup",c.onPointerUp));c.onPointerMove(e,"down")};c.onPointerMove=function(e,k){if(!c.tracker)return c.onPointerDown(e);for(var f=c.bbox,h=e.changedTouches||
d.getCoords(e),l=h.length,m=0;m<l;m++){var q=h[m],n=q.identifier||Infinity,t=c.tracker[n];t&&(t.pageX=q.pageX,t.pageY=q.pageY,a.state=k||"move",a.identifier=n,a.start=t.start,a.fingers=c.fingers,"relative"===c.position?(a.x=(t.pageX+f.scrollLeft-t.offsetX)*f.scaleX,a.y=(t.pageY+f.scrollTop-t.offsetY)*f.scaleY):(a.x=t.pageX-t.offsetX,a.y=t.pageY-t.offsetY),c.listener(e,a))}};c.onPointerUp=function(e){d.pointerEnd(e,a,c,c.onPointerMove)&&!c.monitor&&(Event.remove(c.doc,"mousemove",c.onPointerMove),
Event.remove(c.doc,"mouseup",c.onPointerUp))};var a=d.pointerSetup(c);if(c.event)c.onPointerDown(c.event);else Event.add(c.target,"mousedown",c.onPointerDown),c.monitor&&(Event.add(c.doc,"mousemove",c.onPointerMove),Event.add(c.doc,"mouseup",c.onPointerUp));return a};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{};Event.Gesture._gestureHandlers.drag=d.drag;return d}(Event.proxy);"undefined"===typeof Event&&(Event={});
"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){var c=Math.PI/180;d.gesture=function(a){a.minFingers=a.minFingers||a.fingers||2;a.onPointerDown=function(c){var f=a.fingers;d.pointerStart(c,e,a)&&(Event.add(a.doc,"mousemove",a.onPointerMove),Event.add(a.doc,"mouseup",a.onPointerUp));if(a.fingers===a.minFingers&&f!==a.fingers){e.fingers=a.minFingers;e.scale=1;e.rotation=0;e.state="start";var f="",h;for(h in a.tracker)f+=h;e.identifier=parseInt(f);a.listener(c,e)}};a.onPointerMove=function(k,f){for(var h=a.bbox,l=a.tracker,
m=k.changedTouches||d.getCoords(k),q=m.length,n=0;n<q;n++){var t=m[n],u=t.identifier||Infinity,v=l[u];v&&("relative"===a.position?(v.move.x=(t.pageX+h.scrollLeft-h.x1)*h.scaleX,v.move.y=(t.pageY+h.scrollTop-h.y1)*h.scaleY):(v.move.x=t.pageX-h.x1,v.move.y=t.pageY-h.y1))}if(!(a.fingers<a.minFingers)){var m=[],p=v=n=h=0,q=0;for(u in l)t=l[u],t.up||(v+=t.move.x,p+=t.move.y,q++);v/=q;p/=q;for(u in l)if(t=l[u],!t.up){q=t.start;if(!q.distance){var w=q.x-v,x=q.y-p;q.distance=Math.sqrt(w*w+x*x);q.angle=Math.atan2(w,
x)/c}w=t.move.x-v;x=t.move.y-p;h+=Math.sqrt(w*w+x*x)/q.distance;q=(q.angle-Math.atan2(w,x)/c+360)%360-180;t.DEG2=t.DEG1;t.DEG1=0<q?q:-q;"undefined"!==typeof t.DEG2&&(t.rotation=0<q?t.rotation+(t.DEG1-t.DEG2):t.rotation-(t.DEG1-t.DEG2),n+=t.rotation);m.push(t.move)}e.touches=m;e.fingers=a.fingers;e.scale=h/a.fingers;e.rotation=n/a.fingers;e.state="change";a.listener(k,e)}};a.onPointerUp=function(c){var f=a.fingers;d.pointerEnd(c,e,a)&&(Event.remove(a.doc,"mousemove",a.onPointerMove),Event.remove(a.doc,
"mouseup",a.onPointerUp));f===a.minFingers&&a.fingers<a.minFingers&&(e.fingers=a.fingers,e.state="end",a.listener(c,e))};var e=d.pointerSetup(a);Event.add(a.target,"mousedown",a.onPointerDown);return e};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{};Event.Gesture._gestureHandlers.gesture=d.gesture;return d}(Event.proxy);"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){d.pointerdown=d.pointermove=d.pointerup=function(c){if(!c.target.isPointerEmitter){var a=!0;c.onPointerDown=function(d){a=!1;e.gesture="pointerdown";c.listener(d,e)};c.onPointerMove=function(d){e.gesture="pointermove";c.listener(d,e,a)};c.onPointerUp=function(d){a=!0;e.gesture="pointerup";c.listener(d,e,!0)};var e=d.pointerSetup(c);Event.add(c.target,"mousedown",c.onPointerDown);Event.add(c.target,"mousemove",c.onPointerMove);Event.add(c.doc,"mouseup",c.onPointerUp);c.target.isPointerEmitter=
!0;return e}};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{};Event.Gesture._gestureHandlers.pointerdown=d.pointerdown;Event.Gesture._gestureHandlers.pointermove=d.pointermove;Event.Gesture._gestureHandlers.pointerup=d.pointerup;return d}(Event.proxy);"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){d.shake=function(c){var a={gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:c.target,listener:c.listener,remove:function(){window.removeEventListener("devicemotion",h,!1)}},e=(new Date).getTime(),d={x:0,y:0,z:0},f={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},h=function(h){var m=h.accelerationIncludingGravity;d.x=.8*d.x+(1-.8)*m.x;d.y=.8*d.y+(1-.8)*m.y;d.z=.8*d.z+(1-.8)*m.z;a.accelerationIncludingGravity=d;a.acceleration.x=m.x-d.x;
a.acceleration.y=m.y-d.y;a.acceleration.z=m.z-d.z;if("devicemotion"===c.gesture)c.listener(h,a);else for(var m=(new Date).getTime(),q=0;3>q;q++){var n="xyz"[q],t=a.acceleration[n],n=f[n],u=Math.abs(t);!(1E3>m-e)&&4<u&&(t=m*t/u,u=Math.abs(t+n.value),n.value&&200>u?(n.value=t,n.count++,3===n.count&&(c.listener(h,a),e=m,n.value=0,n.count=0)):(n.value=t,n.count=1))}};if(window.addEventListener)return window.addEventListener("devicemotion",h,!1),a};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=
Event.Gesture._gestureHandlers||{};Event.Gesture._gestureHandlers.shake=d.shake;return d}(Event.proxy);"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){var c=Math.PI/180;d.swipe=function(a){a.snap=a.snap||90;a.threshold=a.threshold||1;a.onPointerDown=function(c){d.pointerStart(c,e,a)&&(Event.add(a.doc,"mousemove",a.onPointerMove).listener(c),Event.add(a.doc,"mouseup",a.onPointerUp))};a.onPointerMove=function(c){c=c.changedTouches||d.getCoords(c);for(var e=c.length,h=0;h<e;h++){var l=c[h],m=a.tracker[l.identifier||Infinity];m&&(m.move.x=l.pageX,m.move.y=l.pageY,m.moveTime=(new Date).getTime())}};a.onPointerUp=function(k){if(d.pointerEnd(k,
e,a)){Event.remove(a.doc,"mousemove",a.onPointerMove);Event.remove(a.doc,"mouseup",a.onPointerUp);var f,h,l,m,q={x:0,y:0},n=0,t=0,u=0,v;for(v in a.tracker){var p=a.tracker[v];m=p.move.x-p.start.x;var w=p.move.y-p.start.y,n=n+p.move.x,t=t+p.move.y;q.x+=p.start.x;q.y+=p.start.y;u++;h=Math.sqrt(m*m+w*w);p=p.moveTime-p.startTime;m=Math.atan2(m,w)/c+180;h=p?h/p:0;if("undefined"===typeof l)l=m,f=h;else if(20>=Math.abs(m-l))l=(l+m)/2,f=(f+h)/2;else return}f>a.threshold&&(q.x/=u,q.y/=u,e.start=q,e.x=n/u,
e.y=t/u,e.angle=-(((l/a.snap+.5>>0)*a.snap||360)-360),e.velocity=f,e.fingers=a.gestureFingers,e.state="swipe",a.listener(k,e))}};var e=d.pointerSetup(a);Event.add(a.target,"mousedown",a.onPointerDown);return e};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{};Event.Gesture._gestureHandlers.swipe=d.swipe;return d}(Event.proxy);"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){d.tap=d.longpress=function(c){c.delay=c.delay||500;c.timeout=c.timeout||250;var a,e;c.onPointerDown=function(f){d.pointerStart(f,k,c)&&(a=(new Date).getTime(),Event.add(c.doc,"mousemove",c.onPointerMove).listener(f),Event.add(c.doc,"mouseup",c.onPointerUp),"longpress"===c.gesture&&(e=setTimeout(function(){if(!(f.cancelBubble&&1<++f.bubble)){var a=0,e;for(e in c.tracker){if(!0===c.tracker[e].end||c.cancel)return;a++}k.state="start";k.fingers=a;c.listener(f,k)}},c.delay)))};
c.onPointerMove=function(a){var e=c.bbox;a=a.changedTouches||d.getCoords(a);for(var k=a.length,m=0;m<k;m++){var q=a[m],n=c.tracker[q.identifier||Infinity];if(n){if("relative"===c.position)var t=(q.pageX+e.scrollLeft-e.x1)*e.scaleX,q=(q.pageY+e.scrollTop-e.y1)*e.scaleY;else t=q.pageX-e.x1,q=q.pageY-e.y1;if(!(0<t&&t<e.width&&0<q&&q<e.height&&25>=Math.abs(t-n.start.x)&&25>=Math.abs(q-n.start.y))){Event.remove(c.doc,"mousemove",c.onPointerMove);c.cancel=!0;break}}}};c.onPointerUp=function(f){d.pointerEnd(f,
k,c)&&(clearTimeout(e),Event.remove(c.doc,"mousemove",c.onPointerMove),Event.remove(c.doc,"mouseup",c.onPointerUp),f.cancelBubble&&1<++f.bubble||("longpress"===c.gesture?"start"===k.state&&(k.state="end",c.listener(f,k)):c.cancel||(new Date).getTime()-a>c.timeout||(k.state="tap",k.fingers=c.gestureFingers,c.listener(f,k))))};var k=d.pointerSetup(c);Event.add(c.target,"mousedown",c.onPointerDown);return k};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||
{};Event.Gesture._gestureHandlers.tap=d.tap;Event.Gesture._gestureHandlers.longpress=d.longpress;return d}(Event.proxy);"undefined"===typeof Event&&(Event={});"undefined"===typeof Event.proxy&&(Event.proxy={});
Event.proxy=function(d){d.wheel=function(c){var a,e=c.timeout||150,d=0,f={gesture:"wheel",state:"start",wheelDelta:0,target:c.target,listener:c.listener,remove:function(){c.target[m](q,h,!1)}},h=function(h){h=h||window.event;f.state=d++?"change":"start";f.wheelDelta=h.detail?-20*h.detail:h.wheelDelta;c.listener(h,f);clearTimeout(a);a=setTimeout(function(){d=0;f.state="end";f.wheelDelta=0;c.listener(h,f)},e)},l=document.addEventListener?"addEventListener":"attachEvent",m=document.removeEventListener?
"removeEventListener":"detachEvent",q=Event.supports("mousewheel")?"mousewheel":"DOMMouseScroll";c.target[l](q,h,!1);return f};Event.Gesture=Event.Gesture||{};Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{};Event.Gesture._gestureHandlers.wheel=d.wheel;return d}(Event.proxy);fabric.log=function(){};fabric.warn=function(){};
"undefined"!==typeof console&&("undefined"!==typeof console.log&&console.log.apply&&(fabric.log=function(){return console.log.apply(console,arguments)}),"undefined"!==typeof console.warn&&console.warn.apply&&(fabric.warn=function(){return console.warn.apply(console,arguments)}));
(function(){function d(a,c){this.__eventListeners[a]&&(c?fabric.util.removeFromArray(this.__eventListeners[a],c):this.__eventListeners[a].length=0)}function c(a,c){this.__eventListeners||(this.__eventListeners={});if(1===arguments.length)for(var e in a)this.on(e,a[e]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(c);return this}function a(a,c){if(this.__eventListeners){if(1===arguments.length&&"object"===typeof arguments[0])for(var e in a)d.call(this,e,
a[e]);else d.call(this,a,c);return this}}function e(a,c){if(this.__eventListeners){var e=this.__eventListeners[a];if(e){for(var d=0,m=e.length;d<m;d++)e[d].call(this,c||{});return this}}}fabric.Observable={observe:c,stopObserving:a,fire:e,on:c,off:a,trigger:e}})();
fabric.Collection={add:function(){this._objects.push.apply(this._objects,arguments);for(var d=arguments.length;d--;)this._onObjectAdded(arguments[d]);this.renderOnAddRemove&&this.renderAll();return this},insertAt:function(d,c,a){var e=this.getObjects();a?e[c]=d:e.splice(c,0,d);this._onObjectAdded(d);this.renderOnAddRemove&&this.renderAll();return this},remove:function(d){var c=this.getObjects(),a=c.indexOf(d);-1!==a&&(c.splice(a,1),this._onObjectRemoved(d));this.renderOnAddRemove&&this.renderAll();
return d},forEachObject:function(d,c){for(var a=this.getObjects(),e=a.length;e--;)d.call(c,a[e],e,a);return this},item:function(d){return this.getObjects()[d]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(d){return-1<this.getObjects().indexOf(d)},complexity:function(){return this.getObjects().reduce(function(d,c){return d+=c.complexity?c.complexity():0},0)},toGrayscale:function(){return this.forEachObject(function(d){d.toGrayscale()})}};
(function(){function d(a){if(!a)return fabric;a=a.split(".");for(var c=a.length,e=fabric.window,f=0;f<c;++f)e=e[a[f]];return e}function c(a,c,e,f,d,k,l,z,y){q=m.call(arguments);if(h[q])return h[q];var E=Math.PI/180*l,D=Math.sin(E),E=Math.cos(E);e=Math.abs(e);f=Math.abs(f);var A=E*(z-a)*.5+D*(y-c)*.5,B=E*(y-c)*.5-D*(z-a)*.5,A=A*A/(e*e)+B*B/(f*f);1<A&&(A=Math.sqrt(A),e*=A,f*=A);var F=E/e,C=D/e,H=-D/f,I=E/f,A=F*z+C*y,B=H*z+I*y,F=F*a+C*c,C=H*a+I*c,H=1/((F-A)*(F-A)+(C-B)*(C-B))-.25;0>H&&(H=0);I=Math.sqrt(H);
k===d&&(I=-I);H=.5*(A+F)-I*(C-B);I=.5*(B+C)+I*(F-A);A=Math.atan2(B-I,A-H);B=Math.atan2(C-I,F-H)-A;0>B&&1===k?B+=2*Math.PI:0<B&&0===k&&(B-=2*Math.PI);for(var F=Math.ceil(Math.abs(B/(.5*Math.PI+.001))),C=[],J=0;J<F;J++)C[J]=[H,I,A+J*B/F,A+(J+1)*B/F,e,f,D,E];return h[q]=C}function a(a,c,e,f,h,d,k,z){q=m.call(arguments);if(l[q])return l[q];var y=z*h,E=-k*d,D=k*h,A=z*d,B=.5*(f-e),F=8/3*Math.sin(.5*B)*Math.sin(.5*B)/Math.sin(B),B=a+Math.cos(e)-F*Math.sin(e),C=c+Math.sin(e)+F*Math.cos(e),H=a+Math.cos(f),
I=c+Math.sin(f),J=H+F*Math.sin(f),F=I-F*Math.cos(f);l[q]=[y*B+E*C,D*B+A*C,y*J+E*F,D*J+A*F,y*H+E*I,D*H+A*I];return l[q]}var e=Math.sqrt,k=Math.atan2;fabric.util={};var f=Math.PI/180,h={},l={},m=Array.prototype.join,q;fabric.util.removeFromArray=function(a,c){var e=a.indexOf(c);-1!==e&&a.splice(e,1);return a};fabric.util.degreesToRadians=function(a){return a*f};fabric.util.radiansToDegrees=function(a){return a/f};fabric.util.rotatePoint=function(a,c,e){var f=Math.sin(e);e=Math.cos(e);a.subtractEquals(c);
return(new fabric.Point(a.x*e-a.y*f,a.x*f+a.y*e)).addEquals(c)};fabric.util.toFixed=function(a,c){return parseFloat(Number(a).toFixed(c))};fabric.util.getRandomInt=function(a,c){return Math.floor(Math.random()*(c-a+1))+a};fabric.util.falseFunction=function(){return!1};fabric.util.getKlass=function(a,c){return d(c)[fabric.util.string.camelize(fabric.util.string.capitalize(a))]};fabric.util.resolveNamespace=d;fabric.util.loadImage=function(a,c,e){if(a){var f=fabric.util.createImage();f.onload=function(){c&&
c.call(e,f);f=f.onload=null};f.src=a}else c&&c.call(e,a)};fabric.util.enlivenObjects=function(a,c,e,f){var h=[],d=0,k=a.length;a.forEach(function(a,l){if(a.type){var m=fabric.util.getKlass(a.type,e);m.async?m.fromObject(a,function(e,m){m||(h[l]=e,f&&f(a,h[l]));++d===k&&c&&c(h)}):(h[l]=m.fromObject(a),f&&f(a,h[l]),++d===k&&c&&c(h))}})};fabric.util.groupSVGElements=function(a,c,e){a=1<a.length?new fabric.PathGroup(a,c):a[0];"undefined"!==typeof e&&a.setSourcePath(e);return a};fabric.util.populateWithProperties=
function(a,c,e){if(e&&"[object Array]"===Object.prototype.toString.call(e))for(var f=0,h=e.length;f<h;f++)e[f]in a&&(c[e[f]]=a[e[f]])};fabric.util.drawDashedLine=function(a,c,f,h,d,l){h-=c;var m=d-f;d=e(h*h+m*m);h=k(m,h);var m=l.length,q=0,y=!0;a.save();a.translate(c,f);a.moveTo(0,0);a.rotate(h);for(c=0;d>c;)c+=l[q++%m],c>d&&(c=d),a[y?"lineTo":"moveTo"](c,0),y=!y;a.restore()};fabric.util.createCanvasElement=function(a){a||(a=fabric.document.createElement("canvas"));a.getContext||"undefined"===typeof G_vmlCanvasManager||
G_vmlCanvasManager.initElement(a);return a};fabric.util.createImage=function(){return fabric.isLikelyNode?new (require("canvas").Image):fabric.document.createElement("img")};fabric.util.createAccessors=function(a){a=a.prototype;for(var c=a.stateProperties.length;c--;){var e=a.stateProperties[c],f=e.charAt(0).toUpperCase()+e.slice(1),h="set"+f,f="get"+f;a[f]||(a[f]=new Function('return this.get("'+e+'")'));a[h]||(a[h]=new Function("value",'return this.set("'+e+'", value)'))}};fabric.util.clipContext=
function(a,c){c.save();c.beginPath();a.clipTo(c);c.clip()};fabric.util.multiplyTransformMatrices=function(a,c){for(var e=[[a[0],a[2],a[4]],[a[1],a[3],a[5]],[0,0,1]],f=[[c[0],c[2],c[4]],[c[1],c[3],c[5]],[0,0,1]],h=[],d=0;3>d;d++){h[d]=[];for(var k=0;3>k;k++){for(var l=0,m=0;3>m;m++)l+=e[d][m]*f[m][k];h[d][k]=l}}return[h[0][0],h[1][0],h[0][1],h[1][1],h[0][2],h[1][2]]};fabric.util.getFunctionBody=function(a){return(String(a).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]};fabric.util.drawArc=function(e,
f,h,d){f=c(d[5],d[6],d[0],d[1],d[3],d[4],d[2],f,h);for(h=0;h<f.length;h++)d=a.apply(this,f[h]),e.bezierCurveTo.apply(e,d)}})();
(function(){var d=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(c){if(void 0===this||null===this)throw new TypeError;var a=Object(this),e=a.length>>>0;if(0===e)return-1;var d=0;0<arguments.length&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==Number.POSITIVE_INFINITY&&d!==Number.NEGATIVE_INFINITY&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=e)return-1;for(d=0<=d?d:Math.max(e-Math.abs(d),0);d<e;d++)if(d in a&&a[d]===c)return d;return-1});Array.prototype.forEach||
(Array.prototype.forEach=function(c,a){for(var e=0,d=this.length>>>0;e<d;e++)e in this&&c.call(a,this[e],e,this)});Array.prototype.map||(Array.prototype.map=function(c,a){for(var e=[],d=0,f=this.length>>>0;d<f;d++)d in this&&(e[d]=c.call(a,this[d],d,this));return e});Array.prototype.every||(Array.prototype.every=function(c,a){for(var e=0,d=this.length>>>0;e<d;e++)if(e in this&&!c.call(a,this[e],e,this))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(c,a){for(var e=0,d=this.length>>>
0;e<d;e++)if(e in this&&c.call(a,this[e],e,this))return!0;return!1});Array.prototype.filter||(Array.prototype.filter=function(c,a){for(var e=[],d,f=0,h=this.length>>>0;f<h;f++)f in this&&(d=this[f],c.call(a,d,f,this)&&e.push(d));return e});Array.prototype.reduce||(Array.prototype.reduce=function(c){var a=this.length>>>0,e=0,d;if(1<arguments.length)d=arguments[1];else{do{if(e in this){d=this[e++];break}if(++e>=a)throw new TypeError;}while(1)}for(;e<a;e++)e in this&&(d=c.call(null,d,this[e],e,this));
return d});fabric.util.array={invoke:function(c,a){for(var e=d.call(arguments,2),k=[],f=0,h=c.length;f<h;f++)k[f]=e.length?c[f][a].apply(c[f],e):c[f][a].call(c[f]);return k},min:function(c,a){if(c&&0!==c.length){var e=c.length-1,d=a?c[e][a]:c[e];if(a)for(;e--;)c[e][a]<d&&(d=c[e][a]);else for(;e--;)c[e]<d&&(d=c[e]);return d}},max:function(c,a){if(c&&0!==c.length){var e=c.length-1,d=a?c[e][a]:c[e];if(a)for(;e--;)c[e][a]>=d&&(d=c[e][a]);else for(;e--;)c[e]>=d&&(d=c[e]);return d}}}})();
(function(){function d(c,a){for(var e in a)c[e]=a[e];return c}fabric.util.object={extend:d,clone:function(c){return d({},c)}}})();
(function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")});fabric.util.string={camelize:function(d){return d.replace(/-+(.)?/g,function(c,a){return a?a.toUpperCase():""})},capitalize:function(d){return d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()},escapeXml:function(d){return d.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}})();
(function(){var d=Array.prototype.slice,c=Function.prototype.apply,a=function(){};Function.prototype.bind||(Function.prototype.bind=function(e){var k=this,f=d.call(arguments,1),h;h=f.length?function(){return c.call(k,this instanceof a?this:e,f.concat(d.call(arguments)))}:function(){return c.call(k,this instanceof a?this:e,arguments)};a.prototype=this.prototype;h.prototype=new a;return h})})();
(function(){function d(){}function c(c){var e=this.constructor.superclass.prototype[c];return 1<arguments.length?e.apply(this,a.call(arguments,1)):e.call(this)}var a=Array.prototype.slice,e=function(){},k=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}(),f=function(a,c,e){for(var f in c)f in a.prototype&&"function"===typeof a.prototype[f]&&-1<(c[f]+"").indexOf("callSuper")?a.prototype[f]=function(a){return function(){var f=this.constructor.superclass;this.constructor.superclass=
e;var h=c[a].apply(this,arguments);this.constructor.superclass=f;if("initialize"!==a)return h}}(f):a.prototype[f]=c[f],k&&(c.toString!==Object.prototype.toString&&(a.prototype.toString=c.toString),c.valueOf!==Object.prototype.valueOf&&(a.prototype.valueOf=c.valueOf))};fabric.util.createClass=function(){function h(){this.initialize.apply(this,arguments)}var k=null,m=a.call(arguments,0);"function"===typeof m[0]&&(k=m.shift());h.superclass=k;h.subclasses=[];k&&(d.prototype=k.prototype,h.prototype=new d,
k.subclasses.push(h));for(var q=0,n=m.length;q<n;q++)f(h,m[q],k);h.prototype.initialize||(h.prototype.initialize=e);h.prototype.constructor=h;h.prototype.callSuper=c;return h}})();
(function(){function d(a){var c=Array.prototype.slice.call(arguments,1),e,f,h=c.length;for(f=0;f<h;f++)if(e=typeof a[c[f]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}function c(a,c){return function(e){c.call(k(a),e||fabric.window.event)}}function a(a,c){return function(e){if(q[a]&&q[a][c])for(var f=q[a][c],h=0,d=f.length;h<d;h++)f[h].call(this,e||fabric.window.event)}}var e=function(){var a=0;return function(c){return c.__uniqueID||(c.__uniqueID="uniqueID__"+a++)}}(),k,f;(function(){var a=
{};k=function(c){return a[c]};f=function(c,e){a[c]=e}})();var h=d(fabric.document.documentElement,"addEventListener","removeEventListener")&&d(fabric.window,"addEventListener","removeEventListener"),l=d(fabric.document.documentElement,"attachEvent","detachEvent")&&d(fabric.window,"attachEvent","detachEvent"),m={},q={};h?(h=function(a,c,e){a.addEventListener(c,e,!1)},l=function(a,c,e){a.removeEventListener(c,e,!1)}):l?(h=function(a,h,d){var k=e(a);f(k,a);m[k]||(m[k]={});m[k][h]||(m[k][h]=[]);d={handler:d,
wrappedHandler:c(k,d)};m[k][h].push(d);a.attachEvent("on"+h,d.wrappedHandler)},l=function(a,c,f){var h=e(a),d;if(m[h]&&m[h][c])for(var k=0,l=m[h][c].length;k<l;k++)(d=m[h][c][k])&&d.handler===f&&(a.detachEvent("on"+c,d.wrappedHandler),m[h][c][k]=null)}):(h=function(c,f,h){var d=e(c);q[d]||(q[d]={});if(!q[d][f]){q[d][f]=[];var k=c["on"+f];k&&q[d][f].push(k);c["on"+f]=a(d,f)}q[d][f].push(h)},l=function(a,c,f){a=e(a);if(q[a]&&q[a][c]){c=q[a][c];a=0;for(var h=c.length;a<h;a++)c[a]===f&&c.splice(a,1)}});
fabric.util.addListener=h;fabric.util.removeListener=l;var n=function(a){return"unknown"!==typeof a.clientX?a.clientX:0},t=function(a){return"unknown"!==typeof a.clientY?a.clientY:0};fabric.isTouchSupported&&(n=function(a){return"touchend"!==a.type?a.touches&&a.touches[0]?a.touches[0].pageX-(a.touches[0].pageX-a.touches[0].clientX)||a.clientX:a.clientX:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0].pageX-(a.changedTouches[0].pageX-a.changedTouches[0].clientX)||a.clientX:a.clientX},t=function(a){return"touchend"!==
a.type?a.touches&&a.touches[0]?a.touches[0].pageY-(a.touches[0].pageY-a.touches[0].clientY)||a.clientY:a.clientY:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0].pageY-(a.changedTouches[0].pageY-a.changedTouches[0].clientY)||a.clientY:a.clientY});fabric.util.getPointer=function(a,c){a||(a=fabric.window.event);for(var e=a.target||("unknown"!==typeof a.srcElement?a.srcElement:null),f=fabric.document.body||{scrollLeft:0,scrollTop:0},h=fabric.document.documentElement,d=e,k=0,l=0,m;e&&e.parentNode&&
!m;)e=e.parentNode,e!==fabric.document&&"fixed"===fabric.util.getElementStyle(e,"position")&&(m=e),e!==fabric.document&&d!==c&&"absolute"===fabric.util.getElementStyle(e,"position")?l=k=0:e===fabric.document?(k=f.scrollLeft||h.scrollLeft||0,l=f.scrollTop||h.scrollTop||0):(k+=e.scrollLeft||0,l+=e.scrollTop||0);return{x:n(a)+k,y:t(a)+l}};fabric.util.object.extend(fabric.util,fabric.Observable)})();
(function(){var d=fabric.document.createElement("div"),c="string"===typeof d.style.filter,a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,e=function(a){return a};"string"===typeof d.style.opacity?e=function(a,c){a.style.opacity=c;return a}:c&&(e=function(c,e){var h=c.style;c.currentStyle&&!c.currentStyle.hasLayout&&(h.zoom=1);a.test(h.filter)?h.filter=h.filter.replace(a,.9999<=e?"":"alpha(opacity="+100*e+")"):h.filter+=" alpha(opacity="+100*e+")";return c});fabric.util.setStyle=function(a,c){var h=a.style;
if(!h)return a;if("string"===typeof c)return a.style.cssText+=";"+c,-1<c.indexOf("opacity")?e(a,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var d in c)"opacity"===d?e(a,c[d]):h["float"===d||"cssFloat"===d?"undefined"===typeof h.styleFloat?"cssFloat":"styleFloat":d]=c[d];return a}})();
(function(){function d(a,c){var e=fabric.document.createElement(a),d;for(d in c)"class"===d?e.className=c[d]:"for"===d?e.htmlFor=c[d]:e.setAttribute(d,c[d]);return e}function c(a,c){a.style||(a.style={});if(fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle)return fabric.document.defaultView.getComputedStyle(a,null)[c];var e=a.style[c];!e&&a.currentStyle&&(e=a.currentStyle[c]);return e}var a=Array.prototype.slice,e=function(c){return a.call(c,0)},k;try{k=e(fabric.document.childNodes)instanceof
Array}catch(f){}k||(e=function(a){for(var c=Array(a.length),e=a.length;e--;)c[e]=a[e];return c});(function(){var a=fabric.document.documentElement.style,c="userSelect"in a?"userSelect":"MozUserSelect"in a?"MozUserSelect":"WebkitUserSelect"in a?"WebkitUserSelect":"KhtmlUserSelect"in a?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=function(a){"undefined"!==typeof a.onselectstart&&(a.onselectstart=fabric.util.falseFunction);c?a.style[c]="none":"string"===typeof a.unselectable&&(a.unselectable=
"on");return a};fabric.util.makeElementSelectable=function(a){"undefined"!==typeof a.onselectstart&&(a.onselectstart=null);c?a.style[c]="":"string"===typeof a.unselectable&&(a.unselectable="");return a}})();(function(){fabric.util.getScript=function(a,c){var e=fabric.document.getElementsByTagName("head")[0],d=fabric.document.createElement("script"),k=!0;d.onload=d.onreadystatechange=function(a){!k||"string"===typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(k=!1,
c(a||fabric.window.event),d=d.onload=d.onreadystatechange=null)};d.src=a;e.appendChild(d)}})();fabric.util.getById=function(a){return"string"===typeof a?fabric.document.getElementById(a):a};fabric.util.toArray=e;fabric.util.makeElement=d;fabric.util.addClass=function(a,c){-1===(" "+a.className+" ").indexOf(" "+c+" ")&&(a.className+=(a.className?" ":"")+c)};fabric.util.wrapElement=function(a,c,e){"string"===typeof c&&(c=d(c,e));a.parentNode&&a.parentNode.replaceChild(c,a);c.appendChild(a);return c};
fabric.util.getElementOffset=function(a){var e,d={left:0,top:0},k=a&&a.ownerDocument,q={left:0,top:0};e={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!k)return{left:0,top:0};for(var n in e)q[e[n]]+=parseInt(c(a,n),10)||0;e=k.documentElement;"undefined"!==typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect());a=null!=k&&k===k.window?k:9===k.nodeType&&(k.defaultView||k.parentWindow);return{left:d.left+(a.pageXOffset||e.scrollLeft)-(e.clientLeft||0)+q.left,
top:d.top+(a.pageYOffset||e.scrollTop)-(e.clientTop||0)+q.top}};fabric.util.getElementStyle=c})();
(function(){function d(a,c){return a+(/\?/.test(a)?"&":"?")+c}function c(){}var a=function(){for(var a=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],c=a.length;c--;)try{if(a[c]())return a[c]}catch(f){}}();fabric.util.request=function(e,k){k||(k={});var f=k.method?k.method.toUpperCase():"GET",h=k.onComplete||function(){},l=a(),m;l.onreadystatechange=
function(){4===l.readyState&&(h(l),l.onreadystatechange=c)};"GET"===f&&(m=null,"string"===typeof k.parameters&&(e=d(e,k.parameters)));l.open(f,e,!0);"POST"!==f&&"PUT"!==f||l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.send(m);return l}})();
(function(){var d=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(a){fabric.window.setTimeout(a,1E3/60)},c=function(){return d.apply(fabric.window,arguments)};fabric.util.animate=function(a){a||(a={});var e=+new Date,d=a.duration||500,f=e+d,h,l=a.onChange||function(){},m=a.abort||function(){return!1},q=a.easing||function(a,c,e,f){return-e*Math.cos(a/
f*(Math.PI/2))+e+c},n="startValue"in a?a.startValue:0,t="endValue"in a?a.endValue:100,u=a.byValue||t-n;a.onStart&&a.onStart();(function p(){h=+new Date;var t=h>f?d:h-e;m()?a.onComplete&&a.onComplete():(l(q(t,n,u,d)),h>f?a.onComplete&&a.onComplete():c(p))})()};fabric.util.requestAnimFrame=c})();
(function(){function d(a,e,d,f){return d-c(f-a,0,d,f)+e}function c(a,c,d,f){return(a/=f)<1/2.75?7.5625*d*a*a+c:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+.75)+c:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+.9375)+c:d*(7.5625*(a-=2.625/2.75)*a+.984375)+c}fabric.util.ease={easeInQuad:function(a,c,d,f){return d*(a/=f)*a+c},easeOutQuad:function(a,c,d,f){return-d*(a/=f)*(a-2)+c},easeInOutQuad:function(a,c,d,f){a/=f/2;return 1>a?d/2*a*a+c:-d/2*(--a*(a-2)-1)+c},easeInCubic:function(a,c,d,f){return d*(a/=f)*a*a+c},easeOutCubic:function(a,
c,d,f){return d*((a=a/f-1)*a*a+1)+c},easeInOutCubic:function(a,c,d,f){a/=f/2;return 1>a?d/2*a*a*a+c:d/2*((a-=2)*a*a+2)+c},easeInQuart:function(a,c,d,f){return d*(a/=f)*a*a*a+c},easeOutQuart:function(a,c,d,f){return-d*((a=a/f-1)*a*a*a-1)+c},easeInOutQuart:function(a,c,d,f){a/=f/2;return 1>a?d/2*a*a*a*a+c:-d/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(a,c,d,f){return d*(a/=f)*a*a*a*a+c},easeOutQuint:function(a,c,d,f){return d*((a=a/f-1)*a*a*a*a+1)+c},easeInOutQuint:function(a,c,d,f){a/=f/2;return 1>
a?d/2*a*a*a*a*a+c:d/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(a,c,d,f){return-d*Math.cos(a/f*(Math.PI/2))+d+c},easeOutSine:function(a,c,d,f){return d*Math.sin(a/f*(Math.PI/2))+c},easeInOutSine:function(a,c,d,f){return-d/2*(Math.cos(Math.PI*a/f)-1)+c},easeInExpo:function(a,c,d,f){return 0===a?c:d*Math.pow(2,10*(a/f-1))+c},easeOutExpo:function(a,c,d,f){return a===f?c+d:d*(-Math.pow(2,-10*a/f)+1)+c},easeInOutExpo:function(a,c,d,f){if(0===a)return c;if(a===f)return c+d;a/=f/2;return 1>a?d/2*Math.pow(2,
10*(a-1))+c:d/2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(a,c,d,f){return-d*(Math.sqrt(1-(a/=f)*a)-1)+c},easeOutCirc:function(a,c,d,f){return d*Math.sqrt(1-(a=a/f-1)*a)+c},easeInOutCirc:function(a,c,d,f){a/=f/2;return 1>a?-d/2*(Math.sqrt(1-a*a)-1)+c:d/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(a,c,d,f){var h=1.70158,l=0,m=d;if(0===a)return c;a/=f;if(1===a)return c+d;l||(l=.3*f);m<Math.abs(d)?(m=d,h=l/4):h=l/(2*Math.PI)*Math.asin(d/m);return-(m*Math.pow(2,10*--a)*Math.sin(2*(a*f-h)*
Math.PI/l))+c},easeOutElastic:function(a,c,d,f){var h=1.70158,l=0,m=d;if(0===a)return c;a/=f;if(1===a)return c+d;l||(l=.3*f);m<Math.abs(d)?(m=d,h=l/4):h=l/(2*Math.PI)*Math.asin(d/m);return m*Math.pow(2,-10*a)*Math.sin(2*(a*f-h)*Math.PI/l)+d+c},easeInOutElastic:function(a,c,d,f){var h=1.70158,l=0,m=d;if(0===a)return c;a/=f/2;if(2===a)return c+d;l||(l=.3*f*1.5);m<Math.abs(d)?(m=d,h=l/4):h=l/(2*Math.PI)*Math.asin(d/m);return 1>a?-.5*m*Math.pow(2,10*--a)*Math.sin(2*(a*f-h)*Math.PI/l)+c:m*Math.pow(2,-10*
--a)*Math.sin(2*(a*f-h)*Math.PI/l)*.5+d+c},easeInBack:function(a,c,d,f,h){void 0===h&&(h=1.70158);return d*(a/=f)*a*((h+1)*a-h)+c},easeOutBack:function(a,c,d,f,h){void 0===h&&(h=1.70158);return d*((a=a/f-1)*a*((h+1)*a+h)+1)+c},easeInOutBack:function(a,c,d,f,h){void 0===h&&(h=1.70158);a/=f/2;return 1>a?d/2*a*a*(((h*=1.525)+1)*a-h)+c:d/2*((a-=2)*a*(((h*=1.525)+1)*a+h)+2)+c},easeInBounce:d,easeOutBounce:c,easeInOutBounce:function(a,e,k,f){return a<f/2?.5*d(2*a,0,k,f)+e:.5*c(2*a-f,0,k,f)+.5*k+e}}})();
(function(d){function c(a){return a in w?w[a]:a}function a(a,c,e){"fill"!==a&&"stroke"!==a||"none"!==c?"fillRule"===a?c="evenodd"===c?"destination-over":c:"strokeDashArray"===a?c=c.replace(/,/g," ").split(/\s+/):"transformMatrix"===a&&(c=e&&e.transformMatrix?p(e.transformMatrix,q.parseTransformAttribute(c)):q.parseTransformAttribute(c)):c="";e=(a="[object Array]"===Object.prototype.toString.call(c))?c.map(parseFloat):parseFloat(c);return!a&&isNaN(e)?c:e}function e(a){for(var c in x)if(a[c]&&"undefined"!==
typeof a[x[c]]&&0!==a[c].indexOf("url(")){var e=new q.Color(a[c]);a[c]=e.setAlpha(v(e.getAlpha()*a[x[c]],2)).toRgba();delete a[x[c]]}return a}function k(a,c){var e=a.match(/(normal|italic)?\s*(normal|small-caps)?\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\s*(\d+)px(?:\/(normal|[\d\.]+))?\s+(.*)/);if(e){var f=e[1],d=e[3],h=e[4],k=e[5],e=e[6];f&&(c.fontStyle=f);d&&(c.fontSize=isNaN(parseFloat(d))?d:parseFloat(d));h&&(c.fontSize=parseFloat(h));e&&(c.fontFamily=e);k&&(c.lineHeight=
"normal"===k?1:k)}}function f(a){for(var c=a.length;c--;){var e=a[c].get("fill");/^url\(/.test(e)&&(e=e.slice(5,e.length-1),q.gradientDefs[e]&&a[c].set("fill",q.Gradient.fromElement(q.gradientDefs[e],a[c])))}}function h(a){a=a.getElementsByTagName("style");for(var c={},e,f=0,d=a.length;f<d;f++)e=a[0].textContent,e=e.replace(/\/\*[\s\S]*?\*\//g,""),e=e.match(/[^{]*\{[\s\S]*?\}/g),e=e.map(function(a){return a.trim()}),e.forEach(function(a){var e=a.match(/([\s\S]*?)\s*\{([^}]*)\}/);a=e[1];e=e[2].trim().replace(/;$/,
"").split(/\s*;\s*/);c[a]||(c[a]={});for(var f=0,d=e.length;f<d;f++){var h=e[f].split(/\s*:\s*/);c[a][h[0]]=h[1]}});return c}function l(a){var c=a.nodeName,e=a.getAttribute("class");a=a.getAttribute("id");var f={},d;for(d in q.cssRules)if(e&&(new RegExp("^\\."+e)).test(d)||a&&(new RegExp("^#"+a)).test(d)||(new RegExp("^"+c)).test(d))for(var h in q.cssRules[d])f[h]=q.cssRules[d][h];return f}function m(a){var c=a.objects;a=a.options;c=c.map(function(a){return q[t(a.type)].fromObject(a)});return{objects:c,
options:a}}var q=d.fabric||(d.fabric={}),n=q.util.object.extend,t=q.util.string.capitalize,u=q.util.object.clone,v=q.util.toFixed,p=q.util.multiplyTransformMatrices;q.SHARED_ATTRIBUTES="transform fill fill-opacity fill-rule opacity stroke stroke-dasharray stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width".split(" ");var w={"fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight",
cx:"left",x:"left",r:"radius","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration",cy:"top",y:"top",transform:"transformMatrix"},x={stroke:"strokeOpacity",fill:"fillOpacity"};q.parseTransformAttribute=function(){function a(c,e){var f=e[0];c[0]=Math.cos(f);c[1]=Math.sin(f);c[2]=-Math.sin(f);c[3]=Math.cos(f)}function c(a,
e){var f=2===e.length?e[1]:e[0];a[0]=e[0];a[3]=f}function e(a,c){a[4]=c[0];2===c.length&&(a[5]=c[1])}var f=[1,0,0,1,0,0],d=/^\s*(?:(?:(?:(?:(matrix)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\))|(?:(translate)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(scale)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(rotate)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(skewX)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\))|(?:(skewY)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\)))(?:(?:\s+,?\s*|,\s*)(?:(?:(matrix)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\))|(?:(translate)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(scale)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(rotate)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(skewX)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\))|(?:(skewY)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\))))*)?)\s*$/,
h=RegExp("(?:(?:(matrix)\\s*\\(\\s*((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))\\s*\\))|(?:(translate)\\s*\\(\\s*((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)))?\\s*\\))|(?:(scale)\\s*\\(\\s*((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)))?\\s*\\))|(?:(rotate)\\s*\\(\\s*((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))(?:\\s+,?\\s*|,\\s*)((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)))?\\s*\\))|(?:(skewX)\\s*\\(\\s*((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))\\s*\\))|(?:(skewY)\\s*\\(\\s*((?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?))\\s*\\)))",
"g");return function(k){var l=f.concat(),m=[];if(!k||k&&!d.test(k))return l;k.replace(h,function(d){var h=/(?:(?:(matrix)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\))|(?:(translate)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(scale)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(rotate)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))(?:\s+,?\s*|,\s*)((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)))?\s*\))|(?:(skewX)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\))|(?:(skewY)\s*\(\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?))\s*\)))/.exec(d).filter(function(a){return""!==
a&&null!=a});d=h[1];h=h.slice(2).map(parseFloat);switch(d){case "translate":e(l,h);break;case "rotate":a(l,h);break;case "scale":c(l,h);break;case "skewX":l[2]=h[0];break;case "skewY":l[1]=h[0];break;case "matrix":l=h}m.push(l.concat());l=f.concat()});for(k=m[0];1<m.length;)m.shift(),k=q.util.multiplyTransformMatrices(k,m[0]);return k}}();q.parseSVGDocument=function(){var a=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/,c=/^\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)+)\s*,?\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)+)\s*,?\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)+)\s*,?\s*((?:[-+]?\d+(?:\.\d+)?(?:e[-+]?\d+)?)+)\s*$/;
return function(e,f,d){if(e){var k=new Date,l=q.util.toArray(e.getElementsByTagName("*"));if(0===l.length){for(var l=e.selectNodes("//*[name(.)!='svg']"),m=[],n=0,t=l.length;n<t;n++)m[n]=l[n];l=m}if((l=l.filter(function(c){var e;if(e=a.test(c.tagName)){a:{for(e=/^(?:pattern|defs)$/;c&&(c=c.parentNode);)if(e.test(c.nodeName)){c=!0;break a}c=!1}e=!c}return e}))&&(!l||l.length)){var m=e.getAttribute("viewBox"),n=e.getAttribute("width"),t=e.getAttribute("height"),p=null,v=null;m&&(m=m.match(c))&&(parseInt(m[1],
10),parseInt(m[2],10),p=parseInt(m[3],10),v=parseInt(m[4],10));var p=n?parseFloat(n):p,v=t?parseFloat(t):v,w={width:p,height:v};q.gradientDefs=q.getGradientDefs(e);q.cssRules=h(e);q.parseElements(l,function(a){q.documentParsingTime=new Date-k;f&&f(a,w)},u(w),d)}}}}();var z={has:function(a,c){c(!1)},get:function(){},set:function(){}};n(q,{parseAttributes:function(f,d){if(f){var h,k={};f.parentNode&&/^g$/i.test(f.parentNode.nodeName)&&(k=q.parseAttributes(f.parentNode,d));var m=d.reduce(function(e,
d){if(h=f.getAttribute(d))d=c(d),h=a(d,h,k),e[d]=h;return e},{}),m=n(m,n(l(f),q.parseStyleAttribute(f)));return e(n(k,m))}},parseElements:function(a,c,e,d){function h(){0===--l&&(k=k.filter(function(a){return null!=a}),f(k),c(k))}for(var k=Array(a.length),l=a.length,m=0,n,p=a.length;m<p;m++){n=a[m];var v=q[t(n.tagName)];if(v&&v.fromElement)try{if(v.async)v.fromElement(n,function(a,c){return function(e){d&&d(c,e);k.splice(a,0,e);h()}}(m,n),e);else{var u=v.fromElement(n,e);d&&d(n,u);k.splice(m,0,u);
h()}}catch(w){q.log(w)}else h()}},parseStyleAttribute:function(e){var f={};e=e.getAttribute("style");var d,h;if(!e)return f;if("string"===typeof e)e.replace(/;$/,"").split(";").forEach(function(e){e=e.split(":");d=c(e[0].trim().toLowerCase());h=a(d,e[1].trim());"font"===d?k(h,f):f[d]=h});else for(var l in e)"undefined"!==typeof e[l]&&(d=c(l.toLowerCase()),h=a(d,e[l]),"font"===d?k(h,f):f[d]=h);return f},parsePointsAttribute:function(a){if(!a)return null;a=a.trim();var c=-1<a.indexOf(",");a=a.split(/\s+/);
var e=[],f;if(c)for(c=0,f=a.length;c<f;c++){var d=a[c].split(",");e.push({x:parseFloat(d[0]),y:parseFloat(d[1])})}else for(c=0,f=a.length;c<f;c+=2)e.push({x:parseFloat(a[c]),y:parseFloat(a[c+1])});return e},getCSSRules:h,loadSVGFromURL:function(a,c,e){function f(d){var h=d.responseXML;!h.documentElement&&q.window.ActiveXObject&&d.responseText&&(h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(d.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));h.documentElement&&q.parseSVGDocument(h.documentElement,
function(e,f){z.set(a,{objects:q.util.array.invoke(e,"toObject"),options:f});c(e,f)},e)}a=a.replace(/^\n\s*/,"").trim();z.has(a,function(e){e?z.get(a,function(a){a=m(a);c(a.objects,a.options)}):new q.util.request(a,{method:"get",onComplete:f})})},loadSVGFromString:function(a,c,e){a=a.trim();var f;if("undefined"!==typeof DOMParser){var d=new DOMParser;d&&d.parseFromString&&(f=d.parseFromString(a,"text/xml"))}else q.window.ActiveXObject&&(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(a.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,
"")));q.parseSVGDocument(f.documentElement,function(a,e){c(a,e)},e)},createSVGFontFacesMarkup:function(a){for(var c="",e=0,f=a.length;e<f;e++)"text"===a[e].type&&a[e].path&&(c+=["@font-face {font-family: ",a[e].fontFamily,"; src: url('",a[e].path,"')}"].join(""));c&&(c=['<style type="text/css"><![CDATA[',c,"]]\x3e</style>"].join(""));return c},createSVGRefElementsMarkup:function(a){var c="";a.backgroundColor&&a.backgroundColor.source&&(c=['<pattern x="0" y="0" id="backgroundColorPattern" width="',
a.backgroundColor.source.width,'" height="',a.backgroundColor.source.height,'" patternUnits="userSpaceOnUse"><image x="0" y="0" width="',a.backgroundColor.source.width,'" height="',a.backgroundColor.source.height,'" xlink:href="',a.backgroundColor.source.src,'"></image></pattern>'].join(""));return c},getGradientDefs:function(a){var c=a.getElementsByTagName("linearGradient");a=a.getElementsByTagName("radialGradient");var e,f,d={};for(f=c.length;f--;)e=c[f],d[e.getAttribute("id")]=e;for(f=a.length;f--;)e=
a[f],d[e.getAttribute("id")]=e;return d}})})("undefined"!==typeof exports?exports:this);
(function(d){function c(a,c){this.x=a;this.y=c}d=d.fabric||(d.fabric={});d.Point?d.warn("fabric.Point is already defined"):(d.Point=c,c.prototype={constructor:c,add:function(a){return new c(this.x+a.x,this.y+a.y)},addEquals:function(a){this.x+=a.x;this.y+=a.y;return this},scalarAdd:function(a){return new c(this.x+a,this.y+a)},scalarAddEquals:function(a){this.x+=a;this.y+=a;return this},subtract:function(a){return new c(this.x-a.x,this.y-a.y)},subtractEquals:function(a){this.x-=a.x;this.y-=a.y;return this},
scalarSubtract:function(a){return new c(this.x-a,this.y-a)},scalarSubtractEquals:function(a){this.x-=a;this.y-=a;return this},multiply:function(a){return new c(this.x*a,this.y*a)},multiplyEquals:function(a){this.x*=a;this.y*=a;return this},divide:function(a){return new c(this.x/a,this.y/a)},divideEquals:function(a){this.x/=a;this.y/=a;return this},eq:function(a){return this.x===a.x&&this.y===a.y},lt:function(a){return this.x<a.x&&this.y<a.y},lte:function(a){return this.x<=a.x&&this.y<=a.y},gt:function(a){return this.x>
a.x&&this.y>a.y},gte:function(a){return this.x>=a.x&&this.y>=a.y},lerp:function(a,e){return new c(this.x+(a.x-this.x)*e,this.y+(a.y-this.y)*e)},distanceFrom:function(a){var c=this.x-a.x;a=this.y-a.y;return Math.sqrt(c*c+a*a)},midPointFrom:function(a){return new c(this.x+(a.x-this.x)/2,this.y+(a.y-this.y)/2)},min:function(a){return new c(Math.min(this.x,a.x),Math.min(this.y,a.y))},max:function(a){return new c(Math.max(this.x,a.x),Math.max(this.y,a.y))},toString:function(){return this.x+","+this.y},
setXY:function(a,c){this.x=a;this.y=c},setFromPoint:function(a){this.x=a.x;this.y=a.y},swap:function(a){var c=this.x,d=this.y;this.x=a.x;this.y=a.y;a.x=c;a.y=d}})})("undefined"!==typeof exports?exports:this);
(function(d){function c(a){this.status=a;this.points=[]}var a=d.fabric||(d.fabric={});a.Intersection?a.warn("fabric.Intersection is already defined"):(a.Intersection=c,a.Intersection.prototype={appendPoint:function(a){this.points.push(a)},appendPoints:function(a){this.points=this.points.concat(a)}},a.Intersection.intersectLineLine=function(e,d,f,h){var l,m=(h.x-f.x)*(e.y-f.y)-(h.y-f.y)*(e.x-f.x);l=(d.x-e.x)*(e.y-f.y)-(d.y-e.y)*(e.x-f.x);f=(h.y-f.y)*(d.x-e.x)-(h.x-f.x)*(d.y-e.y);0!==f?(m/=f,l/=f,0<=
m&&1>=m&&0<=l&&1>=l?(l=new c("Intersection"),l.points.push(new a.Point(e.x+m*(d.x-e.x),e.y+m*(d.y-e.y)))):l=new c):l=0===m||0===l?new c("Coincident"):new c("Parallel");return l},a.Intersection.intersectLinePolygon=function(a,d,f){for(var h=new c,l=f.length,m=0;m<l;m++){var q=c.intersectLineLine(a,d,f[m],f[(m+1)%l]);h.appendPoints(q.points)}0<h.points.length&&(h.status="Intersection");return h},a.Intersection.intersectPolygonPolygon=function(a,d){for(var f=new c,h=a.length,l=0;l<h;l++){var m=c.intersectLinePolygon(a[l],
a[(l+1)%h],d);f.appendPoints(m.points)}0<f.points.length&&(f.status="Intersection");return f},a.Intersection.intersectPolygonRectangle=function(e,d,f){var h=d.min(f),l=d.max(f);f=new a.Point(l.x,h.y);var m=new a.Point(h.x,l.y);d=c.intersectLinePolygon(h,f,e);f=c.intersectLinePolygon(f,l,e);l=c.intersectLinePolygon(l,m,e);e=c.intersectLinePolygon(m,h,e);h=new c;h.appendPoints(d.points);h.appendPoints(f.points);h.appendPoints(l.points);h.appendPoints(e.points);0<h.points.length&&(h.status="Intersection");
return h})})("undefined"!==typeof exports?exports:this);
(function(d){function c(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}function a(a,c,e){0>e&&(e+=1);1<e&&--e;return e<1/6?a+6*(c-a)*e:.5>e?c:e<2/3?a+(c-a)*(2/3-e)*6:a}var e=d.fabric||(d.fabric={});e.Color?e.warn("fabric.Color is already defined."):(e.Color=c,e.Color.prototype={_tryParsingColor:function(a){var e;a in c.colorNameMap&&(a=c.colorNameMap[a]);(e=c.sourceFromHex(a))||(e=c.sourceFromRgb(a));e||(e=c.sourceFromHsl(a));e&&this.setSource(e)},_rgbToHsl:function(a,c,d){a/=255;c/=255;
d/=255;var l,m,q,n=e.util.array.max([a,c,d]);m=e.util.array.min([a,c,d]);q=(n+m)/2;if(n===m)l=m=0;else{var t=n-m;m=.5<q?t/(2-n-m):t/(n+m);switch(n){case a:l=(c-d)/t+(c<d?6:0);break;case c:l=(d-a)/t+2;break;case d:l=(a-c)/t+4}l/=6}return[Math.round(360*l),Math.round(100*m),Math.round(100*q)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+
a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),a=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var a=this.getSource(),c=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),c=a[0].toString(16),c=1===c.length?"0"+c:c,e=a[1].toString(16),e=1===e.length?"0"+e:e,a=a[2].toString(16),a=1===a.length?"0"+a:a;return c.toUpperCase()+e.toUpperCase()+a.toUpperCase()},
getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var c=this.getSource();c[3]=a;this.setSource(c);return this},toGrayscale:function(){var a=this.getSource(),c=parseInt((.3*a[0]+.59*a[1]+.11*a[2]).toFixed(0),10);this.setSource([c,c,c,a[3]]);return this},toBlackWhite:function(a){var c=this.getSource(),e=(.3*c[0]+.59*c[1]+.11*c[2]).toFixed(0),c=c[3],e=Number(e)<Number(a||127)?0:255;this.setSource([e,e,e,c]);return this},overlayWith:function(a){a instanceof c||(a=new c(a));var e=[],
d=this.getAlpha(),l=this.getSource();a=a.getSource();for(var m=0;3>m;m++)e.push(Math.round(.5*l[m]+.5*a[m]));e[3]=d;this.setSource(e);return this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}\%?)\s*,\s*(\d{1,3}\%?)\s*,\s*(\d{1,3}\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,e.Color.reHex=/^#?([0-9a-f]{6}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",
gray:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},e.Color.fromRgb=function(a){return c.fromSource(c.sourceFromRgb(a))},e.Color.sourceFromRgb=function(a){if(a=a.match(c.reRGBa)){var e=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),d=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),l=parseInt(a[3],10)/(/%$/.test(a[3])?
100:1)*(/%$/.test(a[3])?255:1);return[parseInt(e,10),parseInt(d,10),parseInt(l,10),a[4]?parseFloat(a[4]):1]}},e.Color.fromRgba=c.fromRgb,e.Color.fromHsl=function(a){return c.fromSource(c.sourceFromHsl(a))},e.Color.sourceFromHsl=function(e){if(e=e.match(c.reHSLa)){var f=(parseFloat(e[1])%360+360)%360/360,d=parseFloat(e[2])/(/%$/.test(e[2])?100:1),l=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===d)l=d=f=l;else var m=.5>=l?l*(d+1):l+d-l*d,q=2*l-m,l=a(q,m,f+1/3),d=a(q,m,f),f=a(q,m,f-1/3);return[Math.round(255*
l),Math.round(255*d),Math.round(255*f),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=c.fromHsl,e.Color.fromHex=function(a){return c.fromSource(c.sourceFromHex(a))},e.Color.sourceFromHex=function(a){if(a.match(c.reHex)){var e=a.slice(a.indexOf("#")+1),d=3===e.length;a=d?e.charAt(0)+e.charAt(0):e.substring(0,2);var l=d?e.charAt(1)+e.charAt(1):e.substring(2,4),e=d?e.charAt(2)+e.charAt(2):e.substring(4,6);return[parseInt(a,16),parseInt(l,16),parseInt(e,16),1]}},e.Color.fromSource=function(a){var e=new c;
e.setSource(a);return e})})("undefined"!==typeof exports?exports:this);
(function(){function d(a){var c=a.getAttribute("style"),f=a.getAttribute("offset"),d,l,f=parseFloat(f)/(/%$/.test(f)?100:1);if(c){c=c.split(/\s*;\s*/);""===c[c.length-1]&&c.pop();for(var m=c.length;m--;){var q=c[m].split(/\s*:\s*/),n=q[0].trim(),q=q[1].trim();"stop-color"===n?d=q:"stop-opacity"===n&&(l=q)}}d||(d=a.getAttribute("stop-color")||"rgb(0,0,0)");l||(l=a.getAttribute("stop-opacity"));d=(new fabric.Color(d)).toRgb();return{offset:f,color:d,opacity:isNaN(parseFloat(l))?1:parseFloat(l)}}function c(a,
c){for(var f in c){if("string"===typeof c[f]&&/^\d+%$/.test(c[f])){var d=parseFloat(c[f],10);if("x1"===f||"x2"===f||"r2"===f)c[f]=fabric.util.toFixed(a.width*d/100,2);else if("y1"===f||"y2"===f)c[f]=fabric.util.toFixed(a.height*d/100,2)}if("x1"===f||"x2"===f)c[f]-=fabric.util.toFixed(a.width/2,2);else if("y1"===f||"y2"===f)c[f]-=fabric.util.toFixed(a.height/2,2)}}function a(a,c){for(var f in c){if("x1"===f||"x2"===f)c[f]+=fabric.util.toFixed(a.width/2,2);else if("y1"===f||"y2"===f)c[f]+=fabric.util.toFixed(a.height/
2,2);if("x1"===f||"x2"===f||"r2"===f)c[f]=fabric.util.toFixed(c[f]/a.width*100,2)+"%";else if("y1"===f||"y2"===f)c[f]=fabric.util.toFixed(c[f]/a.height*100,2)+"%"}}fabric.Gradient=fabric.util.createClass({initialize:function(a){a||(a={});var c={};this.id=fabric.Object.__uid++;this.type=a.type||"linear";c={x1:a.coords.x1||0,y1:a.coords.y1||0,x2:a.coords.x2||0,y2:a.coords.y2||0};"radial"===this.type&&(c.r1=a.coords.r1||0,c.r2=a.coords.r2||0);this.coords=c;this.gradientUnits=a.gradientUnits||"objectBoundingBox";
this.colorStops=a.colorStops.slice()},addColorStop:function(a){for(var c in a){var f=new fabric.Color(a[c]);this.colorStops.push({offset:c,color:f.toRgb(),opacity:f.getAlpha()})}return this},toObject:function(){return{type:this.type,coords:this.coords,gradientUnits:this.gradientUnits,colorStops:this.colorStops}},toSVG:function(c,d){var f=fabric.util.object.clone(this.coords),h;this.colorStops.sort(function(a,c){return a.offset-c.offset});d&&"userSpaceOnUse"===this.gradientUnits?(f.x1+=c.width/2,f.y1+=
c.height/2,f.x2+=c.width/2,f.y2+=c.height/2):"objectBoundingBox"===this.gradientUnits&&a(c,f);"linear"===this.type?h=["<linearGradient ",'id="SVGID_',this.id,'" gradientUnits="',this.gradientUnits,'" x1="',f.x1,'" y1="',f.y1,'" x2="',f.x2,'" y2="',f.y2,'">']:"radial"===this.type&&(h=["<radialGradient ",'id="SVGID_',this.id,'" gradientUnits="',this.gradientUnits,'" cx="',f.x2,'" cy="',f.y2,'" r="',f.r2,'" fx="',f.x1,'" fy="',f.y1,'">']);for(f=0;f<this.colorStops.length;f++)h.push("<stop ",'offset="',
100*this.colorStops[f].offset+"%",'" style="stop-color:',this.colorStops[f].color,this.colorStops[f].opacity?";stop-opacity: "+this.colorStops[f].opacity:";",'"/>');h.push("linear"===this.type?"</linearGradient>":"</radialGradient>");return h.join("")},toLive:function(a){var c;if(this.type){"linear"===this.type?c=a.createLinearGradient(this.coords.x1,this.coords.y1,this.coords.x2,this.coords.y2):"radial"===this.type&&(c=a.createRadialGradient(this.coords.x1,this.coords.y1,this.coords.r1,this.coords.x2,
this.coords.y2,this.coords.r2));a=0;for(var f=this.colorStops.length;a<f;a++){var d=this.colorStops[a].color,l=this.colorStops[a].opacity,m=this.colorStops[a].offset;"undefined"!==typeof l&&(d=(new fabric.Color(d)).setAlpha(l).toRgba());c.addColorStop(parseFloat(m),d)}return c}}});fabric.util.object.extend(fabric.Gradient,{fromElement:function(a,k){var f=a.getElementsByTagName("stop"),h="linearGradient"===a.nodeName?"linear":"radial",l=a.getAttribute("gradientUnits")||"objectBoundingBox",m=[],q={};
"linear"===h?q={x1:a.getAttribute("x1")||0,y1:a.getAttribute("y1")||0,x2:a.getAttribute("x2")||"100%",y2:a.getAttribute("y2")||0}:"radial"===h&&(q={x1:a.getAttribute("fx")||a.getAttribute("cx")||"50%",y1:a.getAttribute("fy")||a.getAttribute("cy")||"50%",r1:0,x2:a.getAttribute("cx")||"50%",y2:a.getAttribute("cy")||"50%",r2:a.getAttribute("r")||"50%"});for(var n=f.length;n--;)m.push(d(f[n]));c(k,q);return new fabric.Gradient({type:h,coords:q,gradientUnits:l,colorStops:m})},forObject:function(a,d){d||
(d={});c(a,d);return new fabric.Gradient(d)}})})();
fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(d){d||(d={});this.id=fabric.Object.__uid++;if(d.source)if("string"===typeof d.source)if("undefined"!==typeof fabric.util.getFunctionBody(d.source))this.source=new Function(fabric.util.getFunctionBody(d.source));else{var c=this;this.source=fabric.util.createImage();fabric.util.loadImage(d.source,function(a){c.source=a})}else this.source=d.source;d.repeat&&(this.repeat=d.repeat);d.offsetX&&(this.offsetX=
d.offsetX);d.offsetY&&(this.offsetY=d.offsetY)},toObject:function(){var d;"function"===typeof this.source?d=String(this.source):"string"===typeof this.source.src&&(d=this.source.src);return{source:d,repeat:this.repeat,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(d){var c="function"===typeof this.source?this.source():this.source,a=c.width/d.getWidth();d=c.height/d.getHeight();var e="";c.src?e=c.src:c.toDataURL&&(e=c.toDataURL());return'<pattern id="SVGID_'+this.id+'" x="'+this.offsetX+
'" y="'+this.offsetY+'" width="'+a+'" height="'+d+'"><image x="0" y="0" width="'+c.width+'" height="'+c.height+'" xlink:href="'+e+'"></image></pattern>'},toLive:function(d){var c="function"===typeof this.source?this.source():this.source;return d.createPattern(c,this.repeat)}});
(function(d){var c=d.fabric||(d.fabric={});c.Shadow?c.warn("fabric.Shadow is already defined."):(c.Shadow=c.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,initialize:function(a){"string"===typeof a&&(a=this._parseShadow(a));for(var e in a)this[e]=a[e];this.id=c.Object.__uid++},_parseShadow:function(a){a=a.trim();var e=c.Shadow.reOffsetsAndBlur.exec(a)||[];return{color:(a.replace(c.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(e[1],10)||0,offsetY:parseInt(e[2],
10)||0,blur:parseInt(e[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(a){var c="SourceAlpha";!a||a.fill!==this.color&&a.stroke!==this.color||(c="SourceGraphic");return'<filter id="SVGID_'+this.id+'" y="-40%" height="180%"><feGaussianBlur in="'+c+'" stdDeviation="'+(this.blur?this.blur/3:0)+'"></feGaussianBlur><feOffset dx="'+this.offsetX+'" dy="'+this.offsetY+'"></feOffset><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>'},
toObject:function(){return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY}}}),c.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)})("undefined"!==typeof exports?exports:this);
(function(){if(fabric.StaticCanvas)fabric.warn("fabric.StaticCanvas is already defined.");else{var d=fabric.util.object.extend,c=fabric.util.getElementOffset,a=fabric.util.removeFromArray,e=fabric.util.removeListener,k=Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass({initialize:function(a,c){c||(c={});this._initStatic(a,c);fabric.StaticCanvas.activeInstance=this},backgroundColor:"",backgroundImage:"",backgroundImageOpacity:1,backgroundImageStretch:!0,overlayImage:"",
overlayImageLeft:0,overlayImageTop:0,includeDefaultValues:!0,stateful:!0,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,onBeforeScaleRotate:function(){},_initStatic:function(a,c){this._objects=[];this._createLowerCanvas(a);this._initOptions(c);c.overlayImage&&this.setOverlayImage(c.overlayImage,this.renderAll.bind(this));c.backgroundImage&&this.setBackgroundImage(c.backgroundImage,this.renderAll.bind(this));c.backgroundColor&&this.setBackgroundColor(c.backgroundColor,
this.renderAll.bind(this));this.calcOffset()},calcOffset:function(){this._offset=c(this.lowerCanvasEl);return this},setOverlayImage:function(a,c,e){fabric.util.loadImage(a,function(a){this.overlayImage=a;e&&"overlayImageLeft"in e&&(this.overlayImageLeft=e.overlayImageLeft);e&&"overlayImageTop"in e&&(this.overlayImageTop=e.overlayImageTop);c&&c()},this);return this},setBackgroundImage:function(a,c,e){fabric.util.loadImage(a,function(a){this.backgroundImage=a;e&&"backgroundImageOpacity"in e&&(this.backgroundImageOpacity=
e.backgroundImageOpacity);e&&"backgroundImageStretch"in e&&(this.backgroundImageStretch=e.backgroundImageStretch);c&&c()},this);return this},setBackgroundColor:function(a,c){if(a.source){var e=this;fabric.util.loadImage(a.source,function(d){e.backgroundColor=new fabric.Pattern({source:d,repeat:a.repeat});c&&c()})}else this.backgroundColor=a,c&&c();return this},_createCanvasElement:function(){var a=fabric.document.createElement("canvas");a.style||(a.style={});if(!a)throw k;this._initCanvasElement(a);
return a},_initCanvasElement:function(a){fabric.util.createCanvasElement(a);if("undefined"===typeof a.getContext)throw k;},_initOptions:function(a){for(var c in a)this[c]=a[c];this.width=parseInt(this.lowerCanvasEl.width,10)||0;this.height=parseInt(this.lowerCanvasEl.height,10)||0;this.lowerCanvasEl.style&&(this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px")},_createLowerCanvas:function(a){this.lowerCanvasEl=fabric.util.getById(a)||this._createCanvasElement();
this._initCanvasElement(this.lowerCanvasEl);fabric.util.addClass(this.lowerCanvasEl,"lower-canvas");this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl);this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(a){return this._setDimension("width",a)},setHeight:function(a){return this._setDimension("height",a)},setDimensions:function(a){for(var c in a)this._setDimension(c,a[c]);return this},
_setDimension:function(a,c){this.lowerCanvasEl[a]=c;this.lowerCanvasEl.style[a]=c+"px";this.upperCanvasEl&&(this.upperCanvasEl[a]=c,this.upperCanvasEl.style[a]=c+"px");this.cacheCanvasEl&&(this.cacheCanvasEl[a]=c);this.wrapperEl&&(this.wrapperEl.style[a]=c+"px");this[a]=c;this.calcOffset();this.renderAll();return this},getElement:function(){return this.lowerCanvasEl},getActiveObject:function(){return null},getActiveGroup:function(){return null},_draw:function(a,c){if(c)if(this.controlsAboveOverlay){var e=
c.hasBorders,d=c.hasControls;c.hasBorders=c.hasControls=!1;c.render(a);c.hasBorders=e;c.hasControls=d}else c.render(a)},_onObjectAdded:function(a){this.stateful&&a.setupState();a.setCoords();a.canvas=this;this.fire("object:added",{target:a});a.fire("added")},_onObjectRemoved:function(a){this.fire("object:removed",{target:a});a.fire("removed")},getObjects:function(){return this._objects},clearContext:function(a){a.clearRect(0,0,this.width,this.height);return this},getContext:function(){return this.contextContainer},
clear:function(){this._objects.length=0;this.discardActiveGroup&&this.discardActiveGroup();this.discardActiveObject&&this.discardActiveObject();this.clearContext(this.contextContainer);this.contextTop&&this.clearContext(this.contextTop);this.fire("canvas:cleared");this.renderAll();return this},renderAll:function(a){var c=this[!0===a&&this.interactive?"contextTop":"contextContainer"];this.contextTop&&this.selection&&!this._groupSelector&&this.clearContext(this.contextTop);a||this.clearContext(c);this.fire("before:render");
this.clipTo&&fabric.util.clipContext(this,c);this.backgroundColor&&(c.fillStyle=this.backgroundColor.toLive?this.backgroundColor.toLive(c):this.backgroundColor,c.fillRect(this.backgroundColor.offsetX||0,this.backgroundColor.offsetY||0,this.width,this.height));"object"===typeof this.backgroundImage&&this._drawBackroundImage(c);var e=this.getActiveGroup();a=0;for(var d=this._objects.length;a<d;++a)(!e||e&&this._objects[a]&&!e.contains(this._objects[a]))&&this._draw(c,this._objects[a]);if(e){var k=[];
this.forEachObject(function(a){e.contains(a)&&k.push(a)});e._set("objects",k);this._draw(c,e)}this.clipTo&&c.restore();this.overlayImage&&c.drawImage(this.overlayImage,this.overlayImageLeft,this.overlayImageTop);this.controlsAboveOverlay&&this.interactive&&this.drawControls(c);this.fire("after:render");return this},_drawBackroundImage:function(a){a.save();a.globalAlpha=this.backgroundImageOpacity;this.backgroundImageStretch?a.drawImage(this.backgroundImage,0,0,this.width,this.height):a.drawImage(this.backgroundImage,
0,0);a.restore()},renderTop:function(){var a=this.contextTop||this.contextContainer;this.clearContext(a);this.selection&&this._groupSelector&&this._drawSelection();var c=this.getActiveGroup();c&&c.render(a);this.overlayImage&&a.drawImage(this.overlayImage,this.overlayImageLeft,this.overlayImageTop);this.fire("after:render");return this},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(a){a.set("left",this.getCenter().left);this.renderAll();return this},
centerObjectV:function(a){a.set("top",this.getCenter().top);this.renderAll();return this},centerObject:function(a){return this.centerObjectH(a).centerObjectV(a)},toDatalessJSON:function(a){return this.toDatalessObject(a)},toObject:function(a){return this._toObjectMethod("toObject",a)},toDatalessObject:function(a){return this._toObjectMethod("toDatalessObject",a)},_toObjectMethod:function(a,c){var e=this.getActiveGroup();e&&this.discardActiveGroup();var d={objects:this.getObjects().map(function(e){var d;
this.includeDefaultValues||(d=e.includeDefaultValues,e.includeDefaultValues=!1);var k=e[a](c);this.includeDefaultValues||(e.includeDefaultValues=d);return k},this),background:this.backgroundColor&&this.backgroundColor.toObject?this.backgroundColor.toObject():this.backgroundColor};this.backgroundImage&&(d.backgroundImage=this.backgroundImage.src,d.backgroundImageOpacity=this.backgroundImageOpacity,d.backgroundImageStretch=this.backgroundImageStretch);this.overlayImage&&(d.overlayImage=this.overlayImage.src,
d.overlayImageLeft=this.overlayImageLeft,d.overlayImageTop=this.overlayImageTop);fabric.util.populateWithProperties(this,d,c);e&&(this.setActiveGroup(new fabric.Group(e.getObjects())),e.forEachObject(function(a){a.set("active",!0)}));return d},toSVG:function(a){a||(a={});var c=[];a.suppressPreamble||c.push('<?xml version="1.0" encoding="',a.encoding||"UTF-8",'" standalone="no" ?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n');c.push("<svg ",
'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',a.viewBox?a.viewBox.width:this.width,'" ','height="',a.viewBox?a.viewBox.height:this.height,'" ',this.backgroundColor&&!this.backgroundColor.source?'style="background-color: '+this.backgroundColor+'" ':null,a.viewBox?'viewBox="'+a.viewBox.x+" "+a.viewBox.y+" "+a.viewBox.width+" "+a.viewBox.height+'" ':null,'xml:space="preserve">',"<desc>Created with Fabric.js ",fabric.version,"</desc>","<defs>",
fabric.createSVGFontFacesMarkup(this.getObjects()),fabric.createSVGRefElementsMarkup(this),"</defs>");this.backgroundColor&&this.backgroundColor.source&&c.push('<rect x="0" y="0" ','width="',"repeat-y"===this.backgroundColor.repeat||"no-repeat"===this.backgroundColor.repeat?this.backgroundColor.source.width:this.width,'" height="',"repeat-x"===this.backgroundColor.repeat||"no-repeat"===this.backgroundColor.repeat?this.backgroundColor.source.height:this.height,'" fill="url(#backgroundColorPattern)"',
"></rect>");this.backgroundImage&&c.push('<image x="0" y="0" ','width="',this.backgroundImageStretch?this.width:this.backgroundImage.width,'" height="',this.backgroundImageStretch?this.height:this.backgroundImage.height,'" preserveAspectRatio="',this.backgroundImageStretch?"none":"defer",'" xlink:href="',this.backgroundImage.src,'" style="opacity:',this.backgroundImageOpacity,'"></image>');this.overlayImage&&c.push('<image x="',this.overlayImageLeft,'" y="',this.overlayImageTop,'" width="',this.overlayImage.width,
'" height="',this.overlayImage.height,'" xlink:href="',this.overlayImage.src,'"></image>');(a=this.getActiveGroup())&&this.discardActiveGroup();for(var e=0,d=this.getObjects(),k=d.length;e<k;e++)c.push(d[e].toSVG());a&&(this.setActiveGroup(new fabric.Group(a.getObjects())),a.forEachObject(function(a){a.set("active",!0)}));c.push("</svg>");return c.join("")},remove:function(a){this.getActiveObject()===a&&(this.fire("before:selection:cleared",{target:a}),this.discardActiveObject(),this.fire("selection:cleared"));
return fabric.Collection.remove.call(this,a)},sendToBack:function(c){a(this._objects,c);this._objects.unshift(c);return this.renderAll&&this.renderAll()},bringToFront:function(c){a(this._objects,c);this._objects.push(c);return this.renderAll&&this.renderAll()},sendBackwards:function(c,e){var d=this._objects.indexOf(c);if(0!==d){var k;if(e)for(k=d,--d;0<=d;--d){if(c.intersectsWithObject(this._objects[d])||c.isContainedWithinObject(this._objects[d])||this._objects[d].isContainedWithinObject(c)){k=d;
break}}else k=d-1;a(this._objects,c);this._objects.splice(k,0,c);this.renderAll&&this.renderAll()}return this},bringForward:function(c,e){var d=this._objects.indexOf(c);if(d!==this._objects.length-1){var k;if(e)for(k=d,d+=1;d<this._objects.length;++d){if(c.intersectsWithObject(this._objects[d])||c.isContainedWithinObject(this._objects[d])||this._objects[d].isContainedWithinObject(c)){k=d;break}}else k=d+1;a(this._objects,c);this._objects.splice(k,0,c);this.renderAll&&this.renderAll()}return this},
moveTo:function(c,e){a(this._objects,c);this._objects.splice(e,0,c);return this.renderAll&&this.renderAll()},dispose:function(){this.clear();if(!this.interactive)return this;fabric.isTouchSupported?(e(this.upperCanvasEl,"touchstart",this._onMouseDown),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!==typeof Event&&"remove"in Event&&Event.remove(this.upperCanvasEl,"gesture",this._onGesture)):(e(this.upperCanvasEl,"mousedown",this._onMouseDown),e(this.upperCanvasEl,"mousemove",this._onMouseMove),
e(fabric.window,"resize",this._onResize));return this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}});d(fabric.StaticCanvas.prototype,fabric.Observable);d(fabric.StaticCanvas.prototype,fabric.Collection);d(fabric.StaticCanvas.prototype,fabric.DataURLExporter);d(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',toGrayscale:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);var e=a.data,
d=a.width,k=a.height,n,t,u,v;for(u=0;u<d;u++)for(v=0;v<k;v++)n=4*u*k+4*v,t=(e[n]+e[n+1]+e[n+2])/3,e[n]=t,e[n+1]=t,e[n+2]=t;c.putImageData(a,0,0)},supports:function(a){var c=fabric.util.createCanvasElement();if(!c||!c.getContext)return null;var e=c.getContext("2d");if(!e)return null;switch(a){case "getImageData":return"undefined"!==typeof e.getImageData;case "setLineDash":return"undefined"!==typeof e.setLineDash;case "toDataURL":return"undefined"!==typeof c.toDataURL;case "toDataURLWithQuality":try{return c.toDataURL("image/jpeg",
0),!0}catch(d){}return!1;default:return null}}});fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}})();
fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",setShadow:function(d){this.shadow=new fabric.Shadow(d);return this},_setBrushStyles:function(){var d=this.canvas.contextTop;d.strokeStyle=this.color;d.lineWidth=this.width;d.lineCap=this.strokeLineCap;d.lineJoin=this.strokeLineJoin},_setShadow:function(){if(this.shadow){var d=this.canvas.contextTop;d.shadowColor=this.shadow.color;d.shadowBlur=this.shadow.blur;d.shadowOffsetX=
this.shadow.offsetX;d.shadowOffsetY=this.shadow.offsetY}},_resetShadow:function(){var d=this.canvas.contextTop;d.shadowColor="";d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0}});
(function(){var d=fabric.util.array.min,c=fabric.util.array.max;fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(a){this.canvas=a;this._points=[]},onMouseDown:function(a){this._prepareForDrawing(a);this._captureDrawingPath(a);this._render()},onMouseMove:function(a){this._captureDrawingPath(a);this.canvas.clearContext(this.canvas.contextTop);this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(a){a=new fabric.Point(a.x,a.y);this._reset();
this._addPoint(a);this.canvas.contextTop.moveTo(a.x,a.y)},_addPoint:function(a){this._points.push(a)},_reset:function(){this._points.length=0;this._setBrushStyles();this._setShadow()},_captureDrawingPath:function(a){a=new fabric.Point(a.x,a.y);this._addPoint(a)},_render:function(){var a=this.canvas.contextTop;a.beginPath();var c=this._points[0],d=this._points[1];2===this._points.length&&c.x===d.x&&c.y===d.y&&(c.x-=.5,d.x+=.5);a.moveTo(c.x,c.y);for(var f=1,h=this._points.length;f<h;f++)d=c.midPointFrom(d),
a.quadraticCurveTo(c.x,c.y,d.x,d.y),c=this._points[f],d=this._points[f+1];a.lineTo(c.x,c.y);a.stroke()},_getSVGPathData:function(){this.box=this.getPathBoundingBox(this._points);return this.convertPointsToSVGPath(this._points,this.box.minx,this.box.maxx,this.box.miny,this.box.maxy)},getPathBoundingBox:function(a){for(var e=[],k=[],f=a[0],h=a[1],l=f,m=1,q=a.length;m<q;m++){var n=f.midPointFrom(h);e.push(l.x);e.push(n.x);k.push(l.y);k.push(n.y);f=a[m];h=a[m+1];l=n}e.push(f.x);k.push(f.y);return{minx:d(e),
miny:d(k),maxx:c(e),maxy:c(k)}},convertPointsToSVGPath:function(a,c,d,f){d=[];var h=new fabric.Point(a[0].x-c,a[0].y-f),l=new fabric.Point(a[1].x-c,a[1].y-f);d.push("M ",a[0].x-c," ",a[0].y-f," ");for(var m=1,q=a.length;m<q;m++){var n=h.midPointFrom(l);d.push("Q ",h.x," ",h.y," ",n.x," ",n.y," ");h=new fabric.Point(a[m].x-c,a[m].y-f);m+1<a.length&&(l=new fabric.Point(a[m+1].x-c,a[m+1].y-f))}d.push("L ",h.x," ",h.y," ");return d},createPath:function(a){a=new fabric.Path(a);a.fill=null;a.stroke=this.color;
a.strokeWidth=this.width;a.strokeLineCap=this.strokeLineCap;a.strokeLineJoin=this.strokeLineJoin;this.shadow&&(this.shadow.affectStroke=!0,a.setShadow(this.shadow));return a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var a=this._getSVGPathData().join("");if("M 0 0 Q 0 0 0 0 L 0 0"===a)this.canvas.renderAll();else{var c=this.box.minx+(this.box.maxx-this.box.minx)/2,d=this.box.miny+(this.box.maxy-this.box.miny)/2;this.canvas.contextTop.arc(c,d,3,0,2*Math.PI,!1);a=this.createPath(a);
a.set({left:c,top:d});this.canvas.add(a);a.setCoords();this.canvas.clearContext(this.canvas.contextTop);this._resetShadow();this.canvas.renderAll();this.canvas.fire("path:created",{path:a})}}})})();
fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(d){this.canvas=d;this.points=[]},drawDot:function(d){d=this.addPoint(d);var c=this.canvas.contextTop;c.fillStyle=d.fill;c.beginPath();c.arc(d.x,d.y,d.radius,0,2*Math.PI,!1);c.closePath();c.fill()},onMouseDown:function(d){this.points.length=0;this.canvas.clearContext(this.canvas.contextTop);this._setShadow();this.drawDot(d)},onMouseMove:function(d){this.drawDot(d)},onMouseUp:function(){var d=this.canvas.renderOnAddRemove;
this.canvas.renderOnAddRemove=!1;for(var c=[],a=0,e=this.points.length;a<e;a++){var k=this.points[a],k=new fabric.Circle({radius:k.radius,left:k.x,top:k.y,fill:k.fill});this.shadow&&k.setShadow(this.shadow);c.push(k)}c=new fabric.Group(c);this.canvas.add(c);this.canvas.fire("path:created",{path:c});this.canvas.clearContext(this.canvas.contextTop);this._resetShadow();this.canvas.renderOnAddRemove=d;this.canvas.renderAll()},addPoint:function(d){d=new fabric.Point(d.x,d.y);var c=fabric.util.getRandomInt(Math.max(0,
this.width-20),this.width+20)/2,a=(new fabric.Color(this.color)).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();d.radius=c;d.fill=a;this.points.push(d);return d}});
fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,initialize:function(d){this.canvas=d;this.sprayChunks=[]},onMouseDown:function(d){this.sprayChunks.length=0;this.canvas.clearContext(this.canvas.contextTop);this._setShadow();this.addSprayChunk(d);this.render()},onMouseMove:function(d){this.addSprayChunk(d);this.render()},onMouseUp:function(){var d=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var c=[],
a=0,e=this.sprayChunks.length;a<e;a++)for(var k=this.sprayChunks[a],f=0,h=k.length;f<h;f++){var l=new fabric.Rect({width:k[f].width,height:k[f].width,left:k[f].x+1,top:k[f].y+1,fill:this.color});this.shadow&&l.setShadow(this.shadow);c.push(l)}c=new fabric.Group(c);this.canvas.add(c);this.canvas.fire("path:created",{path:c});this.canvas.clearContext(this.canvas.contextTop);this._resetShadow();this.canvas.renderOnAddRemove=d;this.canvas.renderAll()},render:function(){var d=this.canvas.contextTop;d.fillStyle=
this.color;d.save();for(var c=0,a=this.sprayChunkPoints.length;c<a;c++){var e=this.sprayChunkPoints[c];"undefined"!==typeof e.opacity&&(d.globalAlpha=e.opacity);d.fillRect(e.x,e.y,e.width,e.width)}d.restore()},addSprayChunk:function(d){this.sprayChunkPoints=[];for(var c,a,e,k=this.width/2,f=0;f<this.density;f++)c=fabric.util.getRandomInt(d.x-k,d.x+k),a=fabric.util.getRandomInt(d.y-k,d.y+k),e=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+
this.dotWidthVariance):this.dotWidth,c={x:c,y:a,width:e},this.randomOpacity&&(c.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(c);this.sprayChunks.push(this.sprayChunkPoints)}});
fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var d=fabric.document.createElement("canvas"),c=d.getContext("2d");d.width=d.height=25;c.fillStyle=this.color;c.beginPath();c.arc(10,10,10,0,2*Math.PI,!1);c.closePath();c.fill();return d},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles");
this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(d){d=this.callSuper("createPath",d);d.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction()});return d}});
(function(){var d=fabric.util.getPointer,c=fabric.util.degreesToRadians,a=fabric.util.radiansToDegrees,e=Math.atan2,k=Math.abs,f=Math.min,h=Math.max;fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(a,c){c||(c={});this._initStatic(a,c);this._initInteractive();this._createCacheCanvas();fabric.Canvas.activeInstance=this},uniScaleTransform:!1,centerTransform:!1,interactive:!0,selection:!0,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",
selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,_initInteractive:function(){this._groupSelector=this._currentTransform=null;this._initWrapperElement();this._createUpperCanvas();this._initEvents();this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this);this.calcOffset()},_resetCurrentTransform:function(a){var c=
this._currentTransform;c.target.set("scaleX",c.original.scaleX);c.target.set("scaleY",c.original.scaleY);c.target.set("left",c.original.left);c.target.set("top",c.original.top);a.altKey||this.centerTransform||c.target.centerTransform?("center"!==c.originX&&(c.mouseXSign="right"===c.originX?-1:1),"center"!==c.originY&&(c.mouseYSign="bottom"===c.originY?-1:1),c.originX="center",c.originY="center"):(c.originX=c.original.originX,c.originY=c.original.originY)},containsPoint:function(a,c){var e=this.getPointer(a),
e=this._normalizePointer(c,e);return c.containsPoint(e)||c._findTargetCorner(a,this._offset)},_normalizePointer:function(a,c){var e=this.getActiveGroup(),d=c.x,f=c.y;e&&"group"!==a.type&&e.contains(a)&&(d-=e.left,f-=e.top);return{x:d,y:f}},isTargetTransparent:function(a,c,e){var d=this.contextCache,f=a.hasBorders,h=a.transparentCorners;a.hasBorders=a.transparentCorners=!1;this._draw(d,a);a.hasBorders=f;a.transparentCorners=h;0<this.targetFindTolerance&&(c=c>this.targetFindTolerance?c-this.targetFindTolerance:
0,e=e>this.targetFindTolerance?e-this.targetFindTolerance:0);a=!0;c=d.getImageData(c,e,2*this.targetFindTolerance||1,2*this.targetFindTolerance||1);e=3;for(f=c.data.length;e<f&&(a=0>=c.data[e],!1!==a);e+=4);this.clearContext(d);return a},_shouldClearSelection:function(a,c){var e=this.getActiveGroup();return!c||c&&e&&!e.contains(c)&&e!==c&&!a.shiftKey||c&&!c.selectable},_setupCurrentTransform:function(a,e){if(e){var f="drag",h,k=d(a,e.canvas.upperCanvasEl);(h=e._findTargetCorner(a,this._offset))&&
(f="ml"===h||"mr"===h?"scaleX":"mt"===h||"mb"===h?"scaleY":"mtr"===h?"rotate":"scale");var l=e.originX,p=e.originY;if("ml"===h||"tl"===h||"bl"===h)l="right";else if("mr"===h||"tr"===h||"br"===h)l="left";if("tl"===h||"mt"===h||"tr"===h)p="bottom";else if("bl"===h||"mb"===h||"br"===h)p="top";this._currentTransform={target:e,action:f,scaleX:e.scaleX,scaleY:e.scaleY,offsetX:k.x-e.left,offsetY:k.y-e.top,originX:l,originY:p,ex:k.x,ey:k.y,left:e.left,top:e.top,theta:c(e.angle),width:e.width*e.scaleX,mouseXSign:1,
mouseYSign:1};this._currentTransform.original={left:e.left,top:e.top,scaleX:e.scaleX,scaleY:e.scaleY,originX:l,originY:p};this._resetCurrentTransform(a)}},_shouldHandleGroupLogic:function(a,c){var e=this.getActiveObject();return a.shiftKey&&(this.getActiveGroup()||e&&e!==c)&&this.selection},_handleGroupLogic:function(a,c){if(c===this.getActiveGroup()&&(c=this.findTarget(a,!0),!c||c.isType("group")))return;var e=this.getActiveGroup();e?(e.contains(c)?(e.removeWithUpdate(c),this._resetObjectTransform(e),
c.set("active",!1),1===e.size()&&this.discardActiveGroup()):(e.addWithUpdate(c),this._resetObjectTransform(e)),this.fire("selection:created",{target:e,e:a}),e.set("active",!0)):(this._activeObject&&c!==this._activeObject&&(e=this.getObjects(),e=e.indexOf(this._activeObject)<e.indexOf(c),e=new fabric.Group(e?[c,this._activeObject]:[this._activeObject,c]),this.setActiveGroup(e),this._activeObject=null,e=this.getActiveGroup(),this.fire("selection:created",{target:e,e:a})),c.set("active",!0));e&&e.saveCoords()},
_translateObject:function(a,c){var e=this._currentTransform.target;e.get("lockMovementX")||e.set("left",a-this._currentTransform.offsetX);e.get("lockMovementY")||e.set("top",c-this._currentTransform.offsetY)},_scaleObject:function(a,c,e){var d=this._currentTransform,f=this._offset,h=d.target,l=h.get("lockScalingX"),w=h.get("lockScalingY");if(!l||!w){var x=h.translateToOriginPoint(h.getCenterPoint(),d.originX,d.originY);c=h.toLocalPoint(new fabric.Point(a-f.left,c-f.top),d.originX,d.originY);"right"===
d.originX?c.x*=-1:"center"===d.originX&&(c.x=2*c.x*d.mouseXSign,0>c.x&&(d.mouseXSign=-d.mouseXSign));"bottom"===d.originY?c.y*=-1:"center"===d.originY&&(c.y=2*c.y*d.mouseYSign,0>c.y&&(d.mouseYSign=-d.mouseYSign));k(c.x)>h.padding?c.x=0>c.x?c.x+h.padding:c.x-h.padding:c.x=0;k(c.y)>h.padding?c.y=0>c.y?c.y+h.padding:c.y-h.padding:c.y=0;a=h.scaleX;f=h.scaleY;"equally"!==e||l||w?e?"x"!==e||h.get("lockUniScaling")?"y"!==e||h.get("lockUniScaling")||(f=c.y/(h.height+h.strokeWidth),w||h.set("scaleY",f)):(a=
c.x/(h.width+h.strokeWidth),l||h.set("scaleX",a)):(a=c.x/(h.width+h.strokeWidth),f=c.y/(h.height+h.strokeWidth),l||h.set("scaleX",a),w||h.set("scaleY",f)):(e=c.y+c.x,l=(h.height+h.strokeWidth)*d.original.scaleY+(h.width+h.strokeWidth)*d.original.scaleX,a=d.original.scaleX*e/l,f=d.original.scaleY*e/l,h.set("scaleX",a),h.set("scaleY",f));0>a&&("left"===d.originX?d.originX="right":"right"===d.originX&&(d.originX="left"));0>f&&("top"===d.originY?d.originY="bottom":"bottom"===d.originY&&(d.originY="top"));
h.setPositionByOrigin(x,d.originX,d.originY)}},_rotateObject:function(c,d){var f=this._currentTransform,h=this._offset;if(!f.target.get("lockRotation")){var k=e(f.ey-f.top-h.top,f.ex-f.left-h.left),h=e(d-f.top-h.top,c-f.left-h.left),k=a(h-k+f.theta);0>k&&(k=360+k);f.target.angle=k}},_setCursor:function(a){this.upperCanvasEl.style.cursor=a},_resetObjectTransform:function(a){a.scaleX=1;a.scaleY=1;a.setAngle(0)},_drawSelection:function(){var a=this.contextTop,c=this._groupSelector,e=c.left,d=c.top,f=
k(e),h=k(d);a.fillStyle=this.selectionColor;a.fillRect(c.ex-(0<e?0:-e),c.ey-(0<d?0:-d),f,h);a.lineWidth=this.selectionLineWidth;a.strokeStyle=this.selectionBorderColor;1<this.selectionDashArray.length?(e=c.ex+.5-(0<e?0:f),c=c.ey+.5-(0<d?0:h),a.beginPath(),fabric.util.drawDashedLine(a,e,c,e+f,c,this.selectionDashArray),fabric.util.drawDashedLine(a,e,c+h-1,e+f,c+h-1,this.selectionDashArray),fabric.util.drawDashedLine(a,e,c,e,c+h,this.selectionDashArray),fabric.util.drawDashedLine(a,e+f-1,c,e+f-1,c+
h,this.selectionDashArray),a.closePath(),a.stroke()):a.strokeRect(c.ex+.5-(0<e?0:f),c.ey+.5-(0<d?0:h),f,h)},_findSelectedObjects:function(a){for(var c=[],e=this._groupSelector.ex,d=this._groupSelector.ey,k=e+this._groupSelector.left,l=d+this._groupSelector.top,p=new fabric.Point(f(e,k),f(d,l)),w=new fabric.Point(h(e,k),h(d,l)),d=e===k&&d===l,k=this._objects.length;k--&&!((e=this._objects[k])&&(e.intersectsWithRect(p,w)||e.isContainedWithinRect(p,w)||e.containsPoint(p)||e.containsPoint(w))&&this.selection&&
e.selectable&&(e.set("active",!0),c.push(e),d)););1===c.length?this.setActiveObject(c[0],a):1<c.length&&(c=new fabric.Group(c.reverse()),this.setActiveGroup(c),c.saveCoords(),this.fire("selection:created",{target:c}),this.renderAll())},findTarget:function(a,c){if(!this.skipTargetFind){var e,d=this.getPointer(a);if(this.controlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay.visible&&this.containsPoint(a,this.lastRenderedObjectWithControlsAboveOverlay)&&
this.lastRenderedObjectWithControlsAboveOverlay._findTargetCorner(a,this._offset))return e=this.lastRenderedObjectWithControlsAboveOverlay;var f=this.getActiveGroup();if(f&&!c&&this.containsPoint(a,f))return f;f=[];for(d=this._objects.length;d--;)if(this._objects[d]&&this._objects[d].visible&&this._objects[d].selectable&&this.containsPoint(a,this._objects[d]))if(this.perPixelTargetFind||this._objects[d].perPixelTargetFind)f[f.length]=this._objects[d];else{this.relatedTarget=e=this._objects[d];break}for(var h=
0,k=f.length;h<k;h++)if(d=this.getPointer(a),!this.isTargetTransparent(f[h],d.x,d.y)){this.relatedTarget=e=f[h];break}return e}},getPointer:function(a){a=d(a,this.upperCanvasEl);return{x:a.x-this._offset.left,y:a.y-this._offset.top}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement();fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+a);this.wrapperEl.appendChild(this.upperCanvasEl);this._copyCanvasStyle(this.lowerCanvasEl,
this.upperCanvasEl);this._applyCanvasStyle(this.upperCanvasEl);this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement();this.cacheCanvasEl.setAttribute("width",this.width);this.cacheCanvasEl.setAttribute("height",this.height);this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass});fabric.util.setStyle(this.wrapperEl,
{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"});fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var c=this.getWidth()||a.width,e=this.getHeight()||a.height;fabric.util.setStyle(a,{position:"absolute",width:c+"px",height:e+"px",left:0,top:0});a.width=c;a.height=e;fabric.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,c){c.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},
setActiveObject:function(a,c){this._activeObject&&this._activeObject.set("active",!1);this._activeObject=a;a.set("active",!0);this.renderAll();this.fire("object:selected",{target:a,e:c});a.fire("selected",{e:c});return this},getActiveObject:function(){return this._activeObject},discardActiveObject:function(){this._activeObject&&this._activeObject.set("active",!1);this._activeObject=null;return this},setActiveGroup:function(a){if(this._activeGroup=a)a.canvas=this,a.set("active",!0);return this},getActiveGroup:function(){return this._activeGroup},
discardActiveGroup:function(){var a=this.getActiveGroup();a&&a.destroy();return this.setActiveGroup(null)},deactivateAll:function(){for(var a=this.getObjects(),c=0,e=a.length;c<e;c++)a[c].set("active",!1);this.discardActiveGroup();this.discardActiveObject();return this},deactivateAllWithDispatch:function(){var a=this.getActiveGroup()||this.getActiveObject();a&&this.fire("before:selection:cleared",{target:a});this.deactivateAll();a&&this.fire("selection:cleared");return this},drawControls:function(a){var c=
this.getActiveGroup();if(c)a.save(),fabric.Group.prototype.transform.call(c,a),c.drawBorders(a).drawControls(a),a.restore();else for(var c=0,e=this._objects.length;c<e;++c)this._objects[c]&&this._objects[c].active&&(a.save(),fabric.Object.prototype.transform.call(this._objects[c],a),this._objects[c].drawBorders(a).drawControls(a),a.restore(),this.lastRenderedObjectWithControlsAboveOverlay=this._objects[c])}});for(var l in fabric.StaticCanvas)"prototype"!==l&&(fabric.Canvas[l]=fabric.StaticCanvas[l]);
fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){});fabric.Element=fabric.Canvas})();
(function(){var d="n-resize ne-resize e-resize se-resize s-resize sw-resize w-resize nw-resize".split(" "),c={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},a=fabric.util.addListener,e=fabric.util.removeListener,k=fabric.util.getPointer;fabric.util.object.extend(fabric.Canvas.prototype,{_initEvents:function(){var c=this;this._onMouseDown=this._onMouseDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this._onMouseUp=this._onMouseUp.bind(this);this._onResize=this._onResize.bind(this);this._onGesture=
function(a,e){c.__onTransformGesture(a,e)};a(fabric.window,"resize",this._onResize);fabric.isTouchSupported?(a(this.upperCanvasEl,"touchstart",this._onMouseDown),a(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!==typeof Event&&"add"in Event&&Event.add(this.upperCanvasEl,"gesture",this._onGesture)):(a(this.upperCanvasEl,"mousedown",this._onMouseDown),a(this.upperCanvasEl,"mousemove",this._onMouseMove))},_onMouseDown:function(c){this.__onMouseDown(c);!fabric.isTouchSupported&&a(fabric.document,
"mouseup",this._onMouseUp);fabric.isTouchSupported&&a(fabric.document,"touchend",this._onMouseUp);!fabric.isTouchSupported&&a(fabric.document,"mousemove",this._onMouseMove);fabric.isTouchSupported&&a(fabric.document,"touchmove",this._onMouseMove);!fabric.isTouchSupported&&e(this.upperCanvasEl,"mousemove",this._onMouseMove);fabric.isTouchSupported&&e(this.upperCanvasEl,"touchmove",this._onMouseMove)},_onMouseUp:function(c){this.__onMouseUp(c);!fabric.isTouchSupported&&e(fabric.document,"mouseup",this._onMouseUp);
fabric.isTouchSupported&&e(fabric.document,"touchend",this._onMouseUp);!fabric.isTouchSupported&&e(fabric.document,"mousemove",this._onMouseMove);fabric.isTouchSupported&&e(fabric.document,"touchmove",this._onMouseMove);!fabric.isTouchSupported&&a(this.upperCanvasEl,"mousemove",this._onMouseMove);fabric.isTouchSupported&&a(this.upperCanvasEl,"touchmove",this._onMouseMove)},_onMouseMove:function(a){!this.allowTouchScrolling&&a.preventDefault&&a.preventDefault();this.__onMouseMove(a)},_onResize:function(){this.calcOffset()},
_shouldRender:function(a,c){var e=this.getActiveGroup()||this.getActiveObject();return a&&(a.isMoving||a!==e)||!a&&e||c&&this._previousPointer&&this.selection&&(c.x!==this._previousPointer.x||c.y!==this._previousPointer.y)},__onMouseUp:function(a){var c,e;if(this.isDrawingMode&&this._isCurrentlyDrawing)this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this.fire("mouse:up",{e:a});else{if(this._currentTransform){if(c=this._currentTransform.target,c._scaling&&
(c._scaling=!1),c.setCoords(),this.stateful&&c.hasStateChanged()&&(this.fire("object:modified",{target:c}),c.fire("modified")),this._previousOriginX&&this._previousOriginY){var d=c.translateToOriginPoint(c.getCenterPoint(),this._previousOriginX,this._previousOriginY);c.originX=this._previousOriginX;c.originY=this._previousOriginY;c.left=d.x;c.top=d.y;this._previousOriginY=this._previousOriginX=null}}else e=this.getPointer(a);e=this._shouldRender(c,e);this.selection&&this._groupSelector&&this._findSelectedObjects(a);
if(d=this.getActiveGroup())d.setObjectsCoords(),d.isMoving=!1,this._setCursor(this.defaultCursor);this._currentTransform=this._groupSelector=null;c&&(c.isMoving=!1);e&&this.renderAll();this._setCursorFromEvent(a,c);var k=this;setTimeout(function(){k._setCursorFromEvent(a,c)},50);this.fire("mouse:up",{target:c,e:a});c&&c.fire("mouseup",{e:a})}},_onMouseDownInDrawingMode:function(a){this._isCurrentlyDrawing=!0;this.discardActiveObject().renderAll();this.clipTo&&fabric.util.clipContext(this,this.contextTop);
this.freeDrawingBrush.onMouseDown(this.getPointer(a));this.fire("mouse:down",{e:a})},__onMouseDown:function(a){if(("which"in a?1===a.which:1===a.button)||fabric.isTouchSupported)if(this.isDrawingMode)this._onMouseDownInDrawingMode(a);else if(!this._currentTransform){var c=this.findTarget(a),e=this.getPointer(a),d,k;this._previousPointer=e;k=this._shouldRender(c,e);if(this._shouldClearSelection(a,c))this.selection&&(this._groupSelector={ex:e.x,ey:e.y,top:0,left:0}),this.deactivateAllWithDispatch(),
c&&c.selectable&&this.setActiveObject(c,a);else if(this._shouldHandleGroupLogic(a,c))this._handleGroupLogic(a,c),c=this.getActiveGroup();else{this.stateful&&c.saveState();if(d=c._findTargetCorner(a,this._offset))this.onBeforeScaleRotate(c);c!==this.getActiveGroup()&&c!==this.getActiveObject()&&(this.deactivateAll(),this.setActiveObject(c,a));this._setupCurrentTransform(a,c)}k&&this.renderAll();this.fire("mouse:down",{target:c,e:a});c&&c.fire("mousedown",{e:a});"mtr"===d&&c.centerTransform&&this._setOriginToCenter(c)}},
_setOriginToCenter:function(a){this._previousOriginX=this._currentTransform.target.originX;this._previousOriginY=this._currentTransform.target.originY;var c=a.getCenterPoint();a.originX="center";a.originY="center";a.left=c.x;a.top=c.y;this._currentTransform.left=a.left;this._currentTransform.top=a.top},__onMouseMove:function(a){var c,e;if(this.isDrawingMode)this._isCurrentlyDrawing&&(e=this.getPointer(a),this.freeDrawingBrush.onMouseMove(e)),this.upperCanvasEl.style.cursor=this.freeDrawingCursor,
this.fire("mouse:move",{e:a});else{var d=this._groupSelector;if(d)e=k(a,this.upperCanvasEl),d.left=e.x-this._offset.left-d.ex,d.top=e.y-this._offset.top-d.ey,this.renderTop();else if(this._currentTransform){e=k(a,this.upperCanvasEl);d=e.x;e=e.y;var q=!1,n=this._currentTransform;c=n.target;c.isMoving=!0;"scale"!==n.action&&"scaleX"!==n.action&&"scaleY"!==n.action||(!a.altKey||"center"===n.originX&&"center"===n.originY)&&(a.altKey||"center"!==n.originX||"center"!==n.originY)||(this._resetCurrentTransform(a),
q=!0);"rotate"===n.action?(this._rotateObject(d,e),this.fire("object:rotating",{target:c,e:a}),c.fire("rotating",{e:a})):"scale"===n.action?(!a.shiftKey&&!this.uniScaleTransform||c.get("lockUniScaling")?(q||"scale"!==n.currentAction||this._resetCurrentTransform(a),n.currentAction="scaleEqually",this._scaleObject(d,e,"equally")):(n.currentAction="scale",this._scaleObject(d,e)),this.fire("object:scaling",{target:c,e:a}),c.fire("scaling",{e:a})):"scaleX"===n.action?(this._scaleObject(d,e,"x"),this.fire("object:scaling",
{target:c,e:a}),c.fire("scaling",{e:a})):"scaleY"===n.action?(this._scaleObject(d,e,"y"),this.fire("object:scaling",{target:c,e:a}),c.fire("scaling",{e:a})):(this._translateObject(d,e),this.fire("object:moving",{target:c,e:a}),c.fire("moving",{e:a}),this._setCursor(this.moveCursor));this.renderAll()}else d=this.upperCanvasEl.style,c=this.findTarget(a),!c||c&&!c.selectable?d.cursor=this.defaultCursor:this._setCursorFromEvent(a,c);this.fire("mouse:move",{target:c,e:a});c&&c.fire("mousemove",{e:a})}},
_setCursorFromEvent:function(a,e){var k=this.upperCanvasEl.style;if(e){var m=this.getActiveGroup();if(m=e._findTargetCorner&&(!m||!m.contains(e))&&e._findTargetCorner(a,this._offset))if(m in c){var q=Math.round(e.getAngle()%360/45);0>q&&(q+=8);q+=c[m];k.cursor=d[q%8]}else if("mtr"===m&&e.hasRotatingPoint)k.cursor=this.rotationCursor;else return k.cursor=this.defaultCursor,!1;else k.cursor=e.hoverCursor||this.hoverCursor}else return k.cursor=this.defaultCursor,!1;return!0}})})();
fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(d){d||(d={});var c=d.format||"png",a=d.quality||1,e=d.multiplier||1;d={left:d.left,top:d.top,width:d.width,height:d.height};return 1!==e?this.__toDataURLWithMultiplier(c,a,d,e):this.__toDataURL(c,a,d)},__toDataURL:function(d,c,a){this.renderAll(!0);var e=this.upperCanvasEl||this.lowerCanvasEl;a=this.__getCroppedCanvas(e,a);"jpg"===d&&(d="jpeg");d=fabric.StaticCanvas.supports("toDataURLWithQuality")?(a||e).toDataURL("image/"+
d,c):(a||e).toDataURL("image/"+d);this.contextTop&&this.clearContext(this.contextTop);this.renderAll();return d},__getCroppedCanvas:function(d,c){var a,e;if("left"in c||"top"in c||"width"in c||"height"in c)a=fabric.util.createCanvasElement(),e=a.getContext("2d"),a.width=c.width||this.width,a.height=c.height||this.height,e.drawImage(d,-c.left||0,-c.top||0);return a},__toDataURLWithMultiplier:function(d,c,a,e){var k=this.getWidth(),f=this.getHeight(),h=k*e,l=f*e,m=this.getActiveObject(),q=this.getActiveGroup(),
n=this.contextTop||this.contextContainer;this.setWidth(h).setHeight(l);n.scale(e,e);a.left&&(a.left*=e);a.top&&(a.top*=e);a.width&&(a.width*=e);a.height&&(a.height*=e);q?this._tempRemoveBordersControlsFromGroup(q):m&&this.deactivateAll&&this.deactivateAll();this.width=k;this.height=f;this.renderAll(!0);d=this.__toDataURL(d,c,a);n.scale(1/e,1/e);this.setWidth(k).setHeight(f);q?this._restoreBordersControlsOnGroup(q):m&&this.setActiveObject&&this.setActiveObject(m);this.contextTop&&this.clearContext(this.contextTop);
this.renderAll();return d},toDataURLWithMultiplier:function(d,c,a){return this.toDataURL({format:d,multiplier:c,quality:a})},_tempRemoveBordersControlsFromGroup:function(d){d.origHasControls=d.hasControls;d.origBorderColor=d.borderColor;d.hasControls=!0;d.borderColor="rgba(0,0,0,0)";d.forEachObject(function(c){c.origBorderColor=c.borderColor;c.borderColor="rgba(0,0,0,0)"})},_restoreBordersControlsOnGroup:function(d){d.hideControls=d.origHideControls;d.borderColor=d.origBorderColor;d.forEachObject(function(c){c.borderColor=
c.origBorderColor;delete c.origBorderColor})}});
fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(d,c,a){return this.loadFromJSON(d,c,a)},loadFromJSON:function(d,c,a){if(d){var e="string"===typeof d?JSON.parse(d):d;this.clear();var k=this;this._enlivenObjects(e.objects,function(){k._setBgOverlayImages(e,c)},a);return this}},_setBgOverlayImages:function(d,c){var a=this,e,k,f,h=function(){c&&k&&f&&e&&c()};d.backgroundImage?this.setBackgroundImage(d.backgroundImage,function(){a.backgroundImageOpacity=d.backgroundImageOpacity;
a.backgroundImageStretch=d.backgroundImageStretch;a.renderAll();k=!0;h()}):k=!0;d.overlayImage?this.setOverlayImage(d.overlayImage,function(){a.overlayImageLeft=d.overlayImageLeft||0;a.overlayImageTop=d.overlayImageTop||0;a.renderAll();f=!0;h()}):f=!0;d.background?this.setBackgroundColor(d.background,function(){a.renderAll();e=!0;h()}):e=!0;d.backgroundImage||d.overlayImage||d.background||c&&c()},_enlivenObjects:function(d,c,a){var e=this;0===d.length&&c&&c();var k=this.renderOnAddRemove;this.renderOnAddRemove=
!1;fabric.util.enlivenObjects(d,function(a){a.forEach(function(a,c){e.insertAt(a,c,!0)});e.renderOnAddRemove=k;c&&c()},null,a)},_toDataURL:function(d,c){this.clone(function(a){c(a.toDataURL(d))})},_toDataURLWithMultiplier:function(d,c,a){this.clone(function(e){a(e.toDataURLWithMultiplier(d,c))})},clone:function(d){var c=JSON.stringify(this);this.cloneWithoutData(function(a){a.loadFromJSON(c,function(){d&&d(a)})})},cloneWithoutData:function(d){var c=fabric.document.createElement("canvas");c.width=
this.getWidth();c.height=this.getHeight();var a=new fabric.Canvas(c);a.clipTo=this.clipTo;this.backgroundImage?(a.setBackgroundImage(this.backgroundImage.src,function(){a.renderAll();d&&d(a)}),a.backgroundImageOpacity=this.backgroundImageOpacity,a.backgroundImageStretch=this.backgroundImageStretch):d&&d(a)}});
(function(){var d=fabric.util.degreesToRadians,c=fabric.util.radiansToDegrees;fabric.util.object.extend(fabric.Canvas.prototype,{__onTransformGesture:function(a,c){if(!this.isDrawingMode&&2===a.touches.length&&"gesture"===c.gesture){var d=this.findTarget(a);"undefined"!==typeof d&&(this.onBeforeScaleRotate(d),this._rotateObjectByAngle(c.rotation),this._scaleObjectBy(c.scale));this.fire("touch:gesture",{target:d,e:a,self:c})}},_scaleObjectBy:function(a,c){var d=this._currentTransform,f=d.target,h=
f.get("lockScalingX"),l=f.get("lockScalingY");h&&l||(f._scaling=!0,c?"x"!==c||f.get("lockUniScaling")?"y"!==c||f.get("lockUniScaling")||l||f.set("scaleY",d.scaleY*a):h||f.set("scaleX",d.scaleX*a):(h||f.set("scaleX",d.scaleX*a),l||f.set("scaleY",d.scaleY*a)))},_rotateObjectByAngle:function(a){var e=this._currentTransform;e.target.get("lockRotation")||(e.target.angle=c(d(a)+e.theta))}})})();
(function(d){var c=d.fabric||(d.fabric={});d=c.util.object.extend;var a=c.util.toFixed,e=c.util.string.capitalize,k=c.util.degreesToRadians,f=c.StaticCanvas.supports("setLineDash");c.Object||(c.Object=c.util.createClass({type:"object",originX:"center",originY:"center",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,cornerSize:12,transparentCorners:!0,hoverCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",cornerColor:"rgba(102,153,255,0.5)",centerTransform:!1,
fill:"rgb(0,0,0)",fillRule:"source-over",overlayFill:null,stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,
lockUniScaling:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule overlayFill shadow clipTo visible".split(" "),initialize:function(a){a&&this.setOptions(a)},_initGradient:function(a){!a.fill||!a.fill.colorStops||a.fill instanceof c.Gradient||this.set("fill",new c.Gradient(a.fill))},_initPattern:function(a){!a.fill||!a.fill.source||a.fill instanceof
c.Pattern||this.set("fill",new c.Pattern(a.fill));!a.stroke||!a.stroke.source||a.stroke instanceof c.Pattern||this.set("stroke",new c.Pattern(a.stroke))},_initClipping:function(a){a.clipTo&&"string"===typeof a.clipTo&&(a=c.util.getFunctionBody(a.clipTo),"undefined"!==typeof a&&(this.clipTo=new Function("ctx",a)))},setOptions:function(a){for(var c in a)this.set(c,a[c]);this._initGradient(a);this._initPattern(a);this._initClipping(a)},transform:function(a,c){a.globalAlpha=this.opacity;var e=c?this._getLeftTopCoords():
this.getCenterPoint();a.translate(e.x,e.y);a.rotate(k(this.angle));a.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1))},toObject:function(e){var d=c.Object.NUM_FRACTION_DIGITS,d={type:this.type,originX:this.originX,originY:this.originY,left:a(this.left,d),top:a(this.top,d),width:a(this.width,d),height:a(this.height,d),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,overlayFill:this.overlayFill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,
strokeWidth:a(this.strokeWidth,d),strokeDashArray:this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:a(this.strokeMiterLimit,d),scaleX:a(this.scaleX,d),scaleY:a(this.scaleY,d),angle:a(this.getAngle(),d),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,d),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo)};this.includeDefaultValues||(d=this._removeDefaultValues(d));
c.util.populateWithProperties(this,d,e);return d},toDatalessObject:function(a){return this.toObject(a)},getSvgStyles:function(){var a=this.fill?this.fill.toLive?"url(#SVGID_"+this.fill.id+")":this.fill:"none",c=this.stroke?this.stroke.toLive?"url(#SVGID_"+this.stroke.id+")":this.stroke:"none",e=this.strokeWidth?this.strokeWidth:"0",d=this.strokeDashArray?this.strokeDashArray.join(" "):"";return["stroke: ",c,"; stroke-width: ",e,"; stroke-dasharray: ",d,"; stroke-linecap: ",this.strokeLineCap?this.strokeLineCap:
"butt","; stroke-linejoin: ",this.strokeLineJoin?this.strokeLineJoin:"miter","; stroke-miterlimit: ",this.strokeMiterLimit?this.strokeMiterLimit:"4","; fill: ",a,"; opacity: ","undefined"!==typeof this.opacity?this.opacity:"1",";",this.shadow&&"text"!==this.type?"filter: url(#SVGID_"+this.shadow.id+");":"",this.visible?"":" visibility: hidden;"].join("")},getSvgTransform:function(){var e=this.getAngle(),d=this.getCenterPoint(),f=c.Object.NUM_FRACTION_DIGITS,d="translate("+a(d.x,f)+" "+a(d.y,f)+")",
e=0!==e?" rotate("+a(e,f)+")":"",f=1===this.scaleX&&1===this.scaleY?"":" scale("+a(this.scaleX,f)+" "+a(this.scaleY,f)+")";return[d,e,f,this.flipX?"matrix(-1 0 0 1 0 0) ":"",this.flipY?"matrix(1 0 0 -1 0 0)":""].join("")},_createBaseSVGMarkup:function(){var a=[];this.fill&&this.fill.toLive&&a.push(this.fill.toSVG(this,!1));this.stroke&&this.stroke.toLive&&a.push(this.stroke.toSVG(this,!1));this.shadow&&a.push(this.shadow.toSVG(this));return a},_removeDefaultValues:function(a){this.stateProperties.forEach(function(c){a[c]===
this.constructor.prototype[c]&&delete a[c]},this);return a},toString:function(){return"#<fabric."+e(this.type)+">"},get:function(a){return this[a]},set:function(a,c){if("object"===typeof a)for(var e in a)this._set(e,a[e]);else"function"===typeof c&&"clipTo"!==a?this._set(a,c(this.get(a))):this._set(a,c);return this},_set:function(e,d){if("scaleX"===e||"scaleY"===e)d=this._constrainScale(d);"scaleX"===e&&0>d?(this.flipX=!this.flipX,d*=-1):"scaleY"===e&&0>d?(this.flipY=!this.flipY,d*=-1):"width"===
e||"height"===e?this.minScaleLimit=a(Math.min(.1,1/Math.max(this.width,this.height)),2):"shadow"!==e||!d||d instanceof c.Shadow||(d=new c.Shadow(d));this[e]=d;return this},toggle:function(a){var c=this.get(a);"boolean"===typeof c&&this.set(a,!c);return this},setSourcePath:function(a){this.sourcePath=a;return this},render:function(a,e){if(0!==this.width&&0!==this.height&&this.visible){a.save();var d=this.transformMatrix;d&&!this.group&&a.setTransform(d[0],d[1],d[2],d[3],d[4],d[5]);e||this.transform(a);
this.stroke&&(a.lineWidth=this.strokeWidth,a.lineCap=this.strokeLineCap,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,a.strokeStyle=this.stroke.toLive?this.stroke.toLive(a):this.stroke);this.overlayFill?a.fillStyle=this.overlayFill:this.fill&&(a.fillStyle=this.fill.toLive?this.fill.toLive(a):this.fill);d&&this.group&&(a.translate(-this.group.width/2,-this.group.height/2),a.transform(d[0],d[1],d[2],d[3],d[4],d[5]));this._setShadow(a);this.clipTo&&c.util.clipContext(this,a);this._render(a,
e);this.clipTo&&a.restore();this._removeShadow(a);this.active&&!e&&(this.drawBorders(a),this.drawControls(a));a.restore()}},_setShadow:function(a){this.shadow&&(a.shadowColor=this.shadow.color,a.shadowBlur=this.shadow.blur,a.shadowOffsetX=this.shadow.offsetX,a.shadowOffsetY=this.shadow.offsetY)},_removeShadow:function(a){a.shadowColor="";a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0},_renderFill:function(a){this.fill&&(this.fill.toLive&&(a.save(),a.translate(-this.width/2+this.fill.offsetX||0,-this.height/
2+this.fill.offsetY||0)),a.fill(),this.fill.toLive&&a.restore(),this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a))},_renderStroke:function(a){this.stroke&&(a.save(),this.strokeDashArray?(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),f?(a.setLineDash(this.strokeDashArray),this._stroke&&this._stroke(a)):this._renderDashedStroke&&this._renderDashedStroke(a),a.stroke()):this._stroke?this._stroke(a):a.stroke(),this._removeShadow(a),
a.restore())},clone:function(a,e){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(e),a):new c.Object(this.toObject(e))},cloneAsImage:function(a){var e=this.toDataURL();c.util.loadImage(e,function(e){a&&a(new c.Image(e))});return this},toDataURL:function(a){a||(a={});var e=c.util.createCanvasElement(),d=this.getBoundingRect();e.width=d.width;e.height=d.height;c.util.wrapElement(e,"div");d=new c.Canvas(e);"jpg"===a.format&&(a.format="jpeg");"jpeg"===a.format&&(d.backgroundColor=
"#fff");var f={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1);this.setPositionByOrigin(new c.Point(e.width/2,e.height/2),"center","center");d.add(this);a=d.toDataURL(a);this.set(f).setCoords();d.dispose();return a},isType:function(a){return this.type===a},toGrayscale:function(){var a=this.get("fill");a&&this.set("overlayFill",(new c.Color(a)).toGrayscale().toRgb());return this},complexity:function(){return 0},toJSON:function(a){return this.toObject(a)},setGradient:function(a,
e){e||(e={});var d={colorStops:[]};d.type=e.type||(e.r1||e.r2?"radial":"linear");d.coords={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};if(e.r1||e.r2)d.coords.r1=e.r1,d.coords.r2=e.r2;for(var f in e.colorStops){var k=new c.Color(e.colorStops[f]);d.colorStops.push({offset:f,color:k.toRgb(),opacity:k.getAlpha()})}return this.set(a,c.Gradient.forObject(this,d))},setPatternFill:function(a){return this.set("fill",new c.Pattern(a))},setShadow:function(a){return this.set("shadow",new c.Shadow(a))},setColor:function(a){this.set("fill",
a);return this},centerH:function(){this.canvas.centerObjectH(this);return this},centerV:function(){this.canvas.centerObjectV(this);return this},center:function(){return this.centerH().centerV()},remove:function(){return this.canvas.remove(this)},sendToBack:function(){this.group?c.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this);return this},bringToFront:function(){this.group?c.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this);
return this},sendBackwards:function(a){this.group?c.StaticCanvas.prototype.sendBackwards.call(this.group,this,a):this.canvas.sendBackwards(this,a);return this},bringForward:function(a){this.group?c.StaticCanvas.prototype.bringForward.call(this.group,this,a):this.canvas.bringForward(this,a);return this},moveTo:function(a){this.group?c.StaticCanvas.prototype.moveTo.call(this.group,this,a):this.canvas.moveTo(this,a);return this}}),c.util.createAccessors(c.Object),c.Object.prototype.rotate=c.Object.prototype.setAngle,
d(c.Object.prototype,c.Observable),c.Object.NUM_FRACTION_DIGITS=2,c.Object.__uid=0)})("undefined"!==typeof exports?exports:this);
(function(){var d=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{translateToCenterPoint:function(c,a,e){var k=c.x,f=c.y;"left"===a?k=c.x+(this.getWidth()+this.strokeWidth*this.scaleX)/2:"right"===a&&(k=c.x-(this.getWidth()+this.strokeWidth*this.scaleX)/2);"top"===e?f=c.y+(this.getHeight()+this.strokeWidth*this.scaleY)/2:"bottom"===e&&(f=c.y-(this.getHeight()+this.strokeWidth*this.scaleY)/2);return fabric.util.rotatePoint(new fabric.Point(k,f),c,d(this.angle))},translateToOriginPoint:function(c,
a,e){var k=c.x,f=c.y;"left"===a?k=c.x-(this.getWidth()+this.strokeWidth*this.scaleX)/2:"right"===a&&(k=c.x+(this.getWidth()+this.strokeWidth*this.scaleX)/2);"top"===e?f=c.y-(this.getHeight()+this.strokeWidth*this.scaleY)/2:"bottom"===e&&(f=c.y+(this.getHeight()+this.strokeWidth*this.scaleY)/2);return fabric.util.rotatePoint(new fabric.Point(k,f),c,d(this.angle))},getCenterPoint:function(){var c=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(c,this.originX,this.originY)},getPointByOrigin:function(c,
a){var e=this.getCenterPoint();return this.translateToOriginPoint(e,c,a)},toLocalPoint:function(c,a,e){var k=this.getCenterPoint();void 0!==a&&void 0!==e?(a="left"===a?k.x-(this.getWidth()+this.strokeWidth*this.scaleX)/2:"right"===a?k.x+(this.getWidth()+this.strokeWidth*this.scaleX)/2:k.x,e="top"===e?k.y-(this.getHeight()+this.strokeWidth*this.scaleY)/2:"bottom"===e?k.y+(this.getHeight()+this.strokeWidth*this.scaleY)/2:k.y):(a=this.left,e=this.top);return fabric.util.rotatePoint(new fabric.Point(c.x,
c.y),k,-d(this.angle)).subtractEquals(new fabric.Point(a,e))},setPositionByOrigin:function(c,a,e){c=this.translateToCenterPoint(c,a,e);c=this.translateToOriginPoint(c,this.originX,this.originY);this.set("left",c.x);this.set("top",c.y)},adjustPosition:function(c){var a=d(this.angle),e=this.getWidth()/2,k=Math.cos(a)*e,e=Math.sin(a)*e,f=this.getWidth(),h=Math.cos(a)*f,a=Math.sin(a)*f;"center"===this.originX&&"left"===c||"right"===this.originX&&"center"===c?(this.left-=k,this.top-=e):"left"===this.originX&&
"center"===c||"center"===this.originX&&"right"===c?(this.left+=k,this.top+=e):"left"===this.originX&&"right"===c?(this.left+=h,this.top+=a):"right"===this.originX&&"left"===c&&(this.left-=h,this.top-=a);this.setCoords();this.originX=c},_getLeftTopCoords:function(){var c=d(this.angle),a=this.getWidth()/2,e=Math.cos(c)*a,c=Math.sin(c)*a,a=this.left,k=this.top;if("center"===this.originX||"right"===this.originX)a-=e;if("center"===this.originY||"bottom"===this.originY)k-=c;return{x:a,y:k}}})})();
(function(){var d=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(c,a){var e=this.oCoords,d=new fabric.Point(e.tl.x,e.tl.y),f=new fabric.Point(e.tr.x,e.tr.y),h=new fabric.Point(e.bl.x,e.bl.y),e=new fabric.Point(e.br.x,e.br.y);return"Intersection"===fabric.Intersection.intersectPolygonRectangle([d,f,e,h],c,a).status},intersectsWithObject:function(c){function a(a){return{tl:new fabric.Point(a.tl.x,a.tl.y),tr:new fabric.Point(a.tr.x,
a.tr.y),bl:new fabric.Point(a.bl.x,a.bl.y),br:new fabric.Point(a.br.x,a.br.y)}}var e=a(this.oCoords);c=a(c.oCoords);return"Intersection"===fabric.Intersection.intersectPolygonPolygon([e.tl,e.tr,e.br,e.bl],[c.tl,c.tr,c.br,c.bl]).status},isContainedWithinObject:function(c){var a=c.getBoundingRect();c=new fabric.Point(a.left,a.top);a=new fabric.Point(a.left+a.width,a.top+a.height);return this.isContainedWithinRect(c,a)},isContainedWithinRect:function(c,a){var e=this.getBoundingRect();return e.left>c.x&&
e.left+e.width<a.x&&e.top>c.y&&e.top+e.height<a.y},containsPoint:function(c){var a=this._getImageLines(this.oCoords);c=this._findCrossPoints(c,a);return 0!==c&&1===c%2},_getImageLines:function(c){return{topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}}},_findCrossPoints:function(c,a){var e,d,f,h=0,l;for(l in a)if(f=a[l],!(f.o.y<c.y&&f.d.y<c.y||f.o.y>=c.y&&f.d.y>=c.y)&&(f.o.x===f.d.x&&f.o.x>=c.x?e=f.o.x:(e=(f.d.y-f.o.y)/(f.d.x-f.o.x),d=c.y-0*c.x,
f=f.o.y-e*f.o.x,e=-(d-f)/(0-e)),e>=c.x&&(h+=1),2===h))break;return h},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(){this.oCoords||this.setCoords();var c=[this.oCoords.tl.x,this.oCoords.tr.x,this.oCoords.br.x,this.oCoords.bl.x],a=fabric.util.array.min(c),c=fabric.util.array.max(c),c=Math.abs(a-c),e=[this.oCoords.tl.y,this.oCoords.tr.y,this.oCoords.br.y,this.oCoords.bl.y],d=fabric.util.array.min(e),
e=fabric.util.array.max(e);return{left:a,top:d,width:c,height:Math.abs(d-e)}},getWidth:function(){return this.width*this.scaleX},getHeight:function(){return this.height*this.scaleY},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?0>c?-this.minScaleLimit:this.minScaleLimit:c},scale:function(c){c=this._constrainScale(c);0>c&&(this.flipX=!this.flipX,this.flipY=!this.flipY,c*=-1);this.scaleY=this.scaleX=c;this.setCoords();return this},scaleToWidth:function(c){var a=this.getBoundingRectWidth()/
this.getWidth();return this.scale(c/this.width/a)},scaleToHeight:function(c){var a=this.getBoundingRectHeight()/this.getHeight();return this.scale(c/this.height/a)},setCoords:function(){var c=1<this.strokeWidth?this.strokeWidth:0,a=this.padding,e=d(this.angle);this.currentWidth=(this.width+c)*this.scaleX+2*a;this.currentHeight=(this.height+c)*this.scaleY+2*a;0>this.currentWidth&&(this.currentWidth=Math.abs(this.currentWidth));var c=Math.sqrt(Math.pow(this.currentWidth/2,2)+Math.pow(this.currentHeight/
2,2)),k=Math.atan(isFinite(this.currentHeight/this.currentWidth)?this.currentHeight/this.currentWidth:0),a=Math.cos(k+e)*c,k=Math.sin(k+e)*c,c=Math.sin(e),e=Math.cos(e),f=this.getCenterPoint(),a={x:f.x-a,y:f.y-k},k={x:a.x+this.currentWidth*e,y:a.y+this.currentWidth*c},f={x:a.x-this.currentHeight*c,y:a.y+this.currentHeight*e},h={x:a.x+this.currentWidth/2*e,y:a.y+this.currentWidth/2*c};this.oCoords={tl:a,tr:k,br:{x:k.x-this.currentHeight*c,y:k.y+this.currentHeight*e},bl:f,ml:{x:a.x-this.currentHeight/
2*c,y:a.y+this.currentHeight/2*e},mt:h,mr:{x:k.x-this.currentHeight/2*c,y:k.y+this.currentHeight/2*e},mb:{x:f.x+this.currentWidth/2*e,y:f.y+this.currentWidth/2*c},mtr:{x:h.x,y:h.y}};this._setCornerCoords&&this._setCornerCoords();return this}})})();
fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(){return this.stateProperties.some(function(d){return this.get(d)!==this.originalState[d]},this)},saveState:function(d){this.stateProperties.forEach(function(c){this.originalState[c]=this.get(c)},this);d&&d.stateProperties&&d.stateProperties.forEach(function(c){this.originalState[c]=this.get(c)},this);return this},setupState:function(){this.originalState={};this.saveState();return this}});
(function(){var d=fabric.util.getPointer,c=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{_findTargetCorner:function(a,c){if(!this.hasControls||!this.active)return!1;var k=d(a,this.canvas.upperCanvasEl),f=k.x-c.left,k=k.y-c.top,h,l;for(l in this.oCoords)if("mtr"!==l||this.hasRotatingPoint)if(!this.get("lockUniScaling")||"mt"!==l&&"mr"!==l&&"mb"!==l&&"ml"!==l)if(h=this._getImageLines(this.oCoords[l].corner),h=this._findCrossPoints({x:f,y:k},h),0!==h&&1===h%2)return this.__corner=
l;return!1},_setCornerCoords:function(){var a=this.oCoords,e=c(this.angle),d=c(45-this.angle),f=Math.sqrt(2*Math.pow(this.cornerSize,2))/2,h=f*Math.cos(d),d=f*Math.sin(d),f=Math.sin(e),e=Math.cos(e);a.tl.corner={tl:{x:a.tl.x-d,y:a.tl.y-h},tr:{x:a.tl.x+h,y:a.tl.y-d},bl:{x:a.tl.x-h,y:a.tl.y+d},br:{x:a.tl.x+d,y:a.tl.y+h}};a.tr.corner={tl:{x:a.tr.x-d,y:a.tr.y-h},tr:{x:a.tr.x+h,y:a.tr.y-d},br:{x:a.tr.x+d,y:a.tr.y+h},bl:{x:a.tr.x-h,y:a.tr.y+d}};a.bl.corner={tl:{x:a.bl.x-d,y:a.bl.y-h},bl:{x:a.bl.x-h,y:a.bl.y+
d},br:{x:a.bl.x+d,y:a.bl.y+h},tr:{x:a.bl.x+h,y:a.bl.y-d}};a.br.corner={tr:{x:a.br.x+h,y:a.br.y-d},bl:{x:a.br.x-h,y:a.br.y+d},br:{x:a.br.x+d,y:a.br.y+h},tl:{x:a.br.x-d,y:a.br.y-h}};a.ml.corner={tl:{x:a.ml.x-d,y:a.ml.y-h},tr:{x:a.ml.x+h,y:a.ml.y-d},bl:{x:a.ml.x-h,y:a.ml.y+d},br:{x:a.ml.x+d,y:a.ml.y+h}};a.mt.corner={tl:{x:a.mt.x-d,y:a.mt.y-h},tr:{x:a.mt.x+h,y:a.mt.y-d},bl:{x:a.mt.x-h,y:a.mt.y+d},br:{x:a.mt.x+d,y:a.mt.y+h}};a.mr.corner={tl:{x:a.mr.x-d,y:a.mr.y-h},tr:{x:a.mr.x+h,y:a.mr.y-d},bl:{x:a.mr.x-
h,y:a.mr.y+d},br:{x:a.mr.x+d,y:a.mr.y+h}};a.mb.corner={tl:{x:a.mb.x-d,y:a.mb.y-h},tr:{x:a.mb.x+h,y:a.mb.y-d},bl:{x:a.mb.x-h,y:a.mb.y+d},br:{x:a.mb.x+d,y:a.mb.y+h}};a.mtr.corner={tl:{x:a.mtr.x-d+f*this.rotatingPointOffset,y:a.mtr.y-h-e*this.rotatingPointOffset},tr:{x:a.mtr.x+h+f*this.rotatingPointOffset,y:a.mtr.y-d-e*this.rotatingPointOffset},bl:{x:a.mtr.x-h+f*this.rotatingPointOffset,y:a.mtr.y+d-e*this.rotatingPointOffset},br:{x:a.mtr.x+d+f*this.rotatingPointOffset,y:a.mtr.y+h-e*this.rotatingPointOffset}}},
drawBorders:function(a){if(!this.hasBorders)return this;var c=this.padding,d=2*c,f=2*~~(this.strokeWidth/2);a.save();a.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;a.strokeStyle=this.borderColor;var h=1/this._constrainScale(this.scaleX),l=1/this._constrainScale(this.scaleY);a.lineWidth=1/this.borderScaleFactor;a.scale(h,l);h=this.getWidth();l=this.getHeight();a.strokeRect(~~(-(h/2)-c-f/2*this.scaleX)-.5,~~(-(l/2)-c-f/2*this.scaleY)-.5,~~(h+d+f*this.scaleX)+1,~~(l+d+f*this.scaleY)+1);this.hasRotatingPoint&&
!this.get("lockRotation")&&this.hasControls&&(c=(this.flipY?l+f*this.scaleY+2*c:-l-f*this.scaleY-2*c)/2,a.beginPath(),a.moveTo(0,c),a.lineTo(0,c+(this.flipY?this.rotatingPointOffset:-this.rotatingPointOffset)),a.closePath(),a.stroke());a.restore();return this},drawControls:function(a){if(!this.hasControls)return this;var c=this.cornerSize,d=c/2,f=~~(this.strokeWidth/2),h=-(this.width/2),l=-(this.height/2),m=c/this.scaleX,q=c/this.scaleY,n=this.padding/this.scaleX,t=this.padding/this.scaleY,u=d/this.scaleY,
v=d/this.scaleX,p=(d-c)/this.scaleX,w=(d-c)/this.scaleY,x=this.height,z=this.width,y=this.transparentCorners?"strokeRect":"fillRect",E=this.transparentCorners,D="undefined"!==typeof G_vmlCanvasManager;a.save();a.lineWidth=1/Math.max(this.scaleX,this.scaleY);a.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;a.strokeStyle=a.fillStyle=this.cornerColor;c=h-v-f-n;d=l-u-f-t;D||E||a.clearRect(c,d,m,q);a[y](c,d,m,q);c=h+z-v+f+n;d=l-u-f-t;D||E||a.clearRect(c,d,m,q);a[y](c,d,m,q);c=h-v-f-n;d=l+x+w+
f+t;D||E||a.clearRect(c,d,m,q);a[y](c,d,m,q);c=h+z+p+f+n;d=l+x+w+f+t;D||E||a.clearRect(c,d,m,q);a[y](c,d,m,q);this.get("lockUniScaling")||(c=h+z/2-v,d=l-u-f-t,D||E||a.clearRect(c,d,m,q),a[y](c,d,m,q),c=h+z/2-v,d=l+x+w+f+t,D||E||a.clearRect(c,d,m,q),a[y](c,d,m,q),c=h+z+p+f+n,d=l+x/2-u,D||E||a.clearRect(c,d,m,q),a[y](c,d,m,q),c=h-v-f-n,d=l+x/2-u,D||E||a.clearRect(c,d,m,q),a[y](c,d,m,q));this.hasRotatingPoint&&(c=h+z/2-v,d=this.flipY?l+x+this.rotatingPointOffset/this.scaleY-q/2+f+t:l-this.rotatingPointOffset/
this.scaleY-q/2-f-t,D||E||a.clearRect(c,d,m,q),a[y](c,d,m,q));a.restore();return this}})})();
fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(d,c){c=c||{};var a=function(){},e=c.onComplete||a,k=c.onChange||a,f=this;fabric.util.animate({startValue:d.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(a){d.set("left",a);f.renderAll();k()},onComplete:function(){d.setCoords();e()}});return this},fxCenterObjectV:function(d,c){c=c||{};var a=function(){},e=c.onComplete||a,k=c.onChange||a,f=this;fabric.util.animate({startValue:d.get("top"),
endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(a){d.set("top",a);f.renderAll();k()},onComplete:function(){d.setCoords();e()}});return this},fxRemove:function(d,c){c=c||{};var a=function(){},e=c.onComplete||a,k=c.onChange||a,f=this;fabric.util.animate({startValue:d.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){d.set("active",!1)},onChange:function(a){d.set("opacity",a);f.renderAll();k()},onComplete:function(){f.remove(d);e()}});return this}});
fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var d=[],c,a;for(c in arguments[0])d.push(c);for(var e=0,k=d.length;e<k;e++)c=d[e],a=e!==k-1,this._animate(c,arguments[0][c],arguments[1],a)}else this._animate.apply(this,arguments);return this},_animate:function(d,c,a,e){var k=this,f;c=c.toString();a=a?fabric.util.object.clone(a):{};~d.indexOf(".")&&(f=d.split("."));var h=f?this.get(f[0])[f[1]]:this.get(d);"from"in a||(a.from=h);
c=~c.indexOf("=")?h+parseFloat(c.replace("=","")):parseFloat(c);fabric.util.animate({startValue:a.from,endValue:c,byValue:a.by,easing:a.easing,duration:a.duration,abort:a.abort&&function(){return a.abort.call(k)},onChange:function(c){f?k[f[0]][f[1]]=c:k.set(d,c);e||a.onChange&&a.onChange()},onComplete:function(){e||(k.setCoords(),a.onComplete&&a.onComplete())}})}});
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend,e={x1:1,x2:1,y1:1,y2:1},k=c.StaticCanvas.supports("setLineDash");c.Line?c.warn("fabric.Line is already defined"):(c.Line=c.util.createClass(c.Object,{type:"line",initialize:function(a,c){c=c||{};a||(a=[0,0,0,0]);this.callSuper("initialize",c);this.set("x1",a[0]);this.set("y1",a[1]);this.set("x2",a[2]);this.set("y2",a[3]);this._setWidthHeight(c)},_setWidthHeight:function(a){a||(a={});this.set("width",Math.abs(this.x2-this.x1)||1);this.set("height",
Math.abs(this.y2-this.y1)||1);this.set("left","left"in a?a.left:Math.min(this.x1,this.x2)+this.width/2);this.set("top","top"in a?a.top:Math.min(this.y1,this.y2)+this.height/2)},_set:function(a,c){this[a]=c;a in e&&this._setWidthHeight();return this},_render:function(a){a.beginPath();this.group&&"group"!==this.group.type&&!this.transformMatrix&&a.translate(-this.group.width/2+this.left,-this.group.height/2+this.top);if(!this.strokeDashArray||this.strokeDashArray&&k){var c=this.x1<=this.x2?-1:1,e=this.y1<=
this.y2?-1:1;a.moveTo(1===this.width?0:c*this.width/2,1===this.height?0:e*this.height/2);a.lineTo(1===this.width?0:-1*c*this.width/2,1===this.height?0:-1*e*this.height/2)}a.lineWidth=this.strokeWidth;c=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle;this._renderStroke(a);a.strokeStyle=c},_renderDashedStroke:function(a){var e=this.x1<=this.x2?-1:1,d=this.y1<=this.y2?-1:1,e=1===this.width?0:e*this.width/2,d=1===this.height?0:d*this.height/2;a.beginPath();c.util.drawDashedLine(a,e,d,-e,-d,this.strokeDashArray);
a.closePath()},toObject:function(c){return a(this.callSuper("toObject",c),{x1:this.get("x1"),y1:this.get("y1"),x2:this.get("x2"),y2:this.get("y2")})},toSVG:function(){var a=this._createBaseSVGMarkup();a.push("<line ",'x1="',this.get("x1"),'" y1="',this.get("y1"),'" x2="',this.get("x2"),'" y2="',this.get("y2"),'" style="',this.getSvgStyles(),'"/>');return a.join("")},complexity:function(){return 1}}),c.Line.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(["x1","y1","x2","y2"]),c.Line.fromElement=function(e,
d){var k=c.parseAttributes(e,c.Line.ATTRIBUTE_NAMES);return new c.Line([k.x1||0,k.y1||0,k.x2||0,k.y2||0],a(k,d))},c.Line.fromObject=function(a){return new c.Line([a.x1,a.y1,a.x2,a.y2],a)})})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=2*Math.PI,e=c.util.object.extend;c.Circle?c.warn("fabric.Circle is already defined."):(c.Circle=c.util.createClass(c.Object,{type:"circle",initialize:function(a){a=a||{};this.set("radius",a.radius||0);this.callSuper("initialize",a)},_set:function(a,c){this.callSuper("_set",a,c);"radius"===a&&this.setRadius(c);return this},toObject:function(a){return e(this.callSuper("toObject",a),{radius:this.get("radius")})},toSVG:function(){var a=this._createBaseSVGMarkup();
a.push("<circle ",'cx="0" cy="0" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>');return a.join("")},_render:function(c,e){c.beginPath();c.globalAlpha=this.group?c.globalAlpha*this.opacity:this.opacity;c.arc(e?this.left:0,e?this.top:0,this.radius,0,a,!1);c.closePath();this._renderFill(c);this._renderStroke(c)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){this.radius=
a;this.set("width",2*a).set("height",2*a)},complexity:function(){return 1}}),c.Circle.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(["cx","cy","r"]),c.Circle.fromElement=function(a,d){d||(d={});var h=c.parseAttributes(a,c.Circle.ATTRIBUTE_NAMES);if(!("radius"in h&&0<h.radius))throw Error("value of `r` attribute is required and can not be negative");"left"in h&&(h.left-=d.width/2||0);"top"in h&&(h.top-=d.height/2||0);h=new c.Circle(e(h,d));h.cx=parseFloat(a.getAttribute("cx"))||0;h.cy=parseFloat(a.getAttribute("cy"))||
0;return h},c.Circle.fromObject=function(a){return new c.Circle(a)})})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={});c.Triangle?c.warn("fabric.Triangle is already defined"):(c.Triangle=c.util.createClass(c.Object,{type:"triangle",initialize:function(a){a=a||{};this.callSuper("initialize",a);this.set("width",a.width||100).set("height",a.height||100)},_render:function(a){var c=this.width/2,d=this.height/2;a.beginPath();a.moveTo(-c,d);a.lineTo(0,-d);a.lineTo(c,d);a.closePath();this._renderFill(a);this._renderStroke(a)},_renderDashedStroke:function(a){var e=this.width/2,d=
this.height/2;a.beginPath();c.util.drawDashedLine(a,-e,d,0,-d,this.strokeDashArray);c.util.drawDashedLine(a,0,-d,e,d,this.strokeDashArray);c.util.drawDashedLine(a,e,d,-e,d,this.strokeDashArray);a.closePath()},toSVG:function(){var a=this._createBaseSVGMarkup(),c=this.width/2,d=this.height/2,c=[-c+" "+d,"0 "+-d,c+" "+d].join();a.push("<polygon ",'points="',c,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>');return a.join("")},complexity:function(){return 1}}),c.Triangle.fromObject=
function(a){return new c.Triangle(a)})})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=2*Math.PI,e=c.util.object.extend;c.Ellipse?c.warn("fabric.Ellipse is already defined."):(c.Ellipse=c.util.createClass(c.Object,{type:"ellipse",rx:0,ry:0,initialize:function(a){a=a||{};this.callSuper("initialize",a);this.set("rx",a.rx||0);this.set("ry",a.ry||0);this.set("width",2*this.get("rx"));this.set("height",2*this.get("ry"))},toObject:function(a){return e(this.callSuper("toObject",a),{rx:this.get("rx"),ry:this.get("ry")})},toSVG:function(){var a=this._createBaseSVGMarkup();
a.push("<ellipse ",'rx="',this.get("rx"),'" ry="',this.get("ry"),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>');return a.join("")},render:function(a,c){if(0!==this.rx&&0!==this.ry)return this.callSuper("render",a,c)},_render:function(c,e){c.beginPath();c.save();c.globalAlpha=this.group?c.globalAlpha*this.opacity:this.opacity;this.transformMatrix&&this.group&&c.translate(this.cx,this.cy);c.transform(1,0,0,this.ry/this.rx,0,0);c.arc(e?this.left:0,e?this.top:0,this.rx,
0,a,!1);this._renderFill(c);this._renderStroke(c);c.restore()},complexity:function(){return 1}}),c.Ellipse.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(["cx","cy","rx","ry"]),c.Ellipse.fromElement=function(a,d){d||(d={});var h=c.parseAttributes(a,c.Ellipse.ATTRIBUTE_NAMES),l=h.left,m=h.top;"left"in h&&(h.left-=d.width/2||0);"top"in h&&(h.top-=d.height/2||0);h=new c.Ellipse(e(h,d));h.cx=l||0;h.cy=m||0;return h},c.Ellipse.fromObject=function(a){return new c.Ellipse(a)})})("undefined"!==typeof exports?
exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Rect?console.warn("fabric.Rect is already defined"):(d=c.Object.prototype.stateProperties.concat(),d.push("rx","ry"),c.Rect=c.util.createClass(c.Object,{stateProperties:d,type:"rect",rx:0,ry:0,strokeDashArray:null,initialize:function(a){a=a||{};this.callSuper("initialize",a);this._initRxRy();this.x=a.x||0;this.y=a.y||0},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(a){var c=this.rx||
0,d=this.ry||0,h=-this.width/2,l=-this.height/2,m=this.width,q=this.height,n=this.group&&"group"!==this.group.type;a.beginPath();a.globalAlpha=n?a.globalAlpha*this.opacity:this.opacity;this.transformMatrix&&n&&a.translate(this.width/2+this.x,this.height/2+this.y);!this.transformMatrix&&n&&a.translate(-this.group.width/2+this.width/2+this.x,-this.group.height/2+this.height/2+this.y);n=0!==c||0!==d;a.moveTo(h+c,l);a.lineTo(h+m-c,l);n&&a.quadraticCurveTo(h+m,l,h+m,l+d,h+m,l+d);a.lineTo(h+m,l+q-d);n&&
a.quadraticCurveTo(h+m,l+q,h+m-c,l+q,h+m-c,l+q);a.lineTo(h+c,l+q);n&&a.quadraticCurveTo(h,l+q,h,l+q-d,h,l+q-d);a.lineTo(h,l+d);n&&a.quadraticCurveTo(h,l,h+c,l,h+c,l);a.closePath();this._renderFill(a);this._renderStroke(a)},_renderDashedStroke:function(a){var d=-this.width/2,f=-this.height/2,h=this.width,l=this.height;a.beginPath();c.util.drawDashedLine(a,d,f,d+h,f,this.strokeDashArray);c.util.drawDashedLine(a,d+h,f,d+h,f+l,this.strokeDashArray);c.util.drawDashedLine(a,d+h,f+l,d,f+l,this.strokeDashArray);
c.util.drawDashedLine(a,d,f+l,d,f,this.strokeDashArray);a.closePath()},_normalizeLeftTopProperties:function(a){"left"in a&&this.set("left",a.left+this.getWidth()/2);this.set("x",a.left||0);"top"in a&&this.set("top",a.top+this.getHeight()/2);this.set("y",a.top||0);return this},toObject:function(c){return a(this.callSuper("toObject",c),{rx:this.get("rx")||0,ry:this.get("ry")||0,x:this.get("x"),y:this.get("y")})},toSVG:function(){var a=this._createBaseSVGMarkup();a.push("<rect ",'x="',-1*this.width/
2,'" y="',-1*this.height/2,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>');return a.join("")},complexity:function(){return 1}}),c.Rect.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),c.Rect.fromElement=function(e,d){if(!e)return null;var f=c.parseAttributes(e,c.Rect.ATTRIBUTE_NAMES);f.left=f.left||0;f.top=f.top||0;var h=new c.Rect(a(d?c.util.object.clone(d):
{},f));h._normalizeLeftTopProperties(f);return h},c.Rect.fromObject=function(a){return new c.Rect(a)})})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.toFixed,e=c.util.array.min;c.Polyline?c.warn("fabric.Polyline is already defined"):(c.Polyline=c.util.createClass(c.Object,{type:"polyline",initialize:function(a,c,e){c=c||{};this.set("points",a);this.callSuper("initialize",c);this._calcDimensions(e)},_calcDimensions:function(a){return c.Polygon.prototype._calcDimensions.call(this,a)},toObject:function(a){return c.Polygon.prototype.toObject.call(this,a)},toSVG:function(){for(var c=[],e=this._createBaseSVGMarkup(),
d=0,l=this.points.length;d<l;d++)c.push(a(this.points[d].x,2),",",a(this.points[d].y,2)," ");e.push("<polyline ",'points="',c.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>');return e.join("")},_render:function(a){var c;a.beginPath();a.moveTo(this.points[0].x,this.points[0].y);for(var e=0,d=this.points.length;e<d;e++)c=this.points[e],a.lineTo(c.x,c.y);this._renderFill(a);this._renderStroke(a)},_renderDashedStroke:function(a){var e,d;a.beginPath();for(var l=0,
m=this.points.length;l<m;l++)e=this.points[l],d=this.points[l+1]||e,c.util.drawDashedLine(a,e.x,e.y,d.x,d.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),c.Polyline.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(),c.Polyline.fromElement=function(a,d){if(!a)return null;d||(d={});for(var h=c.parsePointsAttribute(a.getAttribute("points")),l=c.parseAttributes(a,c.Polyline.ATTRIBUTE_NAMES),m=e(h,"x"),q=e(h,"y"),m=0>m?m:0,q=0>m?q:0,n=0,t=h.length;n<t;n++)h[n].x-=d.width/2+
m||0,h[n].y-=d.height/2+q||0;return new c.Polyline(h,c.util.object.extend(l,d),!0)},c.Polyline.fromObject=function(a){return new c.Polyline(a.points,a,!0)})})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend,e=c.util.array.min,k=c.util.array.max,f=c.util.toFixed;c.Polygon?c.warn("fabric.Polygon is already defined"):(c.Polygon=c.util.createClass(c.Object,{type:"polygon",initialize:function(a,c,e){c=c||{};this.points=a;this.callSuper("initialize",c);this._calcDimensions(e)},_calcDimensions:function(a){var c=this.points,d=e(c,"x"),f=e(c,"y"),n=k(c,"x"),c=k(c,"y");this.width=n-d||1;this.height=c-f||1;this.minX=d;this.minY=f;if(!a){var t=this.width/
2+this.minX,u=this.height/2+this.minY;this.points.forEach(function(a){a.x-=t;a.y-=u},this)}},toObject:function(c){return a(this.callSuper("toObject",c),{points:this.points.concat()})},toSVG:function(){for(var a=[],c=this._createBaseSVGMarkup(),e=0,d=this.points.length;e<d;e++)a.push(f(this.points[e].x,2),",",f(this.points[e].y,2)," ");c.push("<polygon ",'points="',a.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>');return c.join("")},_render:function(a){var c;
a.beginPath();a.moveTo(this.points[0].x,this.points[0].y);for(var e=0,d=this.points.length;e<d;e++)c=this.points[e],a.lineTo(c.x,c.y);this._renderFill(a);if(this.stroke||this.strokeDashArray)a.closePath(),this._renderStroke(a)},_renderDashedStroke:function(a){var e,d;a.beginPath();for(var f=0,k=this.points.length;f<k;f++)e=this.points[f],d=this.points[f+1]||this.points[0],c.util.drawDashedLine(a,e.x,e.y,d.x,d.y,this.strokeDashArray);a.closePath()},complexity:function(){return this.points.length}}),
c.Polygon.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(),c.Polygon.fromElement=function(d,f){if(!d)return null;f||(f={});for(var k=c.parsePointsAttribute(d.getAttribute("points")),q=c.parseAttributes(d,c.Polygon.ATTRIBUTE_NAMES),n=e(k,"x"),t=e(k,"y"),n=0>n?n:0,t=0>n?t:0,u=0,v=k.length;u<v;u++)k[u].x-=f.width/2+n||0,k[u].y-=f.height/2+t||0;return new c.Polygon(k,a(q,f),!0)},c.Polygon.fromObject=function(a){return new c.Polygon(a.points,a,!0)})})("undefined"!==typeof exports?exports:this);
(function(d){function c(a){return"H"===a[0]?a[1]:a[a.length-2]}function a(a){return"V"===a[0]?a[1]:a[a.length-1]}var e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7};"use strict";var k=d.fabric||(d.fabric={}),f=k.util.array.min,h=k.util.array.max,l=k.util.object.extend,m=Object.prototype.toString,q=k.util.drawArc;k.Path?k.warn("fabric.Path is already defined"):(k.Path=k.util.createClass(k.Object,{type:"path",initialize:function(a,c){c=c||{};this.setOptions(c);if(!a)throw Error("`path` argument is required");
var e="[object Array]"===m.call(a);if(this.path=e?a:a.match&&a.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi))e||(this.path=this._parsePath()),this._initializePath(c),c.sourcePath&&this.setSourcePath(c.sourcePath)},_initializePath:function(a){var c="width"in a&&null!=a.width,e="height"in a&&null!=a.width,d="left"in a,f="top"in a,h=d?this.left:0,k=f?this.top:0;c&&e?(f||(this.top=this.height/2),d||(this.left=this.width/2)):(l(this,this._parseDimensions()),c&&(this.width=a.width),e&&(this.height=a.height));this.pathOffset=
this.pathOffset||this._calculatePathOffset(h,k)},_calculatePathOffset:function(a,c){return{x:this.left-a-this.width/2,y:this.top-c-this.height/2}},_render:function(a){for(var c,e=null,d=0,f=0,h=0,k=0,l,m,E,D,A=-(this.width/2+this.pathOffset.x),B=-(this.height/2+this.pathOffset.y),F=0,C=this.path.length;F<C;++F){c=this.path[F];switch(c[0]){case "l":d+=c[1];f+=c[2];a.lineTo(d+A,f+B);break;case "L":d=c[1];f=c[2];a.lineTo(d+A,f+B);break;case "h":d+=c[1];a.lineTo(d+A,f+B);break;case "H":d=c[1];a.lineTo(d+
A,f+B);break;case "v":f+=c[1];a.lineTo(d+A,f+B);break;case "V":f=c[1];a.lineTo(d+A,f+B);break;case "m":d+=c[1];f+=c[2];a[!e||"m"!==e[0]&&"M"!==e[0]?"moveTo":"lineTo"](d+A,f+B);break;case "M":d=c[1];f=c[2];a[!e||"m"!==e[0]&&"M"!==e[0]?"moveTo":"lineTo"](d+A,f+B);break;case "c":l=d+c[5];m=f+c[6];h=d+c[3];k=f+c[4];a.bezierCurveTo(d+c[1]+A,f+c[2]+B,h+A,k+B,l+A,m+B);d=l;f=m;break;case "C":d=c[5];f=c[6];h=c[3];k=c[4];a.bezierCurveTo(c[1]+A,c[2]+B,h+A,k+B,d+A,f+B);break;case "s":l=d+c[3];m=f+c[4];h=h?2*
d-h:d;k=k?2*f-k:f;a.bezierCurveTo(h+A,k+B,d+c[1]+A,f+c[2]+B,l+A,m+B);h=d+c[1];k=f+c[2];d=l;f=m;break;case "S":l=c[3];m=c[4];h=2*d-h;k=2*f-k;a.bezierCurveTo(h+A,k+B,c[1]+A,c[2]+B,l+A,m+B);d=l;f=m;h=c[1];k=c[2];break;case "q":l=d+c[3];m=f+c[4];h=d+c[1];k=f+c[2];a.quadraticCurveTo(h+A,k+B,l+A,m+B);d=l;f=m;break;case "Q":l=c[3];m=c[4];a.quadraticCurveTo(c[1]+A,c[2]+B,l+A,m+B);d=l;f=m;h=c[1];k=c[2];break;case "t":l=d+c[1];m=f+c[2];null===e[0].match(/[QqTt]/)?(h=d,k=f):"t"===e[0]?(h=2*d-E,k=2*f-D):"q"===
e[0]&&(h=2*d-h,k=2*f-k);E=h;D=k;a.quadraticCurveTo(h+A,k+B,l+A,m+B);d=l;f=m;h=d+c[1];k=f+c[2];break;case "T":l=c[1];m=c[2];h=2*d-h;k=2*f-k;a.quadraticCurveTo(h+A,k+B,l+A,m+B);d=l;f=m;break;case "a":q(a,d+A,f+B,[c[1],c[2],c[3],c[4],c[5],c[6]+d+A,c[7]+f+B]);d+=c[6];f+=c[7];break;case "A":q(a,d+A,f+B,[c[1],c[2],c[3],c[4],c[5],c[6]+A,c[7]+B]);d=c[6];f=c[7];break;case "z":case "Z":a.closePath()}e=c}},render:function(a,c){if(this.visible){a.save();var e=this.transformMatrix;e&&a.transform(e[0],e[1],e[2],
e[3],e[4],e[5]);c||this.transform(a);this.overlayFill?a.fillStyle=this.overlayFill:this.fill&&(a.fillStyle=this.fill.toLive?this.fill.toLive(a):this.fill);this.stroke&&(a.lineWidth=this.strokeWidth,a.lineCap=this.strokeLineCap,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,a.strokeStyle=this.stroke.toLive?this.stroke.toLive(a):this.stroke);this._setShadow(a);this.clipTo&&k.util.clipContext(this,a);a.beginPath();this._render(a);this._renderFill(a);this._renderStroke(a);this.clipTo&&
a.restore();this._removeShadow(a);!c&&this.active&&(this.drawBorders(a),this.drawControls(a));a.restore()}},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(a){a=l(this.callSuper("toObject",a),{path:this.path,pathOffset:this.pathOffset});this.sourcePath&&(a.sourcePath=this.sourcePath);this.transformMatrix&&(a.transformMatrix=this.transformMatrix);return a},toDatalessObject:function(a){a=this.toObject(a);this.sourcePath&&
(a.path=this.sourcePath);delete a.sourcePath;return a},toSVG:function(){for(var a=[],c=this._createBaseSVGMarkup(),e=0,d=this.path.length;e<d;e++)a.push(this.path[e].join(" "));a=a.join(" ");c.push('<g transform="',this.group?"":this.getSvgTransform(),'">',"<path ",'d="',a,'" style="',this.getSvgStyles(),'" transform="translate(',-this.width/2," ",-this.height/2,")",'" stroke-linecap="round" ',"/>","</g>");return c.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var a=
[],c=[],d,f,h=/(-?\.\d+)|(-?\d+(\.\d+)?)/g,k,l=0,m=this.path.length;l<m;l++){d=this.path[l];k=d.slice(1).trim();for(c.length=0;f=h.exec(k);)c.push(f[0]);d=[d.charAt(0)];k=0;for(var q=c.length;k<q;k++)f=parseFloat(c[k]),isNaN(f)||d.push(f);f=d[0].toLowerCase();f=e[f];if(d.length-1>f)for(k=1,q=d.length;k<q;k+=f)a.push([d[0]].concat(d.slice(k,k+f)));else a.push(d)}return a},_parseDimensions:function(){var e=[],d=[],k,l,m=!1,q,x;this.path.forEach(function(f,h){"H"!==f[0]&&(k=0===h?c(f):c(this.path[h-
1]));"V"!==f[0]&&(l=0===h?a(f):a(this.path[h-1]));f[0]===f[0].toLowerCase()&&(m=!0);q=m?k+c(f):"V"===f[0]?k:c(f);x=m?l+a(f):"H"===f[0]?l:a(f);var y=parseInt(q,10);isNaN(y)||e.push(y);y=parseInt(x,10);isNaN(y)||d.push(y)},this);var z=f(e),y=f(d),E=h(e),D=h(d),E=E-z,D=D-y;return{left:this.left+(z+E/2),top:this.top+(y+D/2),width:E,height:D}}}),k.Path.fromObject=function(a,c){"string"===typeof a.path?k.loadSVGFromURL(a.path,function(e){e=e[0];var d=a.path;delete a.path;k.util.object.extend(e,a);e.setSourcePath(d);
c(e)}):c(new k.Path(a.path,a))},k.Path.ATTRIBUTE_NAMES=k.SHARED_ATTRIBUTES.concat(["d"]),k.Path.fromElement=function(a,c,e){a=k.parseAttributes(a,k.Path.ATTRIBUTE_NAMES);c&&c(new k.Path(a.d,l(a,e)))},k.Path.async=!0)})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend,e=c.util.array.invoke,k=c.Object.prototype.toObject;c.PathGroup?c.warn("fabric.PathGroup is already defined"):(c.PathGroup=c.util.createClass(c.Path,{type:"path-group",fill:"",initialize:function(a,c){c=c||{};this.paths=a||[];for(var e=this.paths.length;e--;)this.paths[e].group=this;this.setOptions(c);this.setCoords();c.sourcePath&&this.setSourcePath(c.sourcePath)},render:function(a){if(this.visible){a.save();var e=this.transformMatrix;
e&&a.transform(e[0],e[1],e[2],e[3],e[4],e[5]);this.transform(a);this._setShadow(a);this.clipTo&&c.util.clipContext(this,a);for(var e=0,d=this.paths.length;e<d;++e)this.paths[e].render(a,!0);this.clipTo&&a.restore();this._removeShadow(a);this.active&&(this.drawBorders(a),this.drawControls(a));a.restore()}},_set:function(a,c){if(("fill"===a||"overlayFill"===a)&&c&&this.isSameColor())for(var e=this.paths.length;e--;)this.paths[e]._set(a,c);return this.callSuper("_set",a,c)},toObject:function(c){return a(k.call(this,
c),{paths:e(this.getObjects(),"toObject",c),sourcePath:this.sourcePath})},toDatalessObject:function(a){a=this.toObject(a);this.sourcePath&&(a.paths=this.sourcePath);return a},toSVG:function(){for(var a=this.getObjects(),c=["<g ",'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransform(),'" ',">"],e=0,d=a.length;e<d;e++)c.push(a[e].toSVG());c.push("</g>");return c.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},
isSameColor:function(){var a=this.getObjects()[0].get("fill");return this.getObjects().every(function(c){return c.get("fill")===a})},complexity:function(){return this.paths.reduce(function(a,c){return a+(c&&c.complexity?c.complexity():0)},0)},toGrayscale:function(){for(var a=this.paths.length;a--;)this.paths[a].toGrayscale();return this},getObjects:function(){return this.paths}}),c.PathGroup.fromObject=function(a,e){"string"===typeof a.paths?c.loadSVGFromURL(a.paths,function(d){var k=a.paths;delete a.paths;
d=c.util.groupSVGElements(d,a,k);e(d)}):c.util.enlivenObjects(a.paths,function(d){delete a.paths;e(new c.PathGroup(d,a))})},c.PathGroup.async=!0)})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend,e=c.util.array.min,k=c.util.array.max,f=c.util.array.invoke;if(!c.Group){var h={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};c.Group=c.util.createClass(c.Object,c.Collection,{type:"group",initialize:function(c,e){e=e||{};this._objects=c||[];for(var d=this._objects.length;d--;)this._objects[d].group=this;this.originalState={};this.callSuper("initialize");this._calcBounds();this._updateObjectsCoords();
e&&a(this,e);this._setOpacityIfSame();this.setCoords(!0);this.saveCoords()},_updateObjectsCoords:function(){var a=this.left,c=this.top;this.forEachObject(function(e){var d=e.get("left"),f=e.get("top");e.set("originalLeft",d);e.set("originalTop",f);e.set("left",d-a);e.set("top",f-c);e.setCoords();e.__origHasControls=e.hasControls;e.hasControls=!1},this)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},getObjects:function(){return this._objects},addWithUpdate:function(a){this._restoreObjectsState();
this._objects.push(a);a.group=this;this.forEachObject(function(a){a.set("active",!0);a.group=this},this);this._calcBounds();this._updateObjectsCoords();return this},removeWithUpdate:function(a){this._restoreObjectsState();this.forEachObject(function(a){a.set("active",!0);a.group=this},this);this.remove(a);this._calcBounds();this._updateObjectsCoords();return this},_onObjectAdded:function(a){a.group=this},_onObjectRemoved:function(a){delete a.group;a.set("active",!1)},delegatedProperties:{fill:!0,
opacity:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(a,c){if(a in this.delegatedProperties){var e=this._objects.length;for(this[a]=c;e--;)this._objects[e].set(a,c)}else this[a]=c},toObject:function(c){return a(this.callSuper("toObject",c),{objects:f(this._objects,"toObject",c)})},render:function(a,e){if(this.visible){a.save();this.transform(a);var d=Math.max(this.scaleX,this.scaleY);this.clipTo&&c.util.clipContext(this,
a);for(var f=0,h=this._objects.length;f<h;f++){var k=this._objects[f],v=k.borderScaleFactor,p=k.hasRotatingPoint;k.visible&&(k.borderScaleFactor=d,k.hasRotatingPoint=!1,k.render(a),k.borderScaleFactor=v,k.hasRotatingPoint=p)}this.clipTo&&a.restore();!e&&this.active&&(this.drawBorders(a),this.drawControls(a));a.restore();this.setCoords()}},_restoreObjectsState:function(){this._objects.forEach(this._restoreObjectState,this);return this},_restoreObjectState:function(a){var c=this.get("left"),e=this.get("top"),
d=this.getAngle()*(Math.PI/180),f=Math.cos(d)*a.get("top")*this.get("scaleY")+Math.sin(d)*a.get("left")*this.get("scaleX"),d=-Math.sin(d)*a.get("top")*this.get("scaleY")+Math.cos(d)*a.get("left")*this.get("scaleX");a.setAngle(a.getAngle()+this.getAngle());a.set("left",c+d);a.set("top",e+f);a.set("scaleX",a.get("scaleX")*this.get("scaleX"));a.set("scaleY",a.get("scaleY")*this.get("scaleY"));a.setCoords();a.hasControls=a.__origHasControls;delete a.__origHasControls;a.set("active",!1);a.setCoords();
delete a.group;return this},destroy:function(){return this._restoreObjectsState()},saveCoords:function(){this._originalLeft=this.get("left");this._originalTop=this.get("top");return this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){this.forEachObject(function(a){a.setCoords()});return this},_setOpacityIfSame:function(){var a=this.getObjects(),c=a[0]?a[0].get("opacity"):1;a.every(function(a){return a.get("opacity")===
c})&&(this.opacity=c)},_calcBounds:function(){var a=[],c=[],d,f;f=0;for(var h=this._objects.length;f<h;++f){d=this._objects[f];d.setCoords();for(var u in d.oCoords)a.push(d.oCoords[u].x),c.push(d.oCoords[u].y)}d=e(a);f=k(a);a=e(c);c=k(c);f=f-d||0;c=c-a||0;this.width=f;this.height=c;this.left=d+f/2||0;this.top=a+c/2||0},toSVG:function(){for(var a=[],c=0,e=this._objects.length;c<e;c++)a.push(this._objects[c].toSVG());return'<g transform="'+this.getSvgTransform()+'">'+a.join("")+"</g>"},get:function(a){if(a in
h){if(this[a])return this[a];for(var c=0,e=this._objects.length;c<e;c++)if(this._objects[c][a])return!0;return!1}return a in this.delegatedProperties?this._objects[0]&&this._objects[0].get(a):this[a]}});c.Group.fromObject=function(a,e){c.util.enlivenObjects(a.objects,function(d){delete a.objects;e&&e(new c.Group(d,a))})};c.Group.async=!0}})("undefined"!==typeof exports?exports:this);
(function(d){var c=fabric.util.object.extend;d.fabric||(d.fabric={});d.fabric.Image?fabric.warn("fabric.Image is already defined."):(fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",initialize:function(a,c){c||(c={});this.filters=[];this.callSuper("initialize",c);this._initElement(a);this._initConfig(c);c.filters&&(this.filters=c.filters,this.applyFilters())},getElement:function(){return this._element},setElement:function(a,c){this._originalElement=this._element=a;this._initConfig();
0!==this.filters.length&&this.applyFilters(c);return this},getOriginalSize:function(){var a=this.getElement();return{width:a.width,height:a.height}},render:function(a,c){if(this.visible){a.save();var d=this.transformMatrix;this.group&&"group"!==this.group.type&&a.translate(-this.group.width/2+this.width/2,-this.group.height/2+this.height/2);d&&a.transform(d[0],d[1],d[2],d[3],d[4],d[5]);c||this.transform(a);a.save();this._setShadow(a);this.clipTo&&fabric.util.clipContext(this,a);this._render(a);this.shadow&&
!this.shadow.affectStroke&&this._removeShadow(a);this._renderStroke(a);this.clipTo&&a.restore();a.restore();this.active&&!c&&(this.drawBorders(a),this.drawControls(a));a.restore()}},_stroke:function(a){a.save();a.lineWidth=this.strokeWidth;a.lineCap=this.strokeLineCap;a.lineJoin=this.strokeLineJoin;a.miterLimit=this.strokeMiterLimit;a.strokeStyle=this.stroke.toLive?this.stroke.toLive(a):this.stroke;a.beginPath();a.strokeRect(-this.width/2,-this.height/2,this.width,this.height);a.closePath();a.restore()},
_renderDashedStroke:function(a){var c=-this.width/2,d=-this.height/2,f=this.width,h=this.height;a.save();a.lineWidth=this.strokeWidth;a.lineCap=this.strokeLineCap;a.lineJoin=this.strokeLineJoin;a.miterLimit=this.strokeMiterLimit;a.strokeStyle=this.stroke.toLive?this.stroke.toLive(a):this.stroke;a.beginPath();fabric.util.drawDashedLine(a,c,d,c+f,d,this.strokeDashArray);fabric.util.drawDashedLine(a,c+f,d,c+f,d+h,this.strokeDashArray);fabric.util.drawDashedLine(a,c+f,d+h,c,d+h,this.strokeDashArray);
fabric.util.drawDashedLine(a,c,d+h,c,d,this.strokeDashArray);a.closePath();a.restore()},toObject:function(a){return c(this.callSuper("toObject",a),{src:this._originalElement.src||this._originalElement._src,filters:this.filters.map(function(a){return a&&a.toObject()})})},toSVG:function(){var a=[];a.push('<g transform="',this.getSvgTransform(),'">','<image xlink:href="',this.getSvgSrc(),'" style="',this.getSvgStyles(),'" transform="translate('+-this.width/2+" "+-this.height/2+")",'" width="',this.width,
'" height="',this.height,'"></image>');if(this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null;a.push("<rect ",'x="',-1*this.width/2,'" y="',-1*this.height/2,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>');this.fill=c}a.push("</g>");return a.join("")},getSrc:function(){return this.getElement().src||this.getElement()._src},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},clone:function(a,c){this.constructor.fromObject(this.toObject(c),
a)},applyFilters:function(a){if(0===this.filters.length)this._element=this._originalElement,a&&a();else{var c=this._originalElement,d=fabric.util.createCanvasElement(),f=fabric.util.createImage(),h=this;d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0,c.width,c.height);this.filters.forEach(function(a){a&&a.applyTo(d)});f.width=c.width;f.height=c.height;fabric.isLikelyNode?(f.src=d.toBuffer(void 0,fabric.Image.pngCompression),h._element=f,a&&a()):(f.onload=function(){h._element=
f;a&&a();f.onload=d=c=null},f.src=d.toDataURL("image/png"));return this}},_render:function(a){a.drawImage(this._element,-this.width/2,-this.height/2,this.width,this.height)},_resetWidthHeight:function(){var a=this.getElement();this.set("width",a.width);this.set("height",a.height)},_initElement:function(a){this.setElement(fabric.util.getById(a));fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(a){a||(a={});this.setOptions(a);this._setWidthHeight(a)},_initFilters:function(a,
c){a.filters&&a.filters.length?fabric.util.enlivenObjects(a.filters,function(a){c&&c(a)},"fabric.Image.filters"):c&&c()},_setWidthHeight:function(a){this.width="width"in a?a.width:this.getElement().width||0;this.height="height"in a?a.height:this.getElement().height||0},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(a,c){var d=fabric.document.createElement("img"),f=a.src;d.onload=
function(){fabric.Image.prototype._initFilters.call(a,a,function(f){a.filters=f||[];f=new fabric.Image(d,a);c&&c(f);d=d.onload=d.onerror=null})};d.onerror=function(){fabric.log("Error loading "+d.src);c&&c(null,!0);d=d.onload=d.onerror=null};d.src=f},fabric.Image.fromURL=function(a,c,d){fabric.util.loadImage(a,function(a){c(new fabric.Image(a,d))})},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat(["x","y","width","height","xlink:href"]),fabric.Image.fromElement=function(a,e,d){a=fabric.parseAttributes(a,
fabric.Image.ATTRIBUTE_NAMES);fabric.Image.fromURL(a["xlink:href"],e,c(d?fabric.util.object.clone(d):{},a))},fabric.Image.async=!0,fabric.Image.pngCompression=1)})("undefined"!==typeof exports?exports:this);fabric.Image.filters=fabric.Image.filters||{};fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}});
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Image.filters.Brightness=c.util.createClass(c.Image.filters.BaseFilter,{type:"Brightness",initialize:function(a){a=a||{};this.brightness=a.brightness||100},applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);for(var d=a.data,h=this.brightness,l=0,m=d.length;l<m;l+=4)d[l]+=h,d[l+1]+=h,d[l+2]+=h;c.putImageData(a,0,0)},toObject:function(){return a(this.callSuper("toObject"),{brightness:this.brightness})}});
c.Image.filters.Brightness.fromObject=function(a){return new c.Image.filters.Brightness(a)}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Image.filters.Convolute=c.util.createClass(c.Image.filters.BaseFilter,{type:"Convolute",initialize:function(a){a=a||{};this.opaque=a.opaque;this.matrix=a.matrix||[0,0,0,0,1,0,0,0,0];this.tmpCtx=c.util.createCanvasElement().getContext("2d")},_createImageData:function(a,c){return this.tmpCtx.createImageData(a,c)},applyTo:function(a){var c=this.matrix,d=a.getContext("2d"),h=d.getImageData(0,0,a.width,a.height);a=Math.round(Math.sqrt(c.length));
for(var l=Math.floor(a/2),m=h.data,q=h.width,h=h.height,n=this._createImageData(q,h),t=n.data,u=this.opaque?1:0,v=0;v<h;v++)for(var p=0;p<q;p++){for(var w=v,x=p,z=4*(v*q+p),y=0,E=0,D=0,A=0,B=0;B<a;B++)for(var F=0;F<a;F++){var C=w+B-l,H=x+F-l;0<=C&&C<h&&0<=H&&H<q&&(C=4*(C*q+H),H=c[B*a+F],y+=m[C]*H,E+=m[C+1]*H,D+=m[C+2]*H,A+=m[C+3]*H)}t[z]=y;t[z+1]=E;t[z+2]=D;t[z+3]=A+u*(255-A)}d.putImageData(n,0,0)},toObject:function(){return a(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}});
c.Image.filters.Convolute.fromObject=function(a){return new c.Image.filters.Convolute(a)}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Image.filters.GradientTransparency=c.util.createClass(c.Image.filters.BaseFilter,{type:"GradientTransparency",initialize:function(a){a=a||{};this.threshold=a.threshold||100},applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);for(var d=a.data,h=this.threshold,l=d.length,m=0,q=d.length;m<q;m+=4)d[m+3]=h+255*(l-m)/l;c.putImageData(a,0,0)},toObject:function(){return a(this.callSuper("toObject"),{threshold:this.threshold})}});
c.Image.filters.GradientTransparency.fromObject=function(a){return new c.Image.filters.GradientTransparency(a)}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={});c.Image.filters.Grayscale=c.util.createClass(c.Image.filters.BaseFilter,{type:"Grayscale",applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);for(var d=a.data,f=a.width*a.height*4,h=0,l;h<f;)l=(d[h]+d[h+1]+d[h+2])/3,d[h]=l,d[h+1]=l,d[h+2]=l,h+=4;c.putImageData(a,0,0)}});c.Image.filters.Grayscale.fromObject=function(){return new c.Image.filters.Grayscale}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={});c.Image.filters.Invert=c.util.createClass(c.Image.filters.BaseFilter,{type:"Invert",applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);var d=a.data,f=d.length,h;for(h=0;h<f;h+=4)d[h]=255-d[h],d[h+1]=255-d[h+1],d[h+2]=255-d[h+2];c.putImageData(a,0,0)}});c.Image.filters.Invert.fromObject=function(){return new c.Image.filters.Invert}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Image.filters.Mask=c.util.createClass(c.Image.filters.BaseFilter,{type:"Mask",initialize:function(a){a=a||{};this.mask=a.mask;this.channel=-1<[0,1,2,3].indexOf(a.channel)?a.channel:0},applyTo:function(a){if(this.mask){var d=a.getContext("2d");a=d.getImageData(0,0,a.width,a.height);var f=a.data,h=this.mask.getElement(),l=c.util.createCanvasElement(),m=this.channel,q=a.width*a.height*4;l.width=h.width;l.height=h.height;l.getContext("2d").drawImage(h,
0,0,h.width,h.height);l=l.getContext("2d").getImageData(0,0,h.width,h.height).data;for(h=0;h<q;h+=4)f[h+3]=l[h+m];d.putImageData(a,0,0)}},toObject:function(){return a(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}});c.Image.filters.Mask.fromObject=function(a,d){var f=c.document.createElement("img"),h=a.mask.src;f.onload=function(){a.mask=new c.Image(f,a.mask);d&&d(new c.Image.filters.Mask(a));f=f.onload=f.onerror=null};f.onerror=function(){c.log("Error loading "+f.src);
d&&d(null,!0);f=f.onload=f.onerror=null};f.src=h};c.Image.filters.Mask.async=!0})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Image.filters.Noise=c.util.createClass(c.Image.filters.BaseFilter,{type:"Noise",initialize:function(a){a=a||{};this.noise=a.noise||100},applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);for(var d=a.data,h=this.noise,l,m=0,q=d.length;m<q;m+=4)l=(.5-Math.random())*h,d[m]+=l,d[m+1]+=l,d[m+2]+=l;c.putImageData(a,0,0)},toObject:function(){return a(this.callSuper("toObject"),{noise:this.noise})}});c.Image.filters.Noise.fromObject=
function(a){return new c.Image.filters.Noise(a)}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Image.filters.Pixelate=c.util.createClass(c.Image.filters.BaseFilter,{type:"Pixelate",initialize:function(a){a=a||{};this.blocksize=a.blocksize||4},applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);var d=a.data,h=a.height,l=a.width,m,q,n,t,u,v,p;for(q=0;q<h;q+=this.blocksize)for(n=0;n<l;n+=this.blocksize){m=4*q*l+4*n;t=d[m];u=d[m+1];v=d[m+2];p=d[m+3];for(var w=q,x=q+this.blocksize;w<x;w++)for(var z=
n,y=n+this.blocksize;z<y;z++)m=4*w*l+4*z,d[m]=t,d[m+1]=u,d[m+2]=v,d[m+3]=p}c.putImageData(a,0,0)},toObject:function(){return a(this.callSuper("toObject"),{blocksize:this.blocksize})}});c.Image.filters.Pixelate.fromObject=function(a){return new c.Image.filters.Pixelate(a)}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Image.filters.RemoveWhite=c.util.createClass(c.Image.filters.BaseFilter,{type:"RemoveWhite",initialize:function(a){a=a||{};this.threshold=a.threshold||30;this.distance=a.distance||20},applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);for(var d=a.data,h=this.distance,l=255-this.threshold,m=Math.abs,q,n,t,u=0,v=d.length;u<v;u+=4)q=d[u],n=d[u+1],t=d[u+2],q>l&&n>l&&t>l&&m(q-n)<h&&m(q-t)<h&&m(n-t)<h&&
(d[u+3]=1);c.putImageData(a,0,0)},toObject:function(){return a(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}});c.Image.filters.RemoveWhite.fromObject=function(a){return new c.Image.filters.RemoveWhite(a)}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={});c.Image.filters.Sepia=c.util.createClass(c.Image.filters.BaseFilter,{type:"Sepia",applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);var d=a.data,f=d.length,h,l;for(h=0;h<f;h+=4)l=.3*d[h]+.59*d[h+1]+.11*d[h+2],d[h]=l+100,d[h+1]=l+50,d[h+2]=l+255;c.putImageData(a,0,0)}});c.Image.filters.Sepia.fromObject=function(){return new c.Image.filters.Sepia}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={});c.Image.filters.Sepia2=c.util.createClass(c.Image.filters.BaseFilter,{type:"Sepia2",applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);var d=a.data,f=d.length,h,l,m,q;for(h=0;h<f;h+=4)l=d[h],m=d[h+1],q=d[h+2],d[h]=(.393*l+.769*m+.189*q)/1.351,d[h+1]=(.349*l+.686*m+.168*q)/1.203,d[h+2]=(.272*l+.534*m+.131*q)/2.14;c.putImageData(a,0,0)}});c.Image.filters.Sepia2.fromObject=function(){return new c.Image.filters.Sepia2}})("undefined"!==
typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend;c.Image.filters.Tint=c.util.createClass(c.Image.filters.BaseFilter,{type:"Tint",initialize:function(a){a=a||{};this.color=a.color||0},applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);var d=a.data,h=d.length,l,m;for(l=parseInt(this.color,10).toString(16);6>l.length;)l="0"+l;var q=parseInt("0x"+l.substr(0,2),16),n=parseInt("0x"+l.substr(2,2),16),t=parseInt("0x"+l.substr(4,2),16);for(l=0;l<h;l+=4)m=d[l+
3],0<m&&(d[l]=q,d[l+1]=n,d[l+2]=t);c.putImageData(a,0,0)},toObject:function(){return a(this.callSuper("toObject"),{color:this.color})}});c.Image.filters.Tint.fromObject=function(a){return new c.Image.filters.Tint(a)}})("undefined"!==typeof exports?exports:this);
(function(d){var c=d.fabric||(d.fabric={}),a=c.util.object.extend,e=c.util.object.clone,k=c.util.toFixed,f=c.StaticCanvas.supports("setLineDash");c.Text?c.warn("fabric.Text is already defined"):(d=c.Object.prototype.stateProperties.concat(),d.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","backgroundColor","textBackgroundColor","useNative","path"),c.Text=c.util.createClass(c.Object,{_dimensionAffectingProps:{fontSize:!0,fontWeight:!0,fontFamily:!0,
textDecoration:!0,fontStyle:!0,lineHeight:!0,stroke:!0,strokeWidth:!0,text:!0},type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.3,backgroundColor:"",textBackgroundColor:"",path:null,useNative:!0,stateProperties:d,stroke:null,shadow:null,initialize:function(a,c){c=c||{};this.text=a;this.__skipDimension=!0;this.setOptions(c);this.__skipDimension=!1;this._initDimensions();this.setCoords()},_initDimensions:function(){if(!this.__skipDimension){var a=
c.util.createCanvasElement();this._render(a.getContext("2d"))}},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_render:function(a){var c=this.group&&"group"!==this.group.type;c&&!this.transformMatrix?a.translate(-this.group.width/2+this.left,-this.group.height/2+this.top):c&&this.transformMatrix&&a.translate(-this.group.width/2,-this.group.height/2);"undefined"===typeof Cufon||!0===this.useNative?this._renderViaNative(a):
this._renderViaCufon(a)},_renderViaNative:function(a){this.transform(a,c.isLikelyNode);this._setTextStyles(a);var d=this.text.split(/\r?\n/);this.width=this._getTextWidth(a,d);this.height=this._getTextHeight(a,d);this.clipTo&&c.util.clipContext(this,a);this._renderTextBackground(a,d);"left"!==this.textAlign&&"justify"!==this.textAlign&&(a.save(),a.translate("center"===this.textAlign?this.width/2:this.width,0));a.save();this._setShadow(a);this._renderTextFill(a,d);this._renderTextStroke(a,d);this._removeShadow(a);
a.restore();"left"!==this.textAlign&&"justify"!==this.textAlign&&a.restore();this._renderTextDecoration(a,d);this.clipTo&&a.restore();this._setBoundaries(a,d);this._totalLineHeight=0},_setBoundaries:function(a,c){this._boundaries=[];for(var d=0,e=c.length;d<e;d++){var f=this._getLineWidth(a,c[d]),k=this._getLineLeftOffset(f);this._boundaries.push({height:this.fontSize*this.lineHeight,width:f,left:k})}},_setTextStyles:function(a){this.fill&&(a.fillStyle=this.fill.toLive?this.fill.toLive(a):this.fill);
this.stroke&&(a.lineWidth=this.strokeWidth,a.lineCap=this.strokeLineCap,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,a.strokeStyle=this.stroke.toLive?this.stroke.toLive(a):this.stroke);a.textBaseline="alphabetic";a.textAlign=this.textAlign;a.font=this._getFontDeclaration()},_getTextHeight:function(a,c){return this.fontSize*c.length*this.lineHeight},_getTextWidth:function(a,c){for(var d=a.measureText(c[0]).width,e=1,f=c.length;e<f;e++){var k=a.measureText(c[e]).width;k>d&&(d=k)}return d},
_drawChars:function(a,c,d,e,f){c[a](d,e,f)},_drawTextLine:function(a,c,d,e,f,k){f-=this.fontSize/4;if("justify"!==this.textAlign)this._drawChars(a,c,d,e,f,k);else{var u=c.measureText(d).width,v=this.width;if(v>u){u=d.split(/\s+/);d=c.measureText(d.replace(/\s+/g,"")).width;for(var v=(v-d)/(u.length-1),p=d=0,w=u.length;p<w;p++)this._drawChars(a,c,u[p],e+d,f,k),d+=c.measureText(u[p]).width+v}else this._drawChars(a,c,d,e,f,k)}},_getLeftOffset:function(){return!c.isLikelyNode||"left"!==this.originX&&
"center"!==this.originX?-this.width/2:0},_getTopOffset:function(){return c.isLikelyNode?"center"===this.originY?-this.height/2:"bottom"===this.originY?-this.height:0:-this.height/2},_renderTextFill:function(a,c){if(this.fill||this.skipFillStrokeCheck){this._boundaries=[];for(var d=0,e=0,f=c.length;e<f;e++){var k=this._getHeightOfLine(a,e,c),d=d+k;this._drawTextLine("fillText",a,c[e],this._getLeftOffset(),this._getTopOffset()+d,e)}}},_renderTextStroke:function(a,c){if(this.stroke||this.skipFillStrokeCheck){var d=
0;a.save();this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),f&&a.setLineDash(this.strokeDashArray));a.beginPath();for(var e=0,k=c.length;e<k;e++){var t=this._getHeightOfLine(a,e,c),d=d+t;this._drawTextLine("strokeText",a,c[e],this._getLeftOffset(),this._getTopOffset()+d,e)}a.closePath();a.restore()}},_getHeightOfLine:function(){return this.fontSize*this.lineHeight},_renderTextBackground:function(a,c){this._renderTextBoxBackground(a);
this._renderTextLinesBackground(a,c)},_renderTextBoxBackground:function(a){this.backgroundColor&&(a.save(),a.fillStyle=this.backgroundColor,a.fillRect(this._getLeftOffset(),this._getTopOffset(),this.width,this.height),a.restore())},_renderTextLinesBackground:function(a,c){if(this.textBackgroundColor){a.save();a.fillStyle=this.textBackgroundColor;for(var d=0,e=c.length;d<e;d++)if(""!==c[d]){var f=this._getLineWidth(a,c[d]),k=this._getLineLeftOffset(f);a.fillRect(this._getLeftOffset()+k,this._getTopOffset()+
d*this.fontSize*this.lineHeight,f,this.fontSize*this.lineHeight)}a.restore()}},_getLineLeftOffset:function(a){return"center"===this.textAlign?(this.width-a)/2:"right"===this.textAlign?this.width-a:0},_getLineWidth:function(a,c){return"justify"===this.textAlign?this.width:a.measureText(c).width},_renderTextDecoration:function(a,c){function d(k){for(var m=0,p=c.length;m<p;m++){var t=f._getLineWidth(a,c[m]),x=f._getLineLeftOffset(t);a.fillRect(f._getLeftOffset()+x,k+m*f._getHeightOfLine(a,m,c)-e,t,1)}}
if(this.textDecoration){var e=this._getTextHeight(a,c)/2,f=this,k=this.fontSize/4;-1<this.textDecoration.indexOf("underline")&&d(this.fontSize*this.lineHeight);-1<this.textDecoration.indexOf("line-through")&&d(this.fontSize*this.lineHeight-k);-1<this.textDecoration.indexOf("overline")&&d(k)}},_getFontDeclaration:function(){return[c.isLikelyNode?this.fontWeight:this.fontStyle,c.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",c.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},
render:function(a,c){this.visible&&(a.save(),this._render(a),!c&&this.active&&(this.drawBorders(a),this.drawControls(a)),a.restore())},toObject:function(c){return a(this.callSuper("toObject",c),{text:this.text,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,fontStyle:this.fontStyle,lineHeight:this.lineHeight,textDecoration:this.textDecoration,textAlign:this.textAlign,path:this.path,backgroundColor:this.backgroundColor,textBackgroundColor:this.textBackgroundColor,useNative:this.useNative})},
toSVG:function(){var a=this.text.split(/\r?\n/),c=this.useNative?this.fontSize*this.lineHeight:-this._fontAscent-this._fontAscent/5*this.lineHeight,d=-(this.width/2),e=this.useNative?this.fontSize-1:this.height/2-a.length*this.fontSize-this._totalLineHeight,f=this._getSVGTextAndBg(c,d,a),a=this._getSVGShadows(c,a),e=e+(this._fontAscent?this._fontAscent/5*this.lineHeight:0);return['<g transform="',this.getSvgTransform(),'">',f.textBgRects.join(""),"<text ",this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,
"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(),'" transform="translate(',k(d,2)," ",k(e,2),')">',a.join(""),f.textSpans.join(""),"</text></g>"].join("")},_getSVGShadows:function(a,d){var e=[],f,n,t=1;if(!this.shadow||!this._boundaries)return e;f=0;for(n=d.length;f<n;f++)""!==d[f]?
(e.push('<tspan x="',k((this._boundaries&&this._boundaries[f]?this._boundaries[f].left:0)+t+this.shadow.offsetX,2),0===f||this.useNative?'" y':'" dy','="',k(this.useNative?a*f-this.height/2+this.shadow.offsetY:a+(0===f?this.shadow.offsetY:0),2),'" ',this._getFillAttributes(this.shadow.color),">",c.util.string.escapeXml(d[f]),"</tspan>"),t=1):t++;return e},_getSVGTextAndBg:function(a,d,e){var f=[],n=[],t,u,v,p=1;this.backgroundColor&&this._boundaries&&n.push("<rect ",this._getFillAttributes(this.backgroundColor),
' x="',k(-this.width/2,2),'" y="',k(-this.height/2,2),'" width="',k(this.width,2),'" height="',k(this.height,2),'"></rect>');t=0;for(v=e.length;t<v;t++)""!==e[t]?(u=this._boundaries&&this._boundaries[t]?k(this._boundaries[t].left,2):0,f.push('<tspan x="',u,'" ',0===t||this.useNative?"y":"dy",'="',k(this.useNative?a*t-this.height/2:a*p,2),'" ',this._getFillAttributes(this.fill),">",c.util.string.escapeXml(e[t]),"</tspan>"),p=1):p++,this.textBackgroundColor&&this._boundaries&&n.push("<rect ",this._getFillAttributes(this.textBackgroundColor),
' x="',k(d+this._boundaries[t].left,2),'" y="',k(a*t-this.height/2,2),'" width="',k(this._boundaries[t].width,2),'" height="',k(this._boundaries[t].height,2),'"></rect>');return{textSpans:f,textBgRects:n}},_getFillAttributes:function(a){var d=a&&"string"===typeof a?new c.Color(a):"";return d&&d.getSource()&&1!==d.getAlpha()?'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"':'fill="'+a+'"'},_set:function(a,c){"fontFamily"===a&&this.path&&(this.path=this.path.replace(/(.*?)([^\/]*)(\.font\.js)/,
"$1"+c+"$3"));this.callSuper("_set",a,c);a in this._dimensionAffectingProps&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),c.Text.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("x y font-family font-style font-weight font-size text-decoration".split(" ")),c.Text.fromElement=function(a,d){if(!a)return null;var e=c.parseAttributes(a,c.Text.ATTRIBUTE_NAMES);d=c.util.object.extend(d?c.util.object.clone(d):{},e);e=new c.Text(a.textContent,d);e.set({left:e.getLeft()+e.getWidth()/
2,top:e.getTop()-e.getHeight()/2});return e},c.Text.fromObject=function(a){return new c.Text(a.text,e(a))},c.util.createAccessors(c.Text))})("undefined"!==typeof exports?exports:this);
fabric.util.object.extend(fabric.Text.prototype,{_renderViaCufon:function(d){var c=Cufon.textOptions||(Cufon.textOptions={});c.left=this.left;c.top=this.top;c.context=d;c.color=this.fill;var a=this._initDummyElementForCufon();this.transform(d);Cufon.replaceElement(a,{engine:"canvas",separate:"none",fontFamily:this.fontFamily,fontWeight:this.fontWeight,textDecoration:this.textDecoration,textShadow:this.shadow&&this.shadow.toString(),textAlign:this.textAlign,fontStyle:this.fontStyle,lineHeight:this.lineHeight,
stroke:this.stroke,strokeWidth:this.strokeWidth,backgroundColor:this.backgroundColor,textBackgroundColor:this.textBackgroundColor});this.width=c.width;this.height=c.height;this._totalLineHeight=c.totalLineHeight;this._fontAscent=c.fontAscent;this._boundaries=c.boundaries;this.setCoords()},_initDummyElementForCufon:function(){var d=fabric.document.createElement("pre");fabric.document.createElement("div").appendChild(d);"undefined"===typeof G_vmlCanvasManager?d.innerHTML=this.text:d.innerText=this.text.replace(/\r?\n/gi,
"\r");d.style.fontSize=this.fontSize+"px";d.style.letterSpacing="normal";return d}});
(function(){function d(a,c,d){var h=e.parse(a);h.port||(h.port=0===h.protocol.indexOf("https:")?443:80);a=(443===h.port?f:k).request({hostname:h.hostname,port:h.port,path:h.path,method:"GET"},function(a){var e="";c&&a.setEncoding(c);a.on("end",function(){d(e)});a.on("data",function(c){200===a.statusCode&&(e+=c)})});a.on("error",function(a){a.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+h.hostname+":"+h.port):fabric.log(a.message)});a.end()}function c(a,c){require("fs").readFile(a,
function(a,d){if(a)throw fabric.log(a),a;c(d)})}if("undefined"===typeof document||"undefined"===typeof window){var a=(new require("xmldom")).DOMParser,e=require("url"),k=require("http"),f=require("https"),h=require("canvas"),l=require("canvas").Image;fabric.util.loadImage=function(a,e,f){var h=function(c){k.src=new Buffer(c,"binary");k._src=a;e&&e.call(f,k)},k=new l;a&&(a instanceof Buffer||0===a.indexOf("data"))?(k.src=k._src=a,e&&e.call(f,k)):a&&0!==a.indexOf("http")?c(a,h):a&&d(a,"binary",h)};
fabric.loadSVGFromURL=function(a,e,f){a=a.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim();0!==a.indexOf("http")?c(a,function(a){fabric.loadSVGFromString(a,e,f)}):d(a,"",function(a){fabric.loadSVGFromString(a,e,f)})};fabric.loadSVGFromString=function(c,d,e){c=(new a).parseFromString(c);fabric.parseSVGDocument(c.documentElement,function(a,c){d&&d(a,c)},e)};fabric.util.getScript=function(a,c){d(a,"",function(a){eval(a);c&&c()})};fabric.Image.fromObject=function(a,c){fabric.util.loadImage(a.src,function(d){var e=
new fabric.Image(d);e._initConfig(a);e._initFilters(a,function(a){e.filters=a||[];c&&c(e)})})};fabric.createCanvasForNode=function(a,c){var d=fabric.document.createElement("canvas"),e=new h(a||600,c||600);d.style={};d.width=e.width;d.height=e.height;d=new (fabric.Canvas||fabric.StaticCanvas)(d);d.contextContainer=e.getContext("2d");d.nodeCanvas=e;d.Font=h.Font;return d};fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()};fabric.StaticCanvas.prototype.createJPEGStream=
function(a){return this.nodeCanvas.createJPEGStream(a)};var m=fabric.StaticCanvas.prototype.setWidth;fabric.StaticCanvas.prototype.setWidth=function(a){m.call(this,a);this.nodeCanvas.width=a;return this};fabric.Canvas&&(fabric.Canvas.prototype.setWidth=fabric.StaticCanvas.prototype.setWidth);var q=fabric.StaticCanvas.prototype.setHeight;fabric.StaticCanvas.prototype.setHeight=function(a){q.call(this,a);this.nodeCanvas.height=a;return this};fabric.Canvas&&(fabric.Canvas.prototype.setHeight=fabric.StaticCanvas.prototype.setHeight)}})();
var Assets={firstRun:!0,LAYER_ALL:null,LAYER_TOP:null,LAYER_MID:null,LAYER_BOT:null,DATA_SITE:null,DATA_STATIC:null,DATA_PAGES:null,DATA_URL:null,CDN_URL_SMALL:"",CDN_URL_LARGE:"",SITE_VERSION:"",SCROLLBAR_WIDTH:0,CULTURE_ARR:[],CAT_ANIMATION_RUN:!1,HOME_CAT:null,DELAY_CASE_IMAGES:!1,FIRST_PAGE_TRANSITION:!0,getWindowWidth:function(){return document.documentElement.clientWidth-Assets.SCROLLBAR_WIDTH},getWindowHeight:function(){return window.innerHeight},getScrollbarWidth:function(){var d=document.createElement("div");
d.className="scrollbar-measure";document.body.appendChild(d);var c=d.offsetWidth-d.clientWidth;document.body.removeChild(d);return c},hideAllInvisibleChildren:function(d,c){return!1},showAllInvisibleChildren:function(d,c){return!1},getTransparentBg:function(){var d=AssetLoader.getAsset("assets/images/ui/transparent.gif");d.style.position="absolute";d.style.width="100%";d.style.height="100%";d.style.display="block";d.style.pointerEvents="none";d.style.top=0;d.style.left=0;return d}};
(function(){var d=document.getElementsByTagName("head")[0]||document.documentElement;this.load=function(c){var a;a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");c.url=c.url||location.href;c.data=c.data||null;c.type=c.type||"json";c.action=c.action||"GET";var e=c.callback||function(){},k=c.callbackError||function(){};if("jsonp"==c.type){var f="_"+Math.random().toString(36).substring(7),h=document.createElement("script");window[f]=function(a){e(a)};c.url=c.url.replace("callback=?",
"callback="+f);h.src=c.url;d.appendChild(h)}else"json"==c.type&&(a.onreadystatechange=function(){4==a.readyState&&(300>a.status?(e(a.responseText),a=a.onreadystatechange=null):300<a.status&&(k(),a=a.onreadystatechange=null))});a.open(c.action,c.url,!0);a.send(c.data);return a};window.HM_JSON=this;return this})();String.prototype.trunc=function(d,c){var a=this.length>d,e=a?this.substr(0,d-1):this,e=c&&a?e.substr(0,e.lastIndexOf(" ")):e;return a?e+"&hellip;":e};
Array.prototype.remove=function(d){var c=this.indexOf(d);-1!=this.indexOf(d)&&this.splice(c,0)};Array.prototype.contains=function(d){for(var c=this.length;c--;)if(this[c]===d)return!0;return!1};Array.prototype.move=function(d,c){this.splice(c,0,this.splice(d,1)[0])};Object.size=function(d){var c=0,a;for(a in d)d.hasOwnProperty(a)&&c++;return c};
(function(){for(var d,c=function(){},a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),e=a.length,k=window.console=window.console||{};e--;)d=a[e],k[d]||(k[d]=c)})();window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(d){window.setTimeout(d,1E3/60)}}();
function AnimationSequence(d,c,a){function e(){q.curFrame++;u&&q.curFrame>v?l.pause():q.curFrame>q.totalFrames?l.loop?(q.curFrame=0,h(),f()):(l.pause(),q.curFrame=q.totalFrames):(h(),f())}function k(){q.curFrame--;0>q.curFrame?l.loop?(q.curFrame=q.totalFrames,h(),f()):(l.pause(),q.curFrame=0):(h(),f())}function f(){t&&l.removeChild(t);t=m[q.curFrame];l.appendChild(t)}function h(){a&&a(q.curFrame)}var l=new SmartObject,m=d,q={curFrame:0,totalFrames:d.length-1},n,t,u=!1,v;l.play=function(a){a||(u=!1);
n&&clearInterval(n);h();n=setInterval(e,1E3/c)};l.reverse=function(){n&&clearInterval(n);h();n=setInterval(k,1E3/c)};l.changeFrameRate=function(a,c){n&&clearInterval(n);n="reverse"===c?setInterval(k,1E3/a):setInterval(e,1E3/a)};l.stop=function(){n&&clearInterval(n);q.curFrame=0};l.pause=function(){n&&clearInterval(n)};l.gotoAndPlay=function(a){if(a<=q.totalFrames&&0<=a)l.stop(),q.curFrame=a,l.play();else throw Error("Animation.gotoAndPlay: out of bounds!");};l.playTo=function(a){l.stop();v=a;u=!0;
l.play(!0)};l.gotoAndStop=function(a){l.stop();q.curFrame=a;f()};l.kill=function(){l.stop();d=m=q=null};l.loop=!1;t=m[0];l.appendChild(t);return l}
function ScrollDisabler(){function d(a){a=a||window.event;a.preventDefault&&a.preventDefault();a.returnValue=!1}var c={},a=navigator.userAgent.match("CriOS");c.disable_scroll=function(){document.addEventListener("touchmove",d);if(a)return!1;Assets.LAYER_ALL.style.overflowY="hidden"};c.enable_scroll=function(){document.removeEventListener("touchmove",d);if(a)return!1;Assets.LAYER_ALL.style.overflowY=Assets.all_overflow};return c}
function CaseTemplate(d){function c(){if(A&&1!=ia){var c=X[ha];c._bkgSrc?preloadImg=document.createElement("img"):c._isVid?(preloadImg=document.createElement("img"),preloadImg._vid=c):preloadImg=c;preloadImg._order=ha;ba.push(preloadImg);ha++;preloadImg.addEventListener(Event.LOAD,a);preloadImg.src=c._bkgSrc?c._bkgSrc:c._src}}function a(a){A&&1!=ia&&(1==ha?(M.style.backgroundImage="url("+this.src+")",TweenMax.to(M,BrowserDetect.MOBILE||BrowserDetect.TABLET?0:.5,{_opacity:1,ease:Linear.easeNone}),
!0!==Assets.DELAY_CASE_IMAGES&&ha<X.length&&c()):ha<X.length&&c(),this._vid&&TweenMax.to(this._vid,.3,{_opacity:1,ease:Linear.easeNone}),this._isImg&&(TweenMax.to(this._wrap,.3,{_opacity:1,ease:Linear.easeNone}),this._wrap.style.height="auto"),this._order==X.length-1&&x())}function e(){x();window.addEventListener("resize",x);Assets.LAYER_MID.appendChild(A);ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(B.getAttribute("data-path"));C._x=40;C._y=40;var a=C._opacity=0;Assets.DELAY_CASE_IMAGES||
(a=.7);TweenMax.to(C,Assets.PAGE_TRANSTION_SPEED,{_x:92,delay:a,ease:Expo.easeInOut,onComplete:function(){ra=!0}});TweenMax.to(C,.2,{_opacity:1,delay:a,ease:Linear.easeNone});a=520>Assets.getWindowWidth()?Assets.getWindowHeight()-79:Assets.getWindowHeight()-260;BrowserDetect.MOBILE||BrowserDetect.TABLET?(L._y=a,F=!0):TweenMax.to(L,.5,{_y:a,ease:Expo.easeOut,delay:.5,onComplete:function(){F=!0}})}function k(a){var c=new SmartObject;c.style.width=Assets.getWindowWidth()+"px";c.style.clear="both";c.style.zIndex=
2;c.style.top=0;c.style.left=0;var d=a.getAttribute("data-video-height")/a.getAttribute("data-video-width"),e=Assets.getWindowWidth()*d;c.style.height=e+"px";c._ratio=d;c._opacity=0;var k=document.createElement("video"),n=-1<navigator.userAgent.toLowerCase().indexOf("android");k.src="Firefox"==BrowserDetect.BROWSER_NAME&&34>=BrowserDetect.BROWSER_VERSION?Assets.CDN_URL_LARGE+"assets/videos/projects/"+a.getAttribute("data-video-webm"):1==n?Assets.CDN_URL_LARGE+"assets/videos/projects/"+a.getAttribute("data-video-webm-mobile"):
1==BrowserDetect.TABLET||1==BrowserDetect.MOBILE?Assets.CDN_URL_LARGE+"assets/videos/projects/"+a.getAttribute("data-video-mobile"):Assets.CDN_URL_LARGE+"assets/videos/projects/"+a.getAttribute("data-video");k.style.zIndex=7;k._isPlaying=!1;k._isMetaLoaded=!1;k.addEventListener("ended",h);c._video=k;k._videoWrap=c;d=new SmartObject;d.style.top=0;d.style.left=0;d.style.width="100%";d.style.height="100%";n=1<window.devicePixelRatio;n=(1==BrowserDetect.MOBILE?1==n?Assets.CDN_URL_SMALL+"assets/images/projects/tablet/":
Assets.CDN_URL_SMALL+"assets/images/projects/mobile/":1==BrowserDetect.TABLET?1==n?Assets.CDN_URL_SMALL+"assets/images/projects/desktop/":Assets.CDN_URL_SMALL+"assets/images/projects/tablet/":Assets.CDN_URL_SMALL+"assets/images/projects/desktop/")+a.getAttribute("data-image");d.style.backgroundImage="url("+n+")";d.style.backgroundSize="cover";d.style.backgroundPosition="center center";d.style.pointerEvents="none";d.style.zIndex=9;c._poster=d;c.appendChild(d);d=new SmartObject;d.style.width="108px";
d.style.height="108px";d.style.borderRadius="54px";e=new SmartObject;e.style.width="108px";e.style.height="108px";e.style.borderRadius="54px";e.style.backgroundColor="#"+a.getAttribute("data-buttonColor");e._opacity=.4;d.appendChild(e);e=new SmartObject;e.style.width="78px";e.style.height="78px";e.style.borderRadius="39px";e.style.backgroundColor="#"+a.getAttribute("data-buttonColor");e._opacity=1;e._x=15;e._y=15;d.appendChild(e);e=new ArrowButton("right",null,"#"+a.getAttribute("data-buttonColor"),
null,{_options:{speed:.5}});e._x=30;e._y=30;e.removeEvents();d._innerButton=e;d.appendChild(e);d.style.cursor="pointer";d.style.zIndex=10;d._x=(Assets.getWindowWidth()-108)/2;c._playBtn=d;d.addEventListener("mouseover",m);d.addEventListener("mouseout",q);c.appendChild(d);c._height=a.getAttribute("data-video-height");BrowserDetect.MOBILE||BrowserDetect.TABLET?(k.style.width="100%",d=a.getAttribute("data-video-height")/a.getAttribute("data-video-width"),k._ratio=d,e=Assets.getWindowWidth()*d,k.style.height=
e+"px",k._videoWrap._playBtn._y=(e-108)/2,k._videoWrap.style.height=e+"px",k._videoWrap.addEventListener("click",l),k._isMetaLoaded=!0):(k.style.width="100%",d=a.getAttribute("data-video-height")/a.getAttribute("data-video-width"),k._ratio=d,e=Assets.getWindowWidth()*d,k.style.height=e+"px",k._videoWrap._playBtn._y=(e-108)/2,k._videoWrap.style.height=e+"px",k.addEventListener("loadedmetadata",f));c.appendChild(k);c._isVid=!0;c._src=n;X.push(c);return c}function f(a){this.style.width="100%";this._ratio=
a=this.videoHeight/this.videoWidth;a*=Assets.getWindowWidth();this.style.height=a+"px";this._videoWrap._playBtn._y=(a-108)/2;this._videoWrap.style.height=a+"px";this._videoWrap.addEventListener("click",l);this._isMetaLoaded=!0}function h(a){this.parentNode._poster.style.display="block";TweenMax.to(this.parentNode._poster,.2,{_opacity:1,ease:Linear.easeNone});TweenMax.to(this.parentNode._playBtn,.2,{_opacity:1,ease:Linear.easeNone});this._isPlaying=!1}function l(a){if(0==this._video._isPlaying){this._video._isPlaying=
!0;var c=this;TweenMax.to(this._poster,.2,{_opacity:0,ease:Linear.easeNone,onComplete:function(){c._poster.style.display="none"}});TweenMax.to(this._playBtn,.3,{delay:.3,_opacity:0,ease:Linear.easeNone});this._playBtn._innerButton.mouseOut();this._playBtn._innerButton.onClick();this._video.play()}else this._video._isPlaying=!1,TweenMax.to(this._playBtn,.2,{_opacity:1,ease:Linear.easeNone}),this._video.pause()}function m(a){1!=this.parentNode._video._isPlaying&&this._innerButton.mouseOver()}function q(a){1!=
this.parentNode._video._isPlaying&&this._innerButton.mouseOut()}function n(a){ta||(ta=!0,history.back())}function t(){if(!la)return!1;var a=1-Assets.LAYER_ALL.scrollTop/(Assets.getWindowHeight()/1.2);clearInterval(G.idleTimer);M._opacity=a;M._y=Assets.LAYER_ALL.scrollTop/2}function u(a){if(1!=J){J=!0;if(0==I){TweenMax.to(H,.15,{_rotation:-90,ease:Circ.easeInOut});a=P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+S.offsetHeight+60>O._getHeight()+20?O._y+P._columnOne.offsetHeight+P._columnTwo.offsetHeight+
10+S.offsetHeight+100:O._y+O._getHeight()+20;TweenMax.to(L,.5,{css:{height:a+"px"},ease:Quad.easeInOut});a=a+M._getHeight()-79+20;for(var c=0;c<fa.length;c++)TweenMax.to(fa[c],.5,{_y:a,ease:Quad.easeInOut}),a+=fa[c]._getHeight();TweenMax.to(A,.5,{css:{height:a+"px"},ease:Quad.easeInOut});I=!0}else{TweenMax.to(H,.15,{_rotation:0,ease:Circ.easeInOut});TweenMax.to(L,.5,{css:{height:"79px"},ease:Quad.easeInOut});a=M._getHeight();for(c=0;c<fa.length;c++)TweenMax.to(fa[c],.5,{_y:a,ease:Quad.easeInOut}),
a+=fa[c]._getHeight();TweenMax.to(A,.5,{css:{height:a+"px"},ease:Quad.easeInOut});I=!1}V=setTimeout(v,1E3)}}function v(){J=!1}function p(a){TweenMax.to(Assets.LAYER_ALL,.7,{scrollTo:{y:Assets.getWindowHeight()},ease:Power2.easeOut})}function w(a){var c=new SmartObject;c.style.width=Assets.getWindowWidth()+"px";var d=a.getAttribute("data-height")/a.getAttribute("data-width");c.style.height=Math.round(Assets.getWindowWidth()*d)+"px";c.style.overflow="hidden";c.style.clear="both";c.style.display="block";
c.style.top=0;c.style.left=0;c._opacity=0;d=new SmartObject(document.createElement("img"));d.style.position="relative";d.style.verticalAlign="top";d._wrap=c;d._isImg=!0;var e=1<window.devicePixelRatio;d._src=(1==BrowserDetect.MOBILE?1==e?Assets.CDN_URL_SMALL+"assets/images/projects/tablet/":Assets.CDN_URL_SMALL+"assets/images/projects/mobile/":1==BrowserDetect.TABLET?1==e?Assets.CDN_URL_SMALL+"assets/images/projects/desktop/":Assets.CDN_URL_SMALL+"assets/images/projects/tablet/":Assets.CDN_URL_SMALL+
"assets/images/projects/desktop/")+a.getAttribute("data-image");X.push(d);d.style.width="100%";d.style.height="auto";c.appendChild(d);return c}function x(a){a=Assets.getWindowWidth();var c=Assets.getWindowHeight();M.style.width=a+"px";M.style.height=c+"px";if(1==BrowserDetect.MOBILE&&a<c){var d=Assets.CDN_URL_SMALL+"assets/images/projects/portrait/"+B.getAttribute("data-caseImageTop");console.log(d);M.style.backgroundImage="url("+d+")"}else 1==BrowserDetect.MOBILE&&a>c&&(d=M._path+B.getAttribute("data-caseImageTop"),
M.style.backgroundImage="url("+d+")");oa&&(oa.style.width=Assets.getWindowWidth(),oa.style.height=Assets.getWindowWidth()*da._ratio+180+"px");N._x=(a-40)/4;R.style.width=.75*(a-40)+"px";O._x=a-66-250;P.style.width=(a-40)/4-40+"px";P._x=1270>a?20:(a-40)/4+20;520>a||1==BrowserDetect.MOBILE?(N._x=20,N._y=260-N._getHeight()-40,L._caseTag.style.top="300px",L._caseTag.style.left="20px",R.style.fontSize="28px",R.style.lineHeight="30px",H.style.display="block",G.style.display="none",L.addEventListener("click",
u)):(N._x=(a-40)/4+20,N._y=75,L._caseTag.style.top="15px",L._caseTag.style.left=(a-40)/4+20+"px",R.style.fontSize="33px",R.style.lineHeight="35px",G.style.display="block",H.style.display="none",L.removeEventListener("click",u));520>a?(N.style.fontSize="23px",N.style.lineHeight="28px",R.style.fontSize="23px",R.style.lineHeight="28px"):(N.style.fontSize="33px",N.style.lineHeight="35px",R.style.fontSize="33px",R.style.lineHeight="35px");P._y=Math.round(R._y+R._getHeight()+40);O._y=R._y+R._getHeight()+
40;ca=setTimeout(z,10);G._x=a-40-46-21;H._x=a-40-46-21;for(d=0;d<T.length;d++)T[d].resize(a,c);for(c=0;c<Y.length;c++)Y[c].style.width=a+"px";for(c=0;c<W.length;c++)if(W[c].style.width=a+"px",d=W[c]._video,W[c]._playBtn._x=(a-100)/2,1==d._isMetaLoaded){var e=a*d._ratio;0!==e&&(d.style.height=e+"px",W[c]._playBtn._y=(e-108)/2,W[c].style.height=e+"px")}else d.style.height=d._height+"px"}function z(){var a=Assets.getWindowWidth(),c=Assets.getWindowHeight();690>a?(P._columnOne.style.width=a-88+"px",P._columnTwo.style.left=
"0px",P._columnTwo.style.top=Math.round(P._columnOne.offsetHeight+P._headline.offsetHeight+10)+"px",P._columnTwo.style.width=a-88+"px",P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+S.offsetHeight+60>O._getHeight()+20?(L.style.height=O._y+P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+S.offsetHeight+100+"px",S.style.top=O._y+P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+83+"px"):(L.style.height=O._y+O._getHeight()+20+"px",S.style.top=O._y+O._getHeight()-33+"px")):1030>a?(P._columnOne.style.width=
(a-40)/4*2+"px",P._columnTwo.style.left="0px",P._columnTwo.style.top=Math.round(P._columnOne.offsetHeight+P._headline.offsetHeight+10)+"px",P._columnTwo.style.width=(a-40)/4*2+"px",P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+S.offsetHeight+60>O._getHeight()+20?(L.style.height=O._y+P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+S.offsetHeight+100+"px",S.style.top=O._y+P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+83+"px"):(L.style.height=O._y+O._getHeight()+20+"px",S.style.top=
O._y+O._getHeight()-33+"px")):(P._columnOne.style.width=(a-40)/4-40+"px",P._columnTwo.style.left=(a-40)/4+"px",P._columnTwo.style.top="0px",P._columnTwo.style.width=(a-40)/4-40+"px",P._columnOne.offsetHeight+S.offsetHeight+60>O._getHeight()+20?(L.style.height=O._y+P._columnOne.offsetHeight+S.offsetHeight+100+"px",S.style.top=O._y+P._columnOne.offsetHeight+83+"px"):(L.style.height=O._y+O._getHeight()+20+"px",S.style.top=O._y+O._getHeight()-33+"px"));O._lastLine.style.top=L.offsetHeight-(O._y+36)+"px";
520>a&&0==I&&(L.style.height="79px");1==BrowserDetect.MOBILE&&0==I&&1==X.length?u():1==BrowserDetect.MOBILE&&1==I&&1==X.length?aa=setTimeout(y,25):1==BrowserDetect.MOBILE&&0==I&&(L.style.height="79px");1==BrowserDetect.MOBILE&&1==I&&1<X.length&&(L.style.height="79px",u());O.style.display=690>a?"none":"block";C._x=92;0==ra&&(C._x=40);L._y=0==F?c:1==BrowserDetect.MOBILE?c-79:520>a?c-79:c-260;L.style.width=a-40+"px";S.style.left=P._x+"px";a=520>Assets.getWindowWidth()||1==BrowserDetect.MOBILE?L._getHeight()+
M._getHeight()-79:L._getHeight()+M._getHeight()-260+20;for(c=0;c<fa.length;c++)fa[c]._y=a,a=0<fa[c]._getHeight()?a+fa[c]._getHeight():a+U;A.style.height=a+"px"}function y(){var a;a=P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+S.offsetHeight+60>O._getHeight()+20?O._y+P._columnOne.offsetHeight+P._columnTwo.offsetHeight+10+S.offsetHeight+100:O._y+O._getHeight()+20;L.style.height=a+"px";a=a+M._getHeight()-79+20;A.style.height=a+"px"}function E(){var c=0,d=X.length;for(c;c<d;c++)X[c]._playBtn&&
(X[c]._playBtn._innerButton.kill(),X[c]._playBtn=null),X[c].parentNode&&X[c].parentNode.removeChild(X[c]),X[c]=null;da&&da.stopRender();clearInterval(K);clearTimeout(V);clearTimeout(ca);clearTimeout(aa);for(c=0;c<ba.length;c++)ba[c].removeEventListener(Event.LOAD,a),ba[c]._vid&&(ba[c]._vid=null);G.parentNode&&G.parentNode.removeChild(G);G&&(G.kill(),G=null);R&&R.parentNode&&R.parentNode.removeChild(R);R=null;L.parentNode&&L.parentNode.removeChild(L);L=null;c=0;d=T.length;for(c;c<d;c++)T[c].parentNode&&
T[c].parentNode.removeChild(T[c]),T[c].kill(),T[c]=null;T=null;for(c=0;c<W.length;c++)d=W[c]._video,d.removeEventListener("ended",h),BrowserDetect.MOBILE||BrowserDetect.TABLET||d.removeEventListener("loadedmetadata",f),d.parentNode&&d.parentNode.removeChild(d);A.parentNode&&A.parentNode.removeChild(A);A=null}function D(){Assets.LAYER_TOP.removeChild(C);C=null}var A=new SmartObject,B=d.getXML(),F=!1,C,H,I=!1,J=!1,G,K,M,L,Q,N,O,P,S,R,T=[],Y=[],W=[],X=[],fa=[],la=!0,ha=0,ba=[],U,ia=!1,ra=!1,V,ca,aa,
da,oa,ta=!1;A.templateIn=function(){A._allowOverflowReset=!0;A.style.position="relative";_saveOverflow=Assets.LAYER_MID.style.overflow;A.style.background="#"+B.getAttribute("data-bodyBackground");A.style.overflow="hidden";A.style.width="100%";A.style.height="auto";U=949/1920*Assets.getWindowWidth();U=Math.ceil(U);var a=document.createElement("div");a.style.width="20px";a.style.height="100%";a.style.position="absolute";a.style.left="-20px";a.style.background="#525453";a.style.zIndex=1E3;A.appendChild(a);
B.querySelector(".case-content");C=new ArrowButton("left",n,"#"+B.getAttribute("data-backBtnColor"),null,Assets.TRANSITIONS_MANAGER);C.style.position="fixed";C._x=40;C._y=40;C._opacity=0;C.style.zIndex=2;Assets.LAYER_TOP.appendChild(C);M=new SmartObject;M.style.position="relative";M.style.width=Assets.getWindowWidth()+"px";M.style.height=Assets.getWindowHeight()+"px";C.style.zIndex=3;M._opacity=0;a=1<window.devicePixelRatio;a=1==BrowserDetect.MOBILE?1==a?Assets.CDN_URL_SMALL+"assets/images/projects/tablet/":
Assets.CDN_URL_SMALL+"assets/images/projects/mobile/":1==BrowserDetect.TABLET?1==a?Assets.CDN_URL_SMALL+"assets/images/projects/desktop/":Assets.CDN_URL_SMALL+"assets/images/projects/tablet/":Assets.CDN_URL_SMALL+"assets/images/projects/desktop/";1==BrowserDetect.MOBILE&&Assets.getWindowWidth()<Assets.getWindowHeight()&&(a=Assets.CDN_URL_SMALL+"assets/images/projects/portrait/");M._path=a;M._bkgSrc=a+B.getAttribute("data-caseImageTop");M.style.backgroundSize="cover";M.style.backgroundPosition="center top";
X.push(M);A.appendChild(M);L=new SmartObject;a=.9;B.getAttribute("data-panelOpacity")&&(a=parseInt(B.getAttribute("data-panelOpacity")));L._opacity=a;L.style.top=0;L.style.left=0;L.style.zIndex=10;L.style.overflow="hidden";L.style.backgroundColor="#"+B.getAttribute("data-panelColor");L._x=20;Q=new SmartObject;Q._x=20;Q._y=15;a=document.createElement("span");a.style.display="block";B.getAttribute("data-whiteOpt")?a.style.color="#"+B.getAttribute("data-whiteOpt"):a.style.color="#fff";a.style.fontSize=
"14px";a.innerHTML=Assets.DATA_STATIC.querySelector("#client").innerHTML;var d=document.createElement("span");d.style.display="block";d.style.color="#"+B.getAttribute("data-textColor");d.style.fontSize="14px";d.innerHTML=B.querySelector(".client-title").innerHTML;var f=document.createElement("span");f.style.display="block";f.style.position="absolute";f.style.left=(Assets.getWindowWidth()-40)/4+"px";f.style.top="15px";B.getAttribute("data-whiteOpt")?f.style.color="#"+B.getAttribute("data-whiteOpt"):
f.style.color="#fff";f.style.fontSize="14px";f.innerHTML=Assets.DATA_STATIC.querySelector("#case-tag").innerHTML;var h=document.createElement("div");h.style.position="relative";h.style.width="43px";h.style.height="1px";B.getAttribute("data-whiteOpt")?h.style.backgroundColor="#"+B.getAttribute("data-whiteOpt"):h.style.backgroundColor="#fff";h.style.top="-8px";h.style.left="38px";f.appendChild(h);L._caseTag=f;Q.appendChild(a);Q.appendChild(d);L.appendChild(Q);L.appendChild(f);N=new SmartObject;N.style.fontSize=
"33px";N.style.lineHeight="35px";a=document.createElement("span");a.style.display="block";B.getAttribute("data-whiteOpt")?a.style.color="#"+B.getAttribute("data-whiteOpt"):a.style.color="#fff";a.innerHTML=B.querySelector(".case-title").innerHTML;d=document.createElement("span");d.style.display="block";d.style.width="290px";d.style.color="#"+B.getAttribute("data-textColor");d.innerHTML=B.querySelector(".subtitle").innerHTML;N.appendChild(a);N.appendChild(d);L.appendChild(N);R=new SmartObject(document.createElement("span"));
R.style.display="block";R.style.width=.75*(Assets.getWindowWidth()-40)+"px";R.style.color="#"+B.getAttribute("data-textColor");R.style.fontSize="33px";R.style.lineHeight="35px";R._x=20;R._y=355;R.innerHTML=B.querySelector(".intro").innerHTML;L.appendChild(R);O=new SmartObject;O.style.width="250px";O.style.height="auto";O.style.paddingBottom="14px";O._x=Assets.getWindowWidth()-66-250;a=document.createElement("span");a.style.display="block";a.style.fontSize="14px";a.style.lineHeight="27px";a.style.color=
"#"+B.getAttribute("data-secondTextColor");a.innerHTML=Assets.DATA_STATIC.querySelector("#project").innerHTML;O.appendChild(a);a=document.createElement("span");a.style.width="180px";a.style.display="block";a.style.fontSize="14px";a.style.lineHeight="18px";a.style.color="#"+B.getAttribute("data-secondTextColor");a.style.fontFamily="TheinhardtRegular";a.innerHTML=B.querySelector(".project").innerHTML;O.appendChild(a);a=new SmartObject;a.style.position="relative";a.style.width="100%";a.style.height=
"1px";a.style.marginTop="10px";a.style.marginBottom="5px";a.style.background="#"+B.getAttribute("data-secondTextColor");a._opacity=.2;O.appendChild(a);d=document.createElement("span");d.style.display="block";d.style.fontSize="14px";d.style.lineHeight="27px";d.style.color="#"+B.getAttribute("data-secondTextColor");d.innerHTML=Assets.DATA_STATIC.querySelector("#deliverables").innerHTML;O.appendChild(d);d=document.createElement("span");d.style.width="180px";d.style.display="block";d.style.fontSize="14px";
d.style.lineHeight="18px";d.style.color="#"+B.getAttribute("data-secondTextColor");d.style.fontFamily="TheinhardtRegular";d.innerHTML=B.querySelector(".deliverables").innerHTML;O.appendChild(d);""!==B.querySelector(".awards").innerHTML&&(a=a.cloneNode(),O.appendChild(a),d=document.createElement("span"),d.style.display="block",d.style.fontSize="14px",d.style.lineHeight="27px",d.style.color="#"+B.getAttribute("data-secondTextColor"),d.innerHTML=Assets.DATA_STATIC.querySelector("#awards").innerHTML,
O.appendChild(d),d=document.createElement("span"),d.style.width="180px",d.style.display="block",d.style.fontSize="14px",d.style.lineHeight="18px",d.style.color="#"+B.getAttribute("data-secondTextColor"),d.style.fontFamily="TheinhardtRegular",d.innerHTML=B.querySelector(".awards").innerHTML,O.appendChild(d));a=a.cloneNode();a.style.position="absolute";O._lastLine=a;O.appendChild(a);L.appendChild(O);P=new SmartObject;P.style.width=(Assets.getWindowWidth()-40)/4-40+"px";P._x=(Assets.getWindowWidth()-
40)/4+20;P._y=Math.round(R._y+R._getHeight()+40);a=B.querySelector(".body-text");d=document.createElement("span");d.style.color="#"+B.getAttribute("data-secondTextColor");d.style.fontSize="14px";d.style.lineHeight="27px";d.style.whiteSpace="nowrap";d.innerHTML=a.querySelector(".headline").innerHTML;P.appendChild(d);P._headline=d;d=document.createElement("div");d.style.position="absolute";d.style.width="100%";d.style.fontSize="14px";d.style.lineHeight="18px";d.style.width=(Assets.getWindowWidth()-
40)/4-40+"px";d.style.color="#"+B.getAttribute("data-secondTextColor");d.style.fontFamily="TheinhardtRegular";d.innerHTML=a.querySelector(".column-one").innerHTML;f=document.createElement("div");f.style.position="absolute";f.style.width="100%";f.style.fontSize="14px";f.style.lineHeight="18px";f.style.marginTop="27px";f.style.left=(Assets.getWindowWidth()-40)/4+"px";f.style.width=(Assets.getWindowWidth()-40)/4-40+"px";f.style.color="#"+B.getAttribute("data-secondTextColor");f.style.fontFamily="TheinhardtRegular";
f.innerHTML=a.querySelector(".column-two").innerHTML;P._columnOne=d;P._columnTwo=f;P.appendChild(d);P.appendChild(f);L.appendChild(P);S=document.createElement("span");S.style.position="absolute";S.style.display="block";B.getAttribute("data-link")&&""!=B.getAttribute("data-link")&&(a=B.querySelector(".link-text"),S.innerHTML=a&&""!==a.innerHTML?a.innerHTML:Assets.DATA_STATIC.querySelector("#visit-site").innerHTML,S.style.fontSize="14px",S.style.lineHeight="18px",S.style.color="#"+B.getAttribute("data-secondTextColor"),
a=B.getAttribute("data-link"),d=document.createElement("a"),d.style.textDecoration="none",d.style.color="#"+B.getAttribute("data-linkColor"),d.setAttribute("href",a),d.setAttribute("target","_blank"),f=B.querySelector(".link-name"),d.innerHTML=f&&""!==f.innerHTML?"</br>"+f.innerHTML:"</br>"+a,S.appendChild(d),L.appendChild(S));G=new ArrowButton("down",p,"#"+B.getAttribute("data-arrowButtonColor"),!0,Assets.TRANSITIONS_MANAGER);G._y=14;G.style.zIndex=4;L.appendChild(G);H=new SmartObject;H.style.position=
"absolute";H.style.width="46px";H.style.height="46px";H.style.borderRadius="23px";B.getAttribute("data-whiteOpt")?H.style.backgroundColor="#"+B.getAttribute("data-whiteOpt"):H.style.backgroundColor="#fff";H.style.zIndex=4;H.style.pointerEvents="all";H.style.overflow="hidden";H.style.cursor="pointer";H._y=16;H._rotation=0;a=B.getAttribute("data-whiteOpt")?new SmartObject(AssetLoader.getAsset("assets/images/ui/dots-white@2.png")):new SmartObject(AssetLoader.getAsset("assets/images/ui/dots@2.png"));
a._x=5.5;a._y=5.5;H.appendChild(a);H.addEventListener("click",u);L.appendChild(H);A.appendChild(L);a:for(a=B.querySelector(".case-content").children,d=0;d<a.length;d++){var f=a[d].getAttribute("data-type"),l;if("slideshow"==f)l=new CaseSlideshow(a[d],U),Assets.FIRST_PAGE_TRANSITION&&l.loadFirstSlide(),T.push(l),A.appendChild(l);else if("image"==f)l=new w(a[d]),Y.push(l),A.appendChild(l);else if("video"==f){l=new k(a[d]);if(0==l)break a;W.push(l);A.appendChild(l)}else if("calico-logo-generator"==f){if(BrowserDetect.MOBILE||
BrowserDetect.TABLET||"Explorer"==BrowserDetect.BROWSER_NAME)break a;l=new SmartObject;l.className+=" logo-generator";f=300/520;l.style.top=0;l.style.left=0;l.style.width=Assets.getWindowWidth()+"px";l.style.backgroundColor="#f4f4f4";l.style.height=Assets.getWindowWidth()*f+180+"px";da=new CalicoLogoGenerator(a[d],f,l);da._ratio=f;l.appendChild(da);da.init();da.startRender();oa=l;A.appendChild(l)}fa.push(l);l._order=d}e();!0!==BrowserDetect.TABLET&&!0!==BrowserDetect.MOBILE?Assets.LAYER_ALL.addEventListener("scroll",
t):F=!0;(BrowserDetect.DESKTOP||Assets.FIRST_PAGE_TRANSITION)&&c()};A.pause=function(){};A.unpause=function(){};A.setOverflows=function(){Assets.LAYER_MID.style.overflow=Assets.mid_overflow;document.body.style.overflow=Assets.body_overflow};A.loadRest=function(){ha<X.length&&c();var a=0,d=T.length;for(a;a<d;a++)T[a].loadFirstSlide()};A.showBackArrow=function(){TweenMax.to(C,.15,{_opacity:1,linear:Linear.easeNone})};A.hideBackArrow=function(){TweenMax.to(C,.15,{_opacity:0,linear:Linear.easeNone})};
A.removeParallax=function(){Assets.LAYER_ALL.removeEventListener("scroll",t);t=function(){}};A.enableParallax=function(){la=!0};A.disableParallax=function(){la=!1};A.templateOut=function(){ia=!0;C.removeEvents();window.removeEventListener("resize",x);!0!==BrowserDetect.TABLET&&!0!==BrowserDetect.MOBILE&&Assets.LAYER_ALL.removeEventListener("scroll",t);for(var a=0;a<W.length;a++)W[a]._playBtn.removeEventListener("mouseover",m),W[a]._playBtn.removeEventListener("mouseout",q),W[a].removeEventListener("click",
l);H.removeEventListener("click",u);G.removeEvents();Assets.TRANSITIONS_MANAGER.go(A,B,E);TweenMax.to(C,Assets.PAGE_TRANSTION_SPEED,{_x:40,delay:0,ease:Expo.easeInOut});TweenMax.to(C,.2,{_opacity:0,delay:Assets.PAGE_TRANSTION_SPEED-.3,ease:Linear.easeNone,onComplete:D})};return A}
function AboutTemplate(d){function c(){F++;0==H&&F==B&&(TweenMax.to(t,.15,{_opacity:1,ease:Linear.easeNone}),H=!0)}function a(){var a=n.querySelectorAll(".column");w=document.createElement("div");w.style.marginTop="745px";w.style.width=(Assets.getWindowWidth()-40)/4*3+"px";w.style.position="relative";t.appendChild(w);for(var d=0;d<a.length;d++){var f=a[d].getAttribute("data-title"),h=a[d].getAttribute("data-image"),l=document.createElement("div");l.style.position="absolute";l.style.display="inline-block";
l.style.fontSize="14px";l.style.lineHeight="18px";l.style.color="#555658";l.style.fontFamily="TheinhardtRegular";l._colName=f;l.innerHTML=a[d].innerHTML;3>d?l.style.width=(Assets.getWindowWidth()-40)/4-40+"px":5>d&&(l.style.width=(Assets.getWindowWidth()-40)/4-40+"px",l.style.marginTop="250px");5>d?(l.style.position="relative",l.style.verticalAlign="top",l.style.marginLeft="how-we-work"==f?(Assets.getWindowWidth()-40)/4+20+"px":"20px",l.style.marginRight="20px",w.appendChild(l)):"end-level-bosses"==
f?t.appendChild(l):"offices"==f&&(z=l);if(h){var m=document.createElement("img");m.style.position="absolute";m.style.left="end-level-bosses"==f?"-30px":"how-we-work"==f?"0px":"-12px";m.src=Assets.CDN_URL_SMALL+"assets/images/about/"+h;B++;l.appendChild(m);m.onload=function(){this.style.width="end-level-bosses"==this.parentNode._colName?this.parentNode.offsetWidth+30+"px":this.clientWidth/2+"px";this.style.height="auto";this.style.top=-this.clientHeight-15+"px";c()}}if("end-level-bosses"==f){l.style.right=
"20px";l.style.top="745px";l.style.width="250px";f=l.querySelector(".management");f.style.fontFamily="ClarendonLTStdBold";f.style.display="block";f.style.marginTop="30px";f.style.width="100%";f=l.querySelectorAll(".name");for(h=0;h<f.length;h++)f[h].style.fontFamily="ClarendonLTStdBold",f[h].style.display="block",f[h].style.width="100%",f[h].style.borderTop="1px solid #9ea4a1",f[h].style.paddingTop="8px";f[0].style.marginTop="8px";f=l.querySelectorAll(".position");for(h=0;h<f.length;h++)f[h].style.display=
"block",f[h].style.width="100%",f[h].style.paddingBottom="8px";f=l.getElementsByTagName("p");f=f[f.length-1];f.style.borderBottom="1px solid #9ea4a1";f.style.borderTop="1px solid #9ea4a1";f.style.paddingBottom="8px";f.style.paddingTop="8px"}else if("awards"==f){f=l.querySelectorAll(".award");for(h=0;h<f.length;h++){f[h].style.display="block";f[h].style.fontFamily="ClarendonLTStdBold";f[h].style.borderBottom="1px solid #9ea4a1";f[h].style.paddingBottom="8px";f[h].style.marginBottom="8px";var m=document.createElement("img"),
p=f[h].getAttribute("data-ico");m.src=Assets.CDN_URL_SMALL+"assets/images/"+p;B++;m.style.verticalAlign="middle";m.style.cssFloat="right";m.style.marginRight="10px";f[h].appendChild(m);m.onload=function(){c();this.style.width=this.clientWidth/2+"px";this.style.height="auto";this.style.marginTop=(18-this.clientHeight)/2+"px"}}f[0].style.borderTop="1px solid #9ea4a1";f[0].style.paddingTop="8px";f[0].style.marginTop="32px"}else if("offices"==f){l.style.position="relative";l.style.marginLeft=(Assets.getWindowWidth()-
40)/4*2+20+"px";l.style.marginBottom="20px";f=l.querySelectorAll(".office");for(h=0;h<f.length;h++)f[h].style.borderBottom="1px solid #9ea4a1",f[h].style.paddingBottom="8px",f[h].style.marginTop="8px",m=f[h].querySelector(".city"),m.style.fontFamily="ClarendonLTStdBold",m.style.display="block";h=l.querySelector(".contact-link");h.style.fontFamily="ClarendonLTStdBold";h.style.fontSize="18px";h.style.lineHeight="20px";h.style.marginTop="60px";h.style.width="150px";h=new SmartObject(h.getElementsByTagName("a")[0]);
h.style.position="relative";h.style.color="#fff";h.style.textDecoration="none";h.addEventListener("mouseover",e);h.addEventListener("mouseout",k);E=h;f[0].style.borderTop="1px solid #9ea4a1";f[0].style.paddingTop="8px"}f=l.querySelector(".title");f.style.fontFamily="ClarendonLTStdBold";f.style.display="block";f.style.marginBottom="3px";x.push(l)}}function e(a){TweenMax.to(this,.2,{_opacity:.6,ease:Linear.easeNone})}function k(a){TweenMax.to(this,.2,{_opacity:1,ease:Linear.easeNone})}function f(){y=
document.createElement("div");y.innerHTML=n.querySelector(".contact-us").innerHTML;y.style.fontSize="260px";y.style.lineHeight="195px";y.style.marginBottom="40px";y.style.color="#555658";y.style.marginLeft="20px";y.style.clear="both";y.querySelector(".white").style.color="#fff";C=new SmartObject(document.createElement("img"));var a=n.querySelector(".contact-us").querySelector(".bob-cat").getAttribute("data-src");C.src=Assets.CDN_URL_SMALL+"assets/images/"+a;C.onload=function(){this.style.width=this.width/
2+"px";this.style.height="auto";this._x=144;this._y=-(this.height/2)+20;y.appendChild(this)};t.appendChild(y);t.appendChild(z)}function h(){var a=Assets.DATA_STATIC.querySelector("#email").innerHTML;D=document.createElement("a");D.style.position="absolute";D.href="mailto:"+a;D.innerHTML=a;D.style.textDecoration="none";D.style.fontFamily="TheinhardtRegular";D.style.fontSize="12px";D.style.color="#717573";D.style.left="20px";D.style.bottom="20px";BrowserDetect.DESKTOP&&(D.addEventListener(MouseEvent.MOUSE_OVER,
function(a){TweenMax.to(D,.2,{opacity:.5,ease:Linear.easeNone})}),D.addEventListener(MouseEvent.MOUSE_OUT,function(a){TweenMax.to(D,.2,{opacity:1,ease:Linear.easeNone})}));t.appendChild(D);A=document.createElement("span");A.style.position="absolute";A.innerHTML="&copy; Copyright "+(new Date).getFullYear();A.style.fontFamily="TheinhardtRegular";A.style.fontSize="12px";A.style.color="#717573";A.style.left="20px";A.style.bottom="20px";t.appendChild(A)}function l(a){t.style.width=Assets.getWindowWidth()-
40+"px";u.resize();860>Assets.getWindowWidth()?(p.style.top="150px",w.style.marginTop="400px",w.style.fontSize="28px",w.style.lineHeight="34px",p.style.fontSize="33px",p.style.lineHeight="36px"):(p.style.top="485px",w.style.marginTop="745px",w.style.fontSize="33px",w.style.lineHeight="39px",p.style.fontSize="36px",p.style.lineHeight="39px");1024>Assets.getWindowWidth()?(v.style.fontSize="23px",v.style.lineHeight="28px",p.style.fontSize="23px",p.style.lineHeight="28px"):(v.style.fontSize="33px",v.style.lineHeight=
"39px",p.style.fontSize="36px",p.style.lineHeight="39px");860>Assets.getWindowWidth()?(v.style.width=Assets.getWindowWidth()-80+"px",v.style.marginTop="300px"):1488>Assets.getWindowWidth()?(v.style.width=(Assets.getWindowWidth()-80)/4*3-80+"px",v.style.marginTop="0px"):(v.style.marginTop="0px",v.style.width="1100px");860>Assets.getWindowWidth()?(v.style.position="relative",p.style.position="relative",v.style.left="20px",p.style.left="20px"):(v.style.position="absolute",p.style.position="absolute",
p.style.left=(Assets.getWindowWidth()-40)/4+20+"px",v.style.left=(Assets.getWindowWidth()-40)/4+20+"px");1140>Assets.getWindowWidth()?w.style.width=Assets.getWindowWidth()-40+"px":w.style.width=(Assets.getWindowWidth()-40)/4*3+"px";for(a=0;a<x.length;a++){var c=x[a];if(5>a||"offices"==c._colName)if(640>Assets.getWindowWidth()){if(c.style.width=Assets.getWindowWidth()-80+"px",c.style.marginRight="0px","how-we-work"==c._colName&&(c.style.marginLeft="20px"),"awards"==c._colName||"offices"==c._colName)c.style.marginLeft=
"20px"}else if(940>Assets.getWindowWidth()){if(c.style.width=(Assets.getWindowWidth()-40)/2-40+"px",c.style.marginRight="0px","how-we-work"==c._colName&&(c.style.marginLeft="20px"),"awards"==c._colName||"offices"==c._colName)c.style.marginLeft=(Assets.getWindowWidth()-40)/2+"px"}else if(1140>Assets.getWindowWidth())c.style.width=(Assets.getWindowWidth()-40)/3-40+"px",c.style.marginRight="0px","how-we-work"==c._colName&&(c.style.marginLeft=(Assets.getWindowWidth()-40)/3+"px"),"awards"==c._colName&&
(c.style.marginLeft="20px"),"offices"==c._colName&&(c.style.marginLeft=(Assets.getWindowWidth()-40)/3*2-20+"px");else{1250>Assets.getWindowWidth()?(c.style.width=(Assets.getWindowWidth()-40)/4-20+"px",c.style.marginRight="0px"):(c.style.width=(Assets.getWindowWidth()-40)/4-40+"px",c.style.marginRight="20px");if("how-we-work"==c._colName||"offices"==c._colName)c.style.marginLeft=(Assets.getWindowWidth()-40)/4+20+"px";"awards"==c._colName&&(c.style.marginLeft="20px");"offices"==c._colName&&(c.style.marginLeft=
Assets.getWindowWidth()/4*2+"px")}940>Assets.getWindowWidth()?"who-we-are"==c._colName&&(c.style.marginTop="250px"):"who-we-are"==c._colName&&(c.style.marginTop="0px");640>Assets.getWindowWidth()?"what-we-believe"==c._colName&&(c.style.marginTop="250px"):"what-we-believe"==c._colName&&(c.style.marginTop="0px");if("end-level-bosses"==c._colName){var d=c.getElementsByTagName("img")[0];1488>Assets.getWindowWidth()?c.style.width="200px":c.style.width="250px";1140>Assets.getWindowWidth()?(c.style.display=
"none",d.style.top=-d.clientHeight-15+"px",d.style.left="-30px"):(c.style.display="block",d.style.top=-d.clientHeight-15+"px",d.style.left="-30px",d.style.width=c.offsetWidth+30+"px")}}530>Assets.getWindowWidth()?(y.style.fontSize="55px",C.style.display="none"):750>Assets.getWindowWidth()?(y.style.fontSize="80px",C.style.display="none"):1020>Assets.getWindowWidth()?(y.style.fontSize="120px",C.style.display="none"):1520>Assets.getWindowWidth()?(y.style.fontSize="170px",C.style.display="none"):(y.style.fontSize=
"260px",C.style.display="block");640>Assets.getWindowWidth()?(t.style.paddingBottom="50px",A.style.left="auto",A.style.right="20px"):(A.style.left=(Assets.getWindowWidth()-40)/4+20+"px",A.style.right="auto",t.style.paddingBottom="0px")}function m(){q.parentNode.removeChild(q)}var q=document.createElement("div"),n=d.getXML(),t,u,v,p,w,x=[],z,y,E,D,A,B=0,F=0,C,H=!1;q.templateIn=function(){SmartObject(q);q.style.position="relative";q._allowOverflowReset=!0;_saveOverflow=Assets.LAYER_MID.style.overflow;
q.style.background="#bac2bb";q.style.overflow="hidden";q.style.width="100%";q.style.height="auto";q.style.minHeight="100%";q.style.paddingBottom="20px";q.style.backgroundColor="rgb(186,194,187)";var c=document.createElement("div");c.style.width="20px";c.style.height="100%";c.style.position="absolute";c.style.left="-20px";c.style.background="#525453";c.style.zIndex=1E3;q.appendChild(c);t=new SmartObject;t.style.position="relative";t.style.overflow="hidden";t.style.backgroundColor="rgb(175,182,176)";
t.style.height="100%";t.style.borderBottom="20px solid rgb(186,194,187)";t.style.left="20px";t.style.top="20px";q.appendChild(t);u=new HMLogo;t.appendChild(u);v=document.createElement("span");v.style.display="block";v.style.position="absolute";v.style.fontSize="33px";v.style.lineHeight="39px";v.style.color="#555658";v.innerHTML=n.querySelector(".intro-text").innerHTML;v.style.top="32px";t.appendChild(v);p=document.createElement("div");p.style.position="absolute";p.style.fontSize="36px";p.style.fontSize=
"39px";p.style.top="485px";for(var c=n.querySelector(".yay-monday"),d=0;2>d;d++){var e=document.createElement("span");e.style.display="block";e.innerHTML=c.getElementsByTagName("span")[d].innerHTML;e.style.color=0==d?"#fff":"#555658";p.appendChild(e)}t.appendChild(p);a();f();h();l();window.addEventListener("resize",l);Assets.LAYER_MID.appendChild(q);ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(n.getAttribute("data-path"))};q.setOverflows=function(){Assets.LAYER_MID.style.overflow=
Assets.mid_overflow;document.body.style.overflow=Assets.body_overflow};q.templateOut=function(){E.removeEventListener("mouseover",e);E.removeEventListener("mouseout",k);window.removeEventListener("resize",l);Assets.TRANSITIONS_MANAGER.go(q,n,m)};return q}
function ContactTemplate(d){function c(){w=document.createElement("span");w.style.display="block";w.style.position="absolute";w.style.fontSize="33px";w.style.lineHeight="39px";w.style.color="#555658";w.innerHTML=t.querySelector(".intro-text").innerHTML;w.style.top="32px";var a=w.querySelector(".email");a.style.color="#fff";a.style.display="block";u.appendChild(w)}function a(){var a=t.querySelector(".column-one");x=document.createElement("div");x.style.display="inline-block";x.style.width=v-20+"px";
x.style.marginLeft=v+20+"px";x.style.verticalAlign="top";var c=document.createElement("span");c.innerHTML=a.querySelector(".title").innerHTML;c.style.display="block";c.style.fontSize="36px";c.style.lineHeight="39px";c.style.marginBottom="20px";c.style.color="#555658";c.querySelector(".white").style.color="#fff";c.querySelector(".white").style.display="block";x._title=c;x.appendChild(c);a=a.querySelectorAll(".office");for(c=0;c<a.length;c++){var d=document.createElement("span");d.style.display="block";
d.innerHTML=a[c].innerHTML;d.style.fontFamily="TheinhardtRegular";d.style.fontSize="14px";d.style.lineHeight="18px";d.style.color="#555658";d.style.marginTop="11px";var e=d.querySelector(".city");e.style.fontFamily="ClarendonLTStdBold";e.style.display="block";e.style.marginBottom="3px";x.appendChild(d)}setTimeout(function(){860>Assets.getWindowWidth()?x.style.marginTop="120px":1920<Assets.getWindowWidth()?x.style.marginTop=u.offsetHeight-x.offsetHeight-170+"px":x.style.marginTop=u.offsetHeight-x.offsetHeight-
120+"px"},20);u.appendChild(x)}function e(){var a=t.querySelector(".column-two");z=document.createElement("div");z.style.display="inline-block";z.style.position="relative";z.style.width=v-20+"px";z.style.marginLeft="20px";z.style.verticalAlign="top";var c=document.createElement("span");c.innerHTML=a.querySelector(".title").innerHTML;c.style.display="block";c.style.fontSize="36px";c.style.lineHeight="39px";c.style.marginBottom="20px";c.style.color="#555658";c.querySelector(".white").style.color="#fff";
c.querySelector(".white").style.display="block";z._title=c;z.appendChild(c);c=document.createElement("div");c.style.fontSize="14px";c.style.lineHeight="18px";c.style.color="#555658";z.appendChild(c);var d=document.createElement("span");d.innerHTML=a.querySelector(".bold").innerHTML;d.style.display="block";d.style.marginBottom="3px";c.appendChild(d);d=document.createElement("span");d.innerHTML=a.querySelector(".text").innerHTML;d.style.fontFamily="TheinhardtRegular";c.appendChild(d);c=new SmartObject(c.getElementsByTagName("a")[0]);
c.style.position="relative";c.style.color="#fff";c.style.textDecoration="none";c.addEventListener("mouseover",k);c.addEventListener("mouseout",f);z._link=c;c=document.createElement("div");c.style.fontSize="14px";c.style.lineHeight="18px";c.style.color="#555658";c.style.position="absolute";c.style.bottom=0;z._contact=c;z.appendChild(c);d=document.createElement("span");d.innerHTML=a.querySelector(".bold.contact").innerHTML;d.style.display="block";c.appendChild(d);d=new SmartObject(document.createElement("span"));
d.style.position="relative";d.innerHTML=a.querySelector(".email").innerHTML;d.style.fontFamily="TheinhardtRegular";a=d.getElementsByTagName("a")[0];a.style.color="#fff";a.style.textDecoration="none";c.appendChild(d);d.addEventListener("mouseover",k);d.addEventListener("mouseout",f);z._contactEmail=d;setTimeout(function(){860>Assets.getWindowWidth()?(z.style.marginTop="80px",z.style.height="auto",z.style.paddingBottom="65px",z.style.marginBottom="65px"):(z.style.marginTop=x.offsetTop+"px",z.style.height=
x.offsetHeight+"px",z.style.paddingBottom="0px",z.style.marginBottom="0px")},25);u.appendChild(z)}function k(a){TweenMax.to(this,.2,{_opacity:.6,ease:Linear.easeNone})}function f(a){TweenMax.to(this,.2,{_opacity:1,ease:Linear.easeNone})}function h(){y=document.createElement("img");y.style.position="absolute";y.style.zIndex=10;y.style.top=0;y.src=Assets.CDN_URL_SMALL+t.getAttribute("data-image");y.onload=function(){this._origW=this.clientWidth;860>Assets.getWindowWidth()?y.style.maxWidth="180px":y.style.maxWidth=
"auto";860>Assets.getWindowWidth()?this.style.width=(Assets.getWindowWidth()-40)/2-100+"px":1240>Assets.getWindowWidth()?this.style.width=v+"px":this.style.width=this._origW/2+"px";this.style.height="auto";860>Assets.getWindowWidth()?y.style.marginTop=w.offsetTop+w.offsetHeight+x.offsetHeight-y.clientHeight+80+"px":1920<Assets.getWindowWidth()?y.style.marginTop=u.offsetHeight-y.offsetHeight-170+"px":y.style.marginTop=u.offsetHeight-y.offsetHeight-120+"px";A=!0;TweenMax.to(u,.15,{_opacity:1,ease:Linear.easeNone})};
y.style.left="20px";u.appendChild(y)}function l(){var a=Assets.DATA_STATIC.querySelector("#email").innerHTML;E=document.createElement("a");E.style.position="absolute";E.href="mailto:"+a;E.innerHTML=a;E.style.textDecoration="none";E.style.fontFamily="TheinhardtRegular";E.style.fontSize="12px";E.style.color="#717573";E.style.left="20px";E.style.bottom="20px";BrowserDetect.DESKTOP&&(E.addEventListener(MouseEvent.MOUSE_OVER,function(a){TweenMax.to(E,.2,{opacity:.5,ease:Linear.easeNone})}),E.addEventListener(MouseEvent.MOUSE_OUT,
function(a){TweenMax.to(E,.2,{opacity:1,ease:Linear.easeNone})}));u.appendChild(E);D=document.createElement("span");D.style.position="absolute";D.innerHTML="&copy; Copyright "+(new Date).getFullYear();D.style.fontFamily="TheinhardtRegular";D.style.fontSize="12px";D.style.color="#717573";D.style.left="20px";D.style.bottom="20px";u.appendChild(D)}function m(a){v=(Assets.getWindowWidth()-40)/4;p.resize();u.style.minHeight=Assets.getWindowHeight()-20+"px";860>Assets.getWindowWidth()?(w.style.width=Assets.getWindowWidth()-
80+"px",w.style.marginTop="300px"):1488>Assets.getWindowWidth()?(w.style.width=(Assets.getWindowWidth()-40)/4*3-80+"px",w.style.marginTop="0px"):(w.style.marginTop="0px",w.style.width="1100px");1024>Assets.getWindowWidth()||860>Assets.getWindowHeight()?(w.style.fontSize="23px",w.style.lineHeight="28px",x._title.style.fontSize="23px",x._title.style.lineHeight="28px",z._title.style.fontSize="23px",z._title.style.lineHeight="28px"):(w.style.fontSize="33px",w.style.lineHeight="39px",x._title.style.fontSize=
"33px",x._title.style.lineHeight="39px",z._title.style.fontSize="33px",z._title.style.lineHeight="39px");860>Assets.getWindowWidth()?(w.style.position="relative",w.style.left="20px"):(w.style.position="absolute",w.style.left=(Assets.getWindowWidth()-40)/4+20+"px");580>Assets.getWindowWidth()?(x.style.width=Assets.getWindowWidth()-80+"px",x.style.display="block",x.style.marginLeft="20px"):860>Assets.getWindowWidth()?(x.style.width=(Assets.getWindowWidth()-40)/2-20+"px",x.style.display="block",x.style.marginLeft=
(Assets.getWindowWidth()-40)/2-20+"px"):(x.style.marginLeft=v+20+"px",x.style.width=x.style.width=v-20+"px",x.style.display="inline-block");860>Assets.getWindowWidth()?y.style.maxWidth="180px":y.style.maxWidth="none";580>Assets.getWindowWidth()?y.style.display="none":y.style.display="block";580>Assets.getWindowWidth()?z.style.width=Assets.getWindowWidth()-80+"px":860>Assets.getWindowWidth()?z.style.width=(Assets.getWindowWidth()-40)/2-20+"px":z.style.width=v-20+"px";1==A&&(860>Assets.getWindowWidth()?
y.style.width=(Assets.getWindowWidth()-40)/2-100+"px":1240>Assets.getWindowWidth()?y.style.width=v-20+"px":y.style.width=y._origW/2+"px",y.style.height="auto");860>Assets.getWindowWidth()?(x.style.marginTop="120px",1==A&&(y.style.marginTop=w.offsetTop+w.offsetHeight+x.offsetHeight-y.clientHeight+80+"px")):1920<Assets.getWindowWidth()?(x.style.marginTop=u.offsetHeight-x.offsetHeight-170+"px",1==A&&(y.style.marginTop=u.offsetHeight-y.offsetHeight-170+"px")):(x.style.marginTop=u.offsetHeight-x.offsetHeight-
120+"px",1==A&&(y.style.marginTop=u.offsetHeight-y.offsetHeight-120+"px"));670>Assets.getWindowHeight()?(x.style.marginTop=670-x.offsetHeight-120+"px",x.style.marginBottom="80px"):x.style.marginBottom="0px";860>Assets.getWindowWidth()?(z.style.display="block",z.style.marginTop="80px",z.style.height="auto",z.style.paddingBottom="65px",z.style.marginBottom="65px"):(z.style.display="inline-block",z.style.marginTop=x.offsetTop+"px",z.style.height=x.offsetHeight+"px",z.style.paddingBottom="0px",z.style.marginBottom=
"0px");640>Assets.getWindowWidth()?(u.style.paddingBottom="50px",D.style.left="auto",D.style.right="20px"):(D.style.left=(Assets.getWindowWidth()-40)/4+20+"px",D.style.right="auto",u.style.paddingBottom="0px");u.offsetHeight>Assets.getWindowHeight()-20?u.style.width=Assets.getWindowWidth()-40+"px":u.style.width=window.innerWidth-40+"px";n.style.width=window.innerWidth+"px"}function q(){n.parentNode.removeChild(n)}var n=document.createElement("div"),t=d.getXML(),u,v,p,w,x,z,y,E,D,A=!1;n.templateIn=
function(){SmartObject(n);n.style.position="relative";n._allowOverflowReset=!0;_saveOverflow=Assets.LAYER_MID.style.overflow;n.style.background="#bac2bb";n.style.width=Assets.getWindowWidth()+"px";n.style.height="auto";n.style.minHeight="100%";n.style.paddingBottom="20px";n.style.backgroundColor="rgb(186,194,187)";var d=document.createElement("div");d.style.width="20px";d.style.height="100%";d.style.position="absolute";d.style.left="-20px";d.style.background="#525453";d.style.zIndex=1E3;n.appendChild(d);
u=new SmartObject;u.style.position="relative";u.style.overflow="hidden";u.style.backgroundColor="rgb(175,182,176)";u.style.height="100%";u.style.minHeight=Assets.getWindowHeight()-20+"px";u.style.borderBottom="20px solid rgb(186,194,187)";u.style.left="20px";u.style.top="20px";setTimeout(function(){u.offsetHeight>Assets.getWindowHeight()-20?u.style.width=Assets.getWindowWidth()-40+"px":u.style.width=window.innerWidth-40+"px"},25);v=(Assets.getWindowWidth()-40)/4;n.appendChild(u);p=new HMLogo;u.appendChild(p);
c();a();e();h();l();m();window.addEventListener("resize",m);Assets.LAYER_MID.appendChild(n);ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(t.getAttribute("data-path"))};n.setOverflows=function(){Assets.LAYER_MID.style.overflow="hidden";document.body.style.overflow="hidden"};n.templateOut=function(){z._contactEmail.removeEventListener("mouseover",k);z._contactEmail.removeEventListener("mouseout",f);z._link.removeEventListener("mouseover",k);z._link.removeEventListener("mouseout",
f);w.parentNode.removeChild(w);w=null;y.onload=null;y.src=null;y.parentNode.removeChild(y);y=null;u.removeChild(p);p.onclick=null;window.removeEventListener("resize",m);Assets.TRANSITIONS_MANAGER.go(n,t,q)};return n}
function PeopleTemplate(d){function c(){var a=v[Math.floor(Math.random()*v.length)];if(a.personDir){var c=y[a.personDir],d=c[a.activeImage].image,e=["baby","teen","adult"],f=e.indexOf(a.activeImage);-1<f&&e.splice(f,1);a.activeImage=e[Math.floor(Math.random()*e.length)];a=c[a.activeImage].image;TweenMax.to(d,.4,{css:{opacity:0},ease:Linear.easeNone});TweenMax.to(a,.4,{css:{opacity:1},ease:Linear.easeNone})}}function a(){var c=Assets.getWindowWidth()/z,d=c*x,k=["baby","teen","adult"],n=0,p="",q;for(q in y){if(n==
E){p=q;break}n++}var t=0,B=function(c){this.parentNode&&(this._y=(this.parentNode.clientHeight-this.clientHeight)/2);!0===this.initialImage&&(TweenMax.to(this,.3,{css:{opacity:1},ease:Linear.easeNone}),(BrowserDetect.MOBILE||BrowserDetect.TABLET)&&TweenMax.to(this.icon,.3,{css:{opacity:1},ease:Linear.easeNone}));t++;3==t&&(E++,E<v.length&&a())},n=v[E],p=y[p];q=f(p,k[0]);var w=f(p,k[1]),u=f(p,k[2]);q.onload=B;w.onload=B;u.onload=B;q.src=Assets.CDN_URL_SMALL+"assets/images/people/"+p.baby.path;w.src=
Assets.CDN_URL_SMALL+"assets/images/people/"+p.teen.path;u.src=Assets.CDN_URL_SMALL+"assets/images/people/"+p.adult.path;p[k[0]].image=q;p[k[1]].image=w;p[k[2]].image=u;c=h(p,c,d);n.hoverBlock=c;d=Math.floor(3*Math.random());p[k[d]].image.initialImage=!0;n.personDir=p.dir;n.activeImage=k[d];n.appendChild(q);n.appendChild(w);n.appendChild(u);n.appendChild(c);if(BrowserDetect.MOBILE||BrowserDetect.TABLET)q=new SmartObject,q.style.marginTop="20px",q.style.display="block",q.style.width="35px",q.style.height=
"35px",q.style.borderRadius="100%",q.style.cursor="pointer",q.style.background="#fff",q.style.left="40px",q.style.bottom="40px",q._opacity=0,w=AssetLoader.getAsset("assets/images/ui/dots@2.png"),q.appendChild(w),n.appendChild(q),n.icon=q,n.iconInSite=w,q.hoverBlock=c,q.iconInSite=w,p[k[d]].image.icon=q,n.addEventListener("click",e);n.addEventListener(MouseEvent.MOUSE_OVER,l);n.addEventListener(MouseEvent.MOUSE_OUT,m)}function e(a){A!=this&&(k(),TweenMax.to(this.hoverBlock,.3,{_opacity:1,ease:Linear.easeNone}),
TweenMax.to(this.iconInSite,.5,{delay:.1,rotation:180,ease:Expo.easeOut,overwrite:"all"}),B=setTimeout(k,4E3),A=this)}function k(){A&&(TweenMax.to(A.hoverBlock,.3,{_opacity:0,ease:Linear.easeNone}),TweenMax.to(A.iconInSite,.5,{rotation:0,ease:Expo.easeOut,overwrite:"all"}));B&&(clearTimeout(B),B=null)}function f(a,c){var d=new SmartObject(document.createElement("img"));d.style.width="100%";d.style.opacity=0;return d}function h(a,c,d){var e=new SmartObject;e.style.width=c-40+"px";e.style.height=d-
40+"px";e.style.backgroundColor="rgba(175,182,176,.9)";e.style.pointerEvents="none";e.style.top=0;e.style.left=0;e._opacity=0;e._x=20;e._y=20;var f=new SmartObject;f.style.position="relative";f._x=20;f.style.width=c-80+"px";e.textWrap=f;c=document.createElement("span");c.style.display="block";c.style.textTransform="capitalize";c.style.width="100%";c.style.color="#555658";c.innerHTML=a.name;700>Assets.getWindowWidth()?(c.style.fontSize="18px",c.style.lineHeight="24px"):900>Assets.getWindowWidth()?
(c.style.fontSize="19px",c.style.lineHeight="25px"):(c.style.fontSize="25px",c.style.lineHeight="31px");e.personName=c;f.appendChild(c);c=document.createElement("span");c.style.display="inline-block";c.style.fontSize="14px";c.style.color="#fff";c.style.textTransform="capitalize";c.innerHTML=a.city;f.appendChild(c);e.appendChild(f);f._y=BrowserDetect.MOBILE||BrowserDetect.TABLET?d-56-f._getHeight()-50:d-56-f._getHeight();return e}function l(a){TweenMax.to(this.hoverBlock,.3,{_opacity:1,ease:Linear.easeNone})}
function m(a){TweenMax.to(this.hoverBlock,.3,{_opacity:0,ease:Linear.easeNone})}function q(a){z=700>Assets.getWindowWidth()?1:1400>Assets.getWindowWidth()?2:2100>Assets.getWindowWidth()?3:4;a=Math.round(Assets.getWindowWidth()/z);for(var c=Math.round(a*x),d=0,e="#aeb6af",f="#aeb6af",h=0;h<v.length;h++){var k=v[h];k.style.width=a+"px";k.style.height=c+"px";k._x=h%z*a;if(k.hoverBlock){k.hoverBlock.style.width=a-40+"px";k.hoverBlock.style.height=c-40+"px";var l=k.hoverBlock.personName;700>Assets.getWindowWidth()?
(l.style.fontSize="18px",l.style.lineHeight="24px"):900>Assets.getWindowWidth()?(l.style.fontSize="19px",l.style.lineHeight="25px"):(l.style.fontSize="25px",l.style.lineHeight="31px");k.hoverBlock.textWrap._y=BrowserDetect.MOBILE||BrowserDetect.TABLET?c-56-k.hoverBlock.textWrap._getHeight()-50:c-56-k.hoverBlock.textWrap._getHeight()}0==h%z&&d++;0==h%z?e="#aeb6af"==e?f="#bac1ba":f="#aeb6af":f="#aeb6af"==f?"#bac1ba":"#aeb6af";k.style.backgroundColor=f;k._y=c*(d-1)}w.style.width=2*a+"px";w.style.height=
c+"px";w._x=v[v.length-1]._x+a;w._y=v[v.length-1]._y;w.smallHeadline._x=a;w.copy._x=a;w.style.display=4==z?"block":"none";2100>Assets.getWindowWidth()&&Assets.getWindowWidth();t.style.height=c*d+"px"}function n(){window.removeEventListener("resize",q);t.parentNode.removeChild(t)}var t=document.createElement("div"),u=d.getXML(),v=[],p=0,w,x=334/496,z=3,y={},E=0,D,A,B;t.templateIn=function(){SmartObject(t);t._allowOverflowReset=!0;t.style.position="relative";_saveOverflow=Assets.LAYER_MID.style.overflow;
t.style.background="#bac2bb";t.style.overflow="hidden";t.style.width="100%";t.style.height="auto";t.style.minHeight="100%";t.style.paddingBottom="22px";t.style.backgroundColor="rgb(186,194,187)";var d=document.createElement("div");d.style.width="20px";d.style.height="100%";d.style.position="absolute";d.style.left="-20px";d.style.background="#525453";d.style.zIndex=1E3;t.appendChild(d);var d=Assets.getWindowWidth()/z,e=0,f="#aeb6af",h="#aeb6af";p=u.querySelector('[data-id="employee-list"]').children.length;
for(var k=0;k<p;k++){var l=new SmartObject;l.style.width=d+"px";l.style.height=d*x+"px";l.style.overflow="hidden";l._x=k%z*d;0==k%z&&e++;0==k%z?f="#aeb6af"==f?h="#bac1ba":h="#aeb6af":h="#aeb6af"==h?"#bac1ba":"#aeb6af";l.style.backgroundColor=h;l._y=d*x*(e-1);v.push(l);t.appendChild(l)}t.style.height=d*x*e+"px";w=new SmartObject;d=Assets.getWindowWidth()/z;w.style.backgroundColor="#AFB6B0";w.style.width=2*d+"px";w.style.height=d*x+"px";w.style.overflow="hidden";w.style.border="20px solid #BAC3BB";
d=new SmartObject;d.style.position="absolute";d.innerHTML="Looking for more";d.style.fontSize="14px";d.style.top="20px";d.style.color="#fff";e=new SmartObject;e.style.width="45px";e.style.height="1px";e.style.position="absolute";e.style.top="11px";e.style.right="-44px";e.style.backgroundColor="#fff";d.appendChild(e);e=SmartObject(document.createElement("a"));e.style.position="absolute";e.innerHTML="<span style='color:#fff;'>It's a wrap<br /></span><span style='color:#4E4F51;'>Want to create<br />great things<br />with us?<br /></span><span style='color:#fff;'>hello@hellomonday.com</span>";
e.style.fontSize="14px";e.style.bottom="20px";e.style.color="#fff";e.style.fontSize="20px";e.style.lineHeight="25px";e.style.cursor="pointer";e.setAttribute("href","mailto:hello@hellomonday.com");e.className="itsAwrapLink";w.smallHeadline=d;w.copy=e;w.appendChild(d);w.appendChild(e);t.appendChild(w);e=u.querySelector('[data-id="employee-list"]');d=[];f=0;k=e.children.length;for(f;f<k;f++)d.push(e.children[f]);e=d.length;if(0!=e)for(;--e;)f=Math.floor(Math.random()*(e+1)),k=d[e],d[e]=d[f],d[f]=k;for(e=
0;e<d.length;e++){var h=d[e],f=h.getAttribute("data-name"),k=h.getAttribute("data-email"),l=h.getAttribute("data-dir"),h=h.getAttribute("data-city"),m={};m.name=f;m.email=k;m.dir=l;m.city=h;m.baby={};m.teen={};m.adult={};m.baby.image=null;m.baby.path=l+"/"+f+"-baby.jpg";m.baby.loaded=!1;m.teen.image=null;m.teen.path=l+"/"+f+"-teen.jpg";m.teen.loaded=!1;m.adult.image=null;m.adult.path=l+"/"+f+"-adult.jpg";m.adult.loaded=!1;y[l]=m}a();D=setInterval(c,1E3);q();window.addEventListener(Event.RESIZE,q);
Assets.LAYER_MID.appendChild(t);ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(u.getAttribute("data-path"))};t.setOverflows=function(){Assets.LAYER_MID.style.overflow="hidden";document.body.style.overflow="hidden"};t.templateOut=function(){clearInterval(D);D=null;if(BrowserDetect.MOBILE||BrowserDetect.TABLET){for(var a=0;a<v.length;a++)v[a].removeEventListener("click",e);B&&(clearTimeout(B),B=null)}Assets.TRANSITIONS_MANAGER.go(t,u,n)};return t}
function AwardsTemplate(d){function c(c,d){var f=document.createElement("div");f.style.position="relative";f.style.width=Assets.getWindowWidth()-40-t-40+"px";var h=(Assets.getWindowWidth()-40-t-40)/4,l=c.querySelectorAll(".award-wrap");d._awardArr=[];for(var m=0;m<l.length;m++){var n=new SmartObject;n.style.position="relative";n.style.width="100%";n.style.height="auto";n.style.marginLeft=t+"px";n.style.borderBottom="1px solid #9ea4a1";var q=document.createElement("span");q.style.display="inline-block";
q.style.verticalAlign="top";q.style.color="#5e6061";q.style.fontSize="14px";q.style.lineHeight="18px";q.style.marginTop="4px";q.style.marginBottom="3px";q.style.fontFamily="TheinhardtRegular";q.innerHTML=l[m].querySelector(".client").innerHTML;q.style.width=h-50+"px";q.style.paddingRight="20px";n.appendChild(q);n._client=q;var p=document.createElement("span");p.style.display="inline-block";p.style.verticalAlign="top";p.style.color="#5e6061";p.style.fontSize="14px";p.style.lineHeight="18px";p.style.marginTop=
"4px";p.style.marginBottom="3px";p.style.fontFamily="TheinhardtRegular";p.innerHTML=l[m].querySelector(".project").innerHTML;var w=l[m].querySelector(".project").getAttribute("data-project-link");w&&(n._projectLink=w,n.style.cursor="pointer",n.addEventListener("click",a),BrowserDetect.MOBILE||BrowserDetect.TABLET||(n.addEventListener("mouseover",e),n.addEventListener("mouseout",k)));p.style.width=h-20+40+"px";p.style.paddingRight="20px";n.appendChild(p);n._project=p;var u=document.createElement("span");
u.style.display="inline-block";u.style.verticalAlign="top";u.style.color="#5e6061";u.style.fontSize="14px";u.style.lineHeight="18px";u.style.marginTop="4px";u.style.marginBottom="3px";u.style.fontFamily="TheinhardtRegular";u.innerHTML=l[m].querySelector(".award").innerHTML;u.style.width=h-20+80+"px";u.style.paddingRight="20px";n.appendChild(u);n._award=u;var v=document.createElement("span");v.style.display="inline-block";v.style.verticalAlign="top";v.style.color="#5e6061";v.style.fontSize="14px";
v.style.lineHeight="18px";v.style.marginTop="4px";v.style.marginBottom="3px";v.style.fontFamily="TheinhardtRegular";v.innerHTML=l[m].querySelector(".contest").innerHTML;v.style.width=h-50+"px";n.appendChild(v);n._contest=v;var x=l[m].getAttribute("data-highlightImage"),w=l[m].getAttribute("data-highlightText");if(x&&w){q.style.fontFamily="TheinhardtBold";p.style.fontFamily="TheinhardtBold";u.style.fontFamily="TheinhardtBold";v.style.fontFamily="TheinhardtBold";n.style.borderBottom="1px solid #c7ccc7";
q=document.createElement("div");q.style.position="absolute";q.style.width=t+"px";q.style.left=-t+"px";q.style.height="1px";q.style.backgroundColor="#c7ccc7";n.appendChild(q);n._highlightLine=q;var z=document.createElement("img");z.src=Assets.CDN_URL_SMALL+x;q=l[m].getAttribute("data-xy");q=q.split(",");z._xPos=parseInt(q[0]);z._yPos=parseInt(q[1]);n._highlightImg=z;z.onload=function(){z.style.width=z.clientWidth/2+"px";z.style.height="auto";z.style.top=-z.clientHeight-z._yPos+"px";z.style.left=-t+
z.clientWidth/2-z._xPos+"px"};z.style.position="absolute";z.style.zIndex=3;n.appendChild(z);var Q=document.createElement("span");Q.innerHTML=w;Q.style.position="absolute";Q.style.fontSize="44px";Q.style.lineHeight="45px";Q.style.display="block";Q.style.zIndex=2;Q.style.left=-t+"px";Q.style.width=t+"px";setTimeout(function(){Q.style.top=-Q.clientHeight+10+"px"},20);Q.style.color="#fff";n.appendChild(Q);n._highlightText=Q}f.appendChild(n);d._awardArr.push(n)}return f}function a(a){ContentManager.path(this._projectLink)}
function e(a){TweenMax.to(this,.2,{_opacity:.6,ease:Linear.easeNone})}function k(a){TweenMax.to(this,.2,{_opacity:1,ease:Linear.easeNone})}function f(){var a=Assets.DATA_STATIC.querySelector("#email").innerHTML;x=document.createElement("a");x.style.position="absolute";x.href="mailto:"+a;x.innerHTML=a;x.style.textDecoration="none";x.style.fontFamily="TheinhardtRegular";x.style.fontSize="12px";x.style.color="#717573";x.style.left="20px";x.style.bottom="20px";BrowserDetect.DESKTOP&&(x.addEventListener(MouseEvent.MOUSE_OVER,
function(a){TweenMax.to(x,.2,{opacity:.5,ease:Linear.easeNone})}),x.addEventListener(MouseEvent.MOUSE_OUT,function(a){TweenMax.to(x,.2,{opacity:1,ease:Linear.easeNone})}));n.appendChild(x);z=document.createElement("span");z.style.position="absolute";z.innerHTML="&copy; Copyright "+(new Date).getFullYear();z.style.fontFamily="TheinhardtRegular";z.style.fontSize="12px";z.style.color="#717573";z.style.left="20px";z.style.bottom="20px";n.appendChild(z)}function h(a){t=(Assets.getWindowWidth()-40)/4;u.resize();
n.style.width=Assets.getWindowWidth()-40+"px";n.style.minHeight=Assets.getWindowHeight()-20+"px";for(var c=0;c<w.length;c++)for(var d=0;d<w[c]._awardArr.length;d++)if(a=w[c]._awardArr[d],480>Assets.getWindowWidth()?(a._client.style.fontSize="12px",a._client.style.lineHeight="14px",a._project.style.fontSize="12px",a._project.style.lineHeight="14px",a._award.style.fontSize="12px",a._award.style.lineHeight="14px",a._contest.style.fontSize="12px",a._contest.style.lineHeight="14px"):(a._client.style.fontSize=
"14px",a._client.style.lineHeight="18px",a._project.style.fontSize="14px",a._project.style.lineHeight="18px",a._award.style.fontSize="14px",a._award.style.lineHeight="18px",a._contest.style.fontSize="14px",a._contest.style.lineHeight="18px"),1==BrowserDetect.MOBILE&&-1<a._project.innerHTML.indexOf(".com")){var e=a._project.innerHTML.split(".com");a._project.innerHTML=e[0]+"</br>.com"}860>Assets.getWindowWidth()?(v.style.width=Assets.getWindowWidth()-80+"px",v.style.marginTop="300px"):1488>Assets.getWindowWidth()?
(v.style.width=(Assets.getWindowWidth()-40)/4*3-80+"px",v.style.marginTop="0px"):(v.style.marginTop="0px",v.style.width="1100px");1024>Assets.getWindowWidth()||860>Assets.getWindowHeight()?(v.style.fontSize="23px",v.style.lineHeight="28px",p.style.fontSize="23px",p.style.lineHeight="28px"):(v.style.fontSize="33px",v.style.lineHeight="39px",p.style.fontSize="33px",p.style.lineHeight="39px");860>Assets.getWindowWidth()?p.style.marginTop="120px":p.style.marginTop="480px";860>Assets.getWindowWidth()?
(v.style.position="relative",v.style.left="20px"):(v.style.position="absolute",v.style.left=(Assets.getWindowWidth()-40)/4+20+"px");640>Assets.getWindowWidth()?(n.style.paddingBottom="50px",z.style.left="auto",z.style.right="20px"):(z.style.left=(Assets.getWindowWidth()-40)/4+20+"px",z.style.right="auto",n.style.paddingBottom="0px");if(860>Assets.getWindowWidth())for(p.style.marginLeft="20px",c=0;c<w.length;c++)for(w[c].style.width=Assets.getWindowWidth()-80+"px",w[c]._yearTag.style.width="auto",
w[c]._yearTag.style.display="block",w[c]._yearTag.style.marginBottom="36px",w[c]._yearTag.style.opacity=0,w[c]._yearTitle.style.fontSize="30px",w[c]._yearTitle.style.top="10px",d=(Assets.getWindowWidth()-40)/3,w[c]._clientTag.style.width=d-50+"px",w[c]._clientTag.style.display="none",w[c]._projectTag.style.width=d-20+20+"px",w[c]._awardTag.style.width=d-20+20+"px",w[c]._contestTag.style.width=d-20-50+"px",w[c]._awardList.style.width=Assets.getWindowWidth()-40-40+"px",e=0;e<w[c]._awardArr.length;e++)a=
w[c]._awardArr[e],a.style.marginLeft="0px",a._client.style.width=d-50+"px",a._client.style.display="none",a._project.style.width=d-20+20+"px",a._award.style.width=d-20+20+"px",a._contest.style.width=d-20-50+"px",a._highlightLine&&(a._client.style.fontFamily="TheinhardtRegular",a._project.style.fontFamily="TheinhardtRegular",a._award.style.fontFamily="TheinhardtRegular",a._contest.style.fontFamily="TheinhardtRegular",a._highlightLine.style.display="none",a._highlightImg.style.visibility="hidden",a._highlightText.style.visibility=
"hidden");else if(1200>Assets.getWindowWidth())for(p.style.marginLeft="20px",c=0;c<w.length;c++)for(w[c].style.width=Assets.getWindowWidth()-80+"px",w[c]._yearTag.style.width="auto",w[c]._yearTag.style.display="block",w[c]._yearTag.style.marginBottom="60px",w[c]._yearTag.style.opacity=0,w[c]._yearTitle.style.fontSize="50px",w[c]._yearTitle.style.top="10px",d=(Assets.getWindowWidth()-40)/4,w[c]._clientTag.style.width=d-50+"px",w[c]._projectTag.style.width=d-20+40+"px",w[c]._awardTag.style.width=d-
20+80+"px",w[c]._contestTag.style.width=d-20-50+"px",w[c]._awardList.style.width=Assets.getWindowWidth()-40-40+"px",e=0;e<w[c]._awardArr.length;e++)a=w[c]._awardArr[e],a.style.marginLeft="0px",a._client.style.width=d-50+"px",a._project.style.width=d-20+40+"px",a._award.style.width=d-20+80+"px",a._contest.style.width=d-20-50+"px",a._highlightLine&&(a._client.style.fontFamily="TheinhardtRegular",a._project.style.fontFamily="TheinhardtRegular",a._award.style.fontFamily="TheinhardtRegular",a._contest.style.fontFamily=
"TheinhardtRegular",a._highlightLine.style.display="none",a._highlightImg.style.visibility="hidden",a._highlightText.style.visibility="hidden",a._highlightLine.style.width=t+"px",a._highlightLine.style.left=-t+"px");else for(p.style.marginLeft=t+20+"px",c=0;c<w.length;c++)for(w[c].style.width=Assets.getWindowWidth()-80+"px",w[c]._yearTag.style.width=t+"px",w[c]._yearTag.style.display="inline-block",w[c]._yearTag.style.marginBottom="0px",w[c]._yearTag.style.opacity=1,w[c]._yearTitle.style.fontSize=
"60px",w[c]._yearTitle.style.top="27px",d=(Assets.getWindowWidth()-40-t-40)/4,w[c]._clientTag.style.width=d-50+"px",w[c]._projectTag.style.width=d-20+40+"px",w[c]._awardTag.style.width=d-20+80+"px",w[c]._contestTag.style.width=d-20-50+"px",w[c]._awardList.style.width=Assets.getWindowWidth()-40-t-40+"px",e=0;e<w[c]._awardArr.length;e++)a=w[c]._awardArr[e],a.style.marginLeft=t+"px",a._client.style.width=d-50+"px",a._project.style.width=d-20+40+"px",a._award.style.width=d-20+80+"px",a._contest.style.width=
d-20-50+"px",a._highlightLine&&(a._client.style.fontFamily="TheinhardtBold",a._project.style.fontFamily="TheinhardtBold",a._award.style.fontFamily="TheinhardtBold",a._contest.style.fontFamily="TheinhardtBold",a._highlightLine.style.display="block",a._highlightImg.style.visibility="visible",a._highlightText.style.visibility="visible",a._highlightLine.style.width=t+"px",a._highlightLine.style.left=-t+"px",0<a._highlightImg.clientHeight&&(a._highlightImg.style.left=-t+a._highlightImg.clientWidth/2-a._highlightImg._xPos+
"px"),0<a._highlightText.clientHeight&&(a._highlightText.style.top=-a._highlightText.clientHeight+10+"px"),a._highlightText.style.left=-t+"px",a._highlightText.style.width=t+"px");m.style.width=Assets.getWindowWidth()+"px"}function l(){for(var c=0;c<w.length;c++)for(var d=0;d<w[c]._awardArr.length;d++)w[c]._awardArr[d]._projectLink&&(w[c]._awardArr[d].removeEventListener("click",a),BrowserDetect.MOBILE||BrowserDetect.TABLET||(w[c]._awardArr[d].removeEventListener("mouseover",e),w[c]._awardArr[d].removeEventListener("mouseout",
k)));m.parentNode.removeChild(m)}var m=document.createElement("div"),q=d.getXML(),n,t,u,v,p,w=[],x,z;m.templateIn=function(){SmartObject(m);m._allowOverflowReset=!0;m.style.position="relative";_saveOverflow=Assets.LAYER_MID.style.overflow;m.style.background="#bac2bb";m.style.overflow="hidden";m.style.width="100%";m.style.height="auto";m.style.minHeight="100%";m.style.paddingBottom="22px";m.style.backgroundColor="rgb(186,194,187)";var a=document.createElement("div");a.style.width="20px";a.style.height=
"100%";a.style.position="absolute";a.style.left="-20px";a.style.background="#525453";a.style.zIndex=1E3;m.appendChild(a);n=document.createElement("div");n.style.position="relative";n.style.overflow="hidden";n.style.backgroundColor="rgb(175,182,176)";n.style.height="100%";n.style.minHeight=Assets.getWindowHeight()-20+"px";n.style.borderBottom="20px solid rgb(186,194,187)";n.style.left="20px";n.style.top="20px";t=(Assets.getWindowWidth()-40)/4;m.appendChild(n);u=new HMLogo;n.appendChild(u);v=document.createElement("span");
v.style.display="block";v.style.position="absolute";v.style.fontSize="33px";v.style.lineHeight="39px";v.style.color="#555658";v.innerHTML=q.querySelector(".intro-text").innerHTML;v.style.top="32px";n.appendChild(v);p=document.createElement("span");p.style.display="block";p.innerHTML=q.querySelector(".page-title").innerHTML;p.style.marginTop="480px";p.style.fontSize="33px";p.style.lineHeight="39px";p.style.color="#555658";p.style.marginLeft=t+20+"px";p.style.marginBottom="35px";a=p.querySelector(".white");
a.style.display="block";a.style.color="#fff";n.appendChild(p);for(var a=q.querySelectorAll(".year"),d=0;d<a.length;d++){var e=document.createElement("div");e.style.width=Assets.getWindowWidth()-80+"px";e.style.position="relative";e.style.marginLeft="20px";e.style.marginBottom=d==a.length-1?"140px":"40px";var k=document.createElement("span");k.style.fontSize="14px";k.style.display="inline-block";k.style.color="#fff";k.style.width=t+"px";k.style.paddingRight="20px";k.innerHTML=Assets.DATA_STATIC.querySelector("#year").innerHTML;
e.appendChild(k);e._yearTag=k;var k=(Assets.getWindowWidth()-40-t-40)/4,l=document.createElement("span");l.style.fontSize="14px";l.style.display="inline-block";l.style.color="#fff";l.style.width=k-50+"px";l.style.paddingRight="20px";l.innerHTML=Assets.DATA_STATIC.querySelector("#client").innerHTML;e.appendChild(l);e._clientTag=l;l=document.createElement("span");l.style.fontSize="14px";l.style.display="inline-block";l.style.color="#fff";l.style.width=k-20+40+"px";l.style.paddingRight="20px";l.innerHTML=
Assets.DATA_STATIC.querySelector("#project").innerHTML;e.appendChild(l);e._projectTag=l;l=document.createElement("span");l.style.fontSize="14px";l.style.display="inline-block";l.style.color="#fff";l.style.width=k-20+80+"px";l.style.paddingRight="20px";l.innerHTML=Assets.DATA_STATIC.querySelector("#award").innerHTML;e.appendChild(l);e._awardTag=l;l=document.createElement("span");l.style.fontSize="14px";l.style.display="inline-block";l.style.color="#fff";l.style.width=k-20-50+"px";l.innerHTML=Assets.DATA_STATIC.querySelector("#contest").innerHTML;
e.appendChild(l);e._contestTag=l;k=document.createElement("div");k.style.width="100%";k.style.marginTop="7px";k.style.marginBottom="7px";k.style.height="1px";k.style.backgroundColor="#9ea4a1";e.appendChild(k);k=document.createElement("span");k.style.position="absolute";k.innerHTML=a[d].getAttribute("data-year");k.style.color="#555658";k.style.fontSize="60px";k.style.left=0;k.style.top="27px";e._yearTitle=k;e.appendChild(k);k=new c(a[d],e);e._awardList=k;e.appendChild(k);w.push(e);n.appendChild(e)}f();
h();window.addEventListener("resize",h);Assets.LAYER_MID.appendChild(m);ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(q.getAttribute("data-path"))};m.setOverflows=function(){Assets.LAYER_MID.style.overflow="hidden";document.body.style.overflow="hidden"};m.templateOut=function(){window.removeEventListener("resize",h);Assets.TRANSITIONS_MANAGER.go(m,q,l)};return m}
function CultureTemplate(d){function c(){if(D!=w.length)if(0==D%5&&0!==D&&H[E]){var d=E,e=H[d].text,f=H[d].user.screen_name,f=String(f),h=H[d].created_at,d=h.split(" "),h=d[1]+" "+d[2]+", "+d[5],d=w[D].offsetWidth,k=w[D].offsetHeight,n=new l(w[D],e,f,h,d,k);w[D]._tweet=n;w[D].style.backgroundColor="#bac1ba";w[D].appendChild(n);setTimeout(function(){TweenMax.to(n,.3,{_opacity:1,ease:Linear.easeNone,delay:.2});E++;D++;c()},100)}else if(C&&C[y]){d=y;e=C[d].caption.text;f=C[d].user.username;h=!1;for(k=
0;k<K.length;k++)K[k]==f&&(h=!0);if(0==h)y++,c();else{var h=(new Date).setTime(1E3*C[d].created_time),h=m(new Date,h),q,p;"video"==C[d].type?(k=-1<navigator.userAgent.toLowerCase().indexOf("android"),q=!1,p=document.createElement("video"),p.canPlayType&&p.canPlayType("video/mp4").replace(/no/,"")&&(q=!0),"Firefox"==BrowserDetect.BROWSER_NAME&&34>=BrowserDetect.BROWSER_VERSION?(q=!0!==BrowserDetect.TABLET&&!0!==BrowserDetect.MOBILE?C[d].images.standard_resolution:C[d].images.low_resolution,p="image"):
1==k?(q=!0!==BrowserDetect.TABLET&&!0!==BrowserDetect.MOBILE?C[d].images.standard_resolution:C[d].images.low_resolution,p="image"):0==q?(q=!0!==BrowserDetect.TABLET&&!0!==BrowserDetect.MOBILE?C[d].images.standard_resolution:C[d].images.low_resolution,p="image"):(q=C[d].videos.low_resolution,q._image=C[d].images.standard_resolution,p="video")):(q=!0!==BrowserDetect.TABLET&&!0!==BrowserDetect.MOBILE?C[d].images.standard_resolution:C[d].images.low_resolution,p="image");var d=w[D].offsetWidth,k=w[D].offsetHeight,
t=new a(w[D],e,f,h,q,p,d,k);w[D]._insta=t;w[D].appendChild(t);t._loadImg.onload=function(){TweenMax.to(t,.3,{_opacity:1,ease:Linear.easeNone,delay:.2});D++;y++;c()}}}else H[E]&&(d=E,e=H[d].text,f=H[d].user.screen_name,f=String(f),h=H[d].created_at,d=h.split(" "),h=d[1]+" "+d[2]+", "+d[5],d=w[D].offsetWidth,k=w[D].offsetHeight,n=new l(w[D],e,f,h,d,k),w[D]._tweet=n,w[D].style.backgroundColor="#bac1ba",w[D].appendChild(n),setTimeout(function(){TweenMax.to(n,.3,{_opacity:1,ease:Linear.easeNone,delay:.2});
E++;D++;c()},100))}function a(a,c,d,k,l,m,n,q){a=new SmartObject;a._opacity=0;a.style.width="100%";a.style.height="100%";a.style.pointerEvents="all";if("video"==m){var p=document.createElement("video");p.src=l.url;p.loop=!0;p.muted=!0;p.style.width="100%";p.style.height="auto";p.style.marginTop=-(q/4)+"px";a._vid=p;m=l._image.url;a.style.backgroundImage="url("+m+")";a.style.backgroundSize="cover";a.style.backgroundRepeat="no-repeat";a.style.backgroundPosition="center center";a.style.overflow="hidden";
p.oncanplay=function(){this.play()};a.appendChild(p)}else m=l.url,a.style.backgroundImage="url("+m+")",a.style.backgroundSize="cover",a.style.backgroundRepeat="no-repeat",a.style.backgroundPosition="center center";l=new SmartObject;l.style.width=n-40+"px";l.style.height=q-40+"px";l.style.backgroundColor="rgba(175,182,176,.9)";l.style.pointerEvents="none";l.style.top=0;l.style.left=0;l._opacity=0;l._x=20;l._y=20;var t=new SmartObject;t.style.position="relative";t._x=20;t.style.width=n-80+"px";l._textWrap=
t;n=document.createElement("span");n.style.display="block";n.style.width="100%";1==BrowserDetect.MOBILE?(n.style.fontSize="18px",n.style.lineHeight="20px"):480>Assets.getWindowWidth()?(n.style.fontSize="18px",n.style.lineHeight="20px"):820>Assets.getWindowWidth()&&700<Assets.getWindowWidth()?(n.style.fontSize="20px",n.style.lineHeight="22px"):(n.style.fontSize="25px",n.style.lineHeight="27px");n.style.marginBottom="6px";n.style.color="#555658";if(-1<c.indexOf("#")||-1<c.indexOf("@"))for(c=c.split(" "),
p=0;p<c.length;p++)if(-1<c[p].indexOf("#")){var u=document.createElement("span");u.style.color="#fff";u.innerHTML=c[p]+" ";n.appendChild(u)}else-1<c[p].indexOf("@")?(u=document.createElement("span"),u.style.color="#fff",u.innerHTML=c[p]+" ",n.appendChild(u)):n.innerHTML+=c[p]+" ";else n.innerHTML=c;l._caption=n;t.appendChild(n);c=document.createElement("span");c.style.display="inline-block";c.style.fontSize="14px";c.style.color="#fff";c.innerHTML="@"+d;t.appendChild(c);d=document.createElement("span");
d.style.display="inline-block";d.style.fontSize="14px";d.style.color="#fff";d.style.marginLeft="5px";d.innerHTML=k;t.appendChild(d);l.appendChild(t);setTimeout(function(){t._y=BrowserDetect.MOBILE||BrowserDetect.TABLET?q-110-t._getHeight():q-56-t._getHeight()},20);a.appendChild(l);a._hovBlock=l;k=document.createElement("img");k.src=m;a._loadImg=k;!0!==BrowserDetect.TABLET&&!0!==BrowserDetect.MOBILE?(a.addEventListener("mouseover",f),a.addEventListener("mouseout",h)):(k=new SmartObject,k.style.marginTop=
"20px",k.style.display="block",k.style.width="35px",k.style.height="35px",k.style.borderRadius="100%",k.style.cursor="pointer",k.style.background="#fff",k.style.left="40px",k.style.bottom="40px",d=AssetLoader.getAsset("assets/images/ui/dots@2.png"),k.appendChild(d),a.appendChild(k),a.icon=k,a.iconInSite=d,a.hoverBlock=l,a.iconInSite=d,a.icon=k,a.addEventListener("click",e));return a}function e(a){J!=this&&(k(),TweenMax.to(this.hoverBlock,.3,{_opacity:1,ease:Linear.easeNone}),TweenMax.to(this.iconInSite,
.5,{delay:.1,rotation:180,ease:Expo.easeOut,overwrite:"all"}),G=setTimeout(k,4E3),J=this)}function k(){J&&(TweenMax.to(J.hoverBlock,.3,{_opacity:0,ease:Linear.easeNone}),TweenMax.to(J.iconInSite,.5,{rotation:0,ease:Expo.easeOut,overwrite:"all"}));G&&(clearTimeout(G),G=null)}function f(a){I&&TweenMax.to(I,.3,{_opacity:0,ease:Linear.easeNone});TweenMax.to(this._hovBlock,.3,{_opacity:1,ease:Linear.easeNone});I=this._hovBlock}function h(a){TweenMax.to(this._hovBlock,.3,{_opacity:0,ease:Linear.easeNone});
I=null}function l(a,c,d,e,f,h){a=new SmartObject;a.style.width=f-40+"px";a.style.height=h-40+"px";a.style.backgroundColor="#afb6b0";a._x=20;a._y=20;a._opacity=0;var k=new SmartObject;k.style.position="relative";k._x=20;k.style.width=f-80+"px";a._textWrap=k;f=document.createElement("span");f.style.display="block";f.style.width="100%";480>Assets.getWindowWidth()?(f.style.fontSize="18px",f.style.lineHeight="20px"):820>Assets.getWindowWidth()&&700<Assets.getWindowWidth()?(f.style.fontSize="20px",f.style.lineHeight=
"22px"):(f.style.fontSize="25px",f.style.lineHeight="27px");f.style.marginBottom="6px";f.style.color="#ffffff";if(-1<c.indexOf("https://")||-1<c.indexOf("http://")||-1<c.indexOf("@")){c=c.split(" ");for(var l=0;l<c.length;l++)if(-1<c[l].indexOf("https://")){var m=document.createElement("a");m.style.textDecoration="none";m.style.color="#555658";m.setAttribute("href",c[l]);m.setAttribute("target","_blank");m.innerHTML=c[l]+" ";m.className="cultureLink";f.appendChild(m)}else-1<c[l].indexOf("http://")?
(m=document.createElement("a"),m.style.textDecoration="none",m.style.color="#555658",m.setAttribute("href",c[l]),m.setAttribute("target","_blank"),m.innerHTML=c[l]+" ",m.className="cultureLink",f.appendChild(m)):-1<c[l].indexOf("@")?(m=document.createElement("span"),m.style.color="#555658",m.innerHTML=c[l]+" ",f.appendChild(m)):f.innerHTML+=c[l]+" "}else f.innerHTML=c;a._text=f;k.appendChild(f);f=document.createElement("span");f.style.display="inline-block";f.style.fontSize="14px";f.style.color="#fff";
f.innerHTML="@"+d;k.appendChild(f);d=document.createElement("span");d.style.display="inline-block";d.style.fontSize="14px";d.style.color="#fff";d.style.marginLeft="5px";d.innerHTML=e;k.appendChild(d);a.appendChild(k);setTimeout(function(){k._y=h-56-k._getHeight()},20);return a}function m(a,c){var d=a-c;return 6E4>d?1==Math.round(d/1E3)?Math.round(d/1E3)+" second ago":Math.round(d/1E3)+" seconds ago":36E5>d?1==Math.round(d/6E4)?Math.round(d/6E4)+" minute ago":Math.round(d/6E4)+" minutes ago":864E5>
d?1==Math.round(d/36E5)?Math.round(d/36E5)+" hour ago":Math.round(d/36E5)+" hours ago":2592E6>d?1==Math.round(d/864E5)?Math.round(d/864E5)+" day ago":Math.round(d/864E5)+" days ago":31536E6>d?1==Math.round(d/2592E6)?Math.round(d/2592E6)+" month ago":Math.round(d/2592E6)+" months ago":1==Math.round(d/31536E6)?Math.round(d/31536E6)+" year ago":Math.round(d/31536E6)+" years ago"}function q(a){C=JSON.parse(a);C=C.data;A=!0;1==B&&0==F&&(F=!0,c())}function n(a){H=JSON.parse(a);B=!0;1==A&&0==F&&(F=!0,c())}
function t(a){Assets.getWindowHeight();z=700>Assets.getWindowWidth()?1:1400>Assets.getWindowWidth()?2:2100>Assets.getWindowWidth()?3:4;a=Assets.getWindowWidth()/z;a=Math.round(a);for(var c=a*x,c=Math.round(c),d=0,e="#aeb6af",f="#aeb6af",h=0;h<w.length;h++){var k=w[h];k.style.width=a+"px";k.style.height=c+"px";k._x=h%z*a;0==h%z&&d++;0==h%z?e="#aeb6af"==e?f="#bac1ba":f="#aeb6af":f="#aeb6af"==f?"#bac1ba":"#aeb6af";k.style.backgroundColor=f;k._y=c*(d-1);if(w[h]._insta){var k=w[h]._insta,l=k._hovBlock;
1==BrowserDetect.MOBILE?(l._caption.style.fontSize="18px",l._caption.style.lineHeight="20px"):480>Assets.getWindowWidth()?(l._caption.style.fontSize="18px",l._caption.style.lineHeight="20px"):820>Assets.getWindowWidth()&&700<Assets.getWindowWidth()?(l._caption.style.fontSize="20px",l._caption.style.lineHeight="22px"):(l._caption.style.fontSize="25px",l._caption.style.lineHeight="27px");l.style.width=w[h].offsetWidth-40+"px";l.style.height=w[h].offsetHeight-40+"px";l._textWrap.style.width=w[h].offsetWidth-
80+"px";0<l._textWrap._getHeight()&&(l._textWrap._y=BrowserDetect.MOBILE||BrowserDetect.TABLET?w[h].offsetHeight-110-l._textWrap._getHeight():w[h].offsetHeight-56-l._textWrap._getHeight());k._vid&&(k._vid.style.marginTop=-(w[h].offsetHeight/4)+"px")}else w[h]._tweet&&(k=w[h]._tweet,480>Assets.getWindowWidth()?(k._text.style.fontSize="18px",k._text.style.lineHeight="20px"):820>Assets.getWindowWidth()&&700<Assets.getWindowWidth()?(k._text.style.fontSize="20px",k._text.style.lineHeight="22px"):(k._text.style.fontSize=
"25px",k._text.style.lineHeight="27px"),k.style.width=w[h].offsetWidth-40+"px",k.style.height=w[h].offsetHeight-40+"px",k._textWrap.style.width=w[h].offsetWidth-80+"px",0<k._textWrap._getHeight()&&(k._textWrap._y=w[h].offsetHeight-56-k._textWrap._getHeight()))}2100>Assets.getWindowWidth()&&1400<Assets.getWindowWidth()?(w[w.length-1].style.display="none",--d):w[w.length-1].style.display="block";v.style.height=c*d+"px"}function u(){window.removeEventListener("resize",t);v.parentNode.removeChild(v)}
var v=document.createElement("div"),p=d.getXML(),w=[],x=334/496,z=3,y=0,E=0,D=0,A=!1,B=!1,F=!1,C,H,I,J,G,K=[];v.templateIn=function(){SmartObject(v);v._allowOverflowReset=!0;v.style.position="relative";_saveOverflow=Assets.LAYER_MID.style.overflow;v.style.background="#bac2bb";v.style.overflow="hidden";v.style.width="100%";v.style.height="auto";v.style.minHeight="100%";v.style.paddingBottom="22px";v.style.backgroundColor="rgb(186,194,187)";var a=document.createElement("div");a.style.width="20px";a.style.height=
"100%";a.style.position="absolute";a.style.left="-20px";a.style.background="#525453";a.style.zIndex=1E3;v.appendChild(a);for(var a=p.querySelector(".instagram-list"),c=0;c<a.children.length;c++)K.push(a.children[c].innerHTML);for(var a=Assets.getWindowWidth()/z,c=0,d="#aeb6af",e="#aeb6af",f=0;36>f;f++){var h=new SmartObject;h.style.width=a+"px";h.style.height=a*x+"px";h._x=f%z*a;0==f%z&&c++;0==f%z?d="#aeb6af"==d?e="#bac1ba":e="#aeb6af":e="#aeb6af"==e?"#bac1ba":"#aeb6af";h.style.backgroundColor=e;
h._y=a*x*(c-1);w.push(h);v.appendChild(h)}v.style.height=a*x*c+"px";AJAX.load(Assets.SITE_BASE+"/social/gettweets.php",n,"GET");AJAX.load(Assets.SITE_BASE+"/social/getinstagrams.php",q,"GET");t();window.addEventListener("resize",t);Assets.LAYER_MID.appendChild(v);ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(p.getAttribute("data-path"))};v.setOverflows=function(){Assets.LAYER_MID.style.overflow="hidden";document.body.style.overflow="hidden"};v.templateOut=function(){for(var a=
0;a<w.length;a++)w[a]._insta&&(!0!==BrowserDetect.TABLET&&!0!==BrowserDetect.MOBILE?(w[a].removeEventListener("mouseover",f),w[a].removeEventListener("mouseout",h)):w[a].removeEventListener("click",f));Assets.TRANSITIONS_MANAGER.go(v,p,u)};return v}
function JournalTemplate(d){function c(a){}function a(){window.removeEventListener("resize",c);e.parentNode.removeChild(e)}var e=document.createElement("div"),k=d.getXML();e.templateIn=function(){SmartObject(e);e._allowOverflowReset=!0;e.style.position="relative";_saveOverflow=Assets.LAYER_MID.style.overflow;e.style.background="#bac2bb";e.style.overflow="hidden";e.style.width="100%";e.style.height="auto";e.style.minHeight="100%";e.style.paddingBottom="22px";e.style.backgroundColor="rgb(186,194,187)";
window.addEventListener("resize",c);Assets.LAYER_MID.appendChild(e);ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(k.getAttribute("data-path"))};e.setOverflows=function(){Assets.LAYER_MID.style.overflow="hidden";document.body.style.overflow="hidden"};e.templateOut=function(){Assets.TRANSITIONS_MANAGER.go(e,k,a)};return e}
function ProjectsTemplate(d){var c,a,e;function k(){var a=[],c=[],d=[],e=t.querySelectorAll("[data-type=dimension]"),k=0,l=e.length,m,n,q,p,v,I;for(k;k<l;k++){m=e[k];n=[];q={path:m.getAttribute("data-path")||"",headline:m.querySelector("[data-type=headline]").innerHTML,subHeadline:m.querySelector("[data-type=subHeadline]").innerHTML,subHeadlineColor:m.getAttribute("data-subHeadlineColor")||"",overlayColor:m.getAttribute("data-overlayColor")||"",bgColor:m.getAttribute("data-bgColor")||""};m=m.getAttribute("data-images").split(", ");
p=0;v=m.length;for(p;p<v;p++)I=m[p],n.push(I),a.push(I);c.push(n);d.push(q)}u=new FauxParallax({nrOfColumns:2,keepResizeRatio:!0,resizeLayersToFillCell:!0,resizeWithBreakPoints:!0,showOverlays:!0,animateRefreshes:!1,assets:a,cellData:c,cellAttributes:d});u._onBuildCallback=f;u._onRefreshCellsCallback=h;u.build()}function f(){var a=u.getAllCells(),c=0,d=a.length;for(c;c<d;c++){var e=SmartObject(a[c]);if(e._container||e._href)e.style.cursor="pointer";e.style.webkitTransform="";n.appendChild(e)}h();
q.addEventListener("click",l);q.killPreloader()}function h(){if(!u._buildFinished)return!1;var d=u.getAllCells(),f=d[0],h=Math.floor(f._width),f=Math.floor(f._height),k=0,l=d.length;e=a=c=0;var m=["#bac1ba","#aeb6af"];for(k;k<l;k++){var n=d[k];if(n._isHidden)l-1;else if(n._orgX=c*h,n._orgY=a*f,n._column=c+1,n._row=a+1,c+=1,e=a+1,k%u._nrOfColumns===u._nrOfColumns-1&&(c=0,a+=1),n._container){var t=m[0],F=m[1],t=0===k%2?t:F;0<k&&0===n._orgX&&3!==u._nrOfColumns&&1!==u._nrOfColumns?(t=d[k-1]._bgColor,
m=[t,"#bac1ba"===t?"#aeb6af":"#bac1ba"],n.style.background=t):n.style.background=n._bgColor=n._container._bgColor=t}}k=0;for(k;k<l;k++)n=d[k],v<window.innerWidth&&(n=d[l-k-1]),void 0!==n._orgX&&TweenMax.set(n,{left:n._orgX,top:n._orgY});v=window.innerWidth;p=e*f;p=p<window.innerHeight?window.innerHeight:p;q.setDocHeight()}function l(a){if(Assets.MAIN_MENU._isOpen)return!1;a=a||window.event;a=a.target||a.currentTarget;(BrowserDetect.IE9||BrowserDetect.IE10)&&a._rel&&(a=a._rel);a._attributes&&(Assets.RESET_SCROLL_TO_ZERO=
!0,ContentManager.path(a._attributes.path))}function m(){u.kill();u=null;q.parentNode.removeChild(q);q=null}var q=new SmartObject,n=new SmartObject,t=d.getXML(),u,v=window.innerWidth,p;q.templateIn=function(){console.log("ProjectsTemplate templateIn");q._allowOverflowReset=!0;q.style.position="absolute";q.style.background="#D3D6CD";q.style.width="100%";n.style.position="absolute";n.style.width="100%";n.style.height="100%";n.style.overflow="hidden";q.appendChild(n);requestAnimFrame(k);Assets.LAYER_MID.appendChild(q);
ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(t.getAttribute("data-path"))};q.buildTemplate=function(){};q.pause=function(){u&&u.checkVisibility(!0)};q.unpause=function(){u&&u.checkVisibility(!1,!0)};q.killPreloader=function(){};q.setOverflows=function(){Assets.LAYER_MID.style.overflow=Assets.mid_overflow;document.body.style.overflow=Assets.body_overflow};q.setDocHeight=function(){q.style.height=p+"px"};q.templateOut=function(){u._onBuildCallback=null;u._onRefreshCellsCallback=
null;u.removeEvents();u.deactivateCells();q.removeEventListener("click",l);Assets.TRANSITIONS_MANAGER.go(q,t,m)};return q}
function HomeTemplate(d){var c,a;function e(){A=B.getAllLayers();A[A.length-1]._isVisible=!0;J={oldLayer:null,newLayer:A[A.length-1]};B.addEvents();c=new ArrowButton("up",B.changeLayer,null,null,B.transitionManager);a=new ArrowButton("down",B.changeLayer,null,null,B.transitionManager);t();c.addEventListener("click",B.clearSlideshowInt);a.addEventListener("click",B.clearSlideshowInt);y.appendChild(c);y.appendChild(a);var d=0,e=A.length,f;for(d;d<e;d++){var m=D[d];f=A[d];f._data=A[d];f._headline=m.querySelector("[data-type=headline]").innerHTML;
f._subHeadline=m.querySelector("[data-type=subHeadline]").innerHTML;f._description=m.querySelector("[data-type=description]").innerHTML;f._color=m.getAttribute("data-color");f._bgColor=m.getAttribute("data-bgColor");f._panelColor=m.getAttribute("data-panelColor");f._title=m.querySelector("[data-type=title]").innerHTML;f._icon=m.getAttribute("data-icon");f._note=m.querySelector("[data-type=note]").innerHTML;f._path=m.getAttribute("data-path");f._hoverText=m.getAttribute("data-hoverText");f._catID=
m.getAttribute("data-cat");f.style.background="#"+f._bgColor;f._catID&&!(BrowserDetect.MOBILE||BrowserDetect.TABLET||Assets.CAT_ANIMATION_RUN||"Explorer"===BrowserDetect.BROWSER_NAME)&&900<=window.innerWidth&&(m=new Cat(f._catID,k),m._x=36,m._opacity=0,m.style.bottom="248px",m.style.zIndex=999,m._stack=f,f._cat=m,K.push(m))}u();d=0;e=K.length;for(d;d<e;d++)C.appendChild(K[d]),K[d]=null;d=[];e=[];f=[];var m=0,p=E.children.length;for(m;m<p;m++){var v,w=[],x=E.children[m].querySelector("[data-type=dimension]");
if(x){v={alignOnMobile:x.getAttribute("data-alignOnMobile")};var x=x.getAttribute("data-images").split(", "),G=0,I=x.length;for(G;G<I;G++){var W=x[G];w.push(W);d.push(W)}e.push(w);f.push(v)}}F=new FauxParallax({nrOfColumns:0,perspective:9E3,zoomDepth:145,resizeLayersToFillCell:!0,resizeWithBreakPoints:!1,showOverlays:!1,animateRefreshes:!1,dontRefreshCells:!0,hideCellsOnBuild:!1,addDesktopEvents:H,loadAssetsInReverse:!0,assets:d,cellData:e,cellAttributes:f});F._onBuildCallback=h;F._onResizeCallback=
l;F.build();q();z.addEventListener("click",n)}function k(a){a=a||G;if(!a)return!1;try{a.pause()}catch(c){}TweenLite.to(a,.3,{_opacity:0,onComplete:f,onCompleteParams:[a],ease:Linear.easeNone,overwrite:"all"})}function f(a){a=a||G;if(!a)return!1;a&&a.parentNode&&(a._stack._cat=null,a.parentNode.removeChild(a),a.unloadAssets())}function h(){var a=F.getAllCells(),c=0,d=A.length;for(c;c<d;c++){var e=a[c];e.style.position="absolute";A[c].appendChild(e)}z.killPreloader();(a=A[A.length-1]._cat)&&v(a)}function l(){var a=
F.getAllCells(),c=0,d=A.length,e=900>window.innerWidth||600>window.innerHeight;for(c;c<d;c++){var f=a[c],h=window.innerWidth,k=window.innerHeight,l=f._ratio,m=Math.ceil(1.1*h),n=Math.ceil(m*l);n<k&&(n=Math.ceil(1.1*k),m=Math.ceil(n/l));l=Math.ceil((h-m)/2);k=Math.ceil((k-n)/2);(e||BrowserDetect.MOBILE||BrowserDetect.TABLET)&&f._mobileAlign&&(l=-(m-h)*f._mobileAlign);f.refresh(m,n,!1);f.style.top=k+"px";f.style.left=l+"px"}}function m(a){requestAnimFrame(q)}function q(a){I=window.innerWidth/640;window.innerHeight<
window.innerWidth&&(I=window.innerHeight/640);C&&C.resize(a);t()}function n(a){a=a||window.event;a=a.target||a.currentTarget;if(a===C._hitArea||a._rel===C._hitArea)-1!==C._path.indexOf("http")?window.open(C._path):ContentManager.path(C._path)}function t(){if(a&&c){a._x=900>window.innerWidth||BrowserDetect.MOBILE?c._x=window.innerWidth-70:c._x=window.innerWidth-90;var d=.7*window.innerHeight;c._y=d;a._y=d+54}}function u(){var d=D[D.length-1];C=new SmartObject;C.style.position="absolute";C.style.zIndex=
999;C.style.width="50%";C.style.height="100%";C._color="fade";C._text=BrowserDetect.MOBILE||BrowserDetect.TABLET?"fade":"slide single";C._reverseText=!1;C._path=d.getAttribute("data-path");if(B._gui){var e=B._gui.addFolder("Panel");e.open();e.add(C,"_color",["slide","fade"]);e.add(C,"_text",["slide all","slide single","fade"])}var f=new SmartObject;f.style.position="absolute";f.style.left="52%";f.style.bottom="70px";f.style.right=0;f.style.width="auto";f.style.maxWidth="400px";f.style.height="auto";
f.style.minHeight="200px";f.style.margin="0px 40px 0px 0px";f.style.display="block";f.style.cursor="pointer";f.style.overflow="visible";var h=document.createElement("span");h.innerHTML=d.querySelector("[data-type=title]").innerHTML;h.style.display="block";h.style.fontSize="14px";h.style.marginBottom="30px";h.style.color="#"+d.getAttribute("data-color");var l=document.createElement("span");l.innerHTML=d.querySelector("[data-type=headline]").innerHTML;l.style.display="block";l.style.fontSize="33px";
l.style.lineHeight="36px";l.style.color="#fff";l.style.marginLeft="-2px";l.style.paddingLeft="2px";var m=document.createElement("span");m.innerHTML=d.querySelector("[data-type=subHeadline]").innerHTML;m.style.display="block";m.style.fontSize="33px";m.style.lineHeight="36px";m.style.color="#"+d.getAttribute("data-color");var n=document.createElement("span");n.style.marginTop="20px";n.style.display="block";n.style.width="35px";n.style.height="35px";n.style.borderRadius="100%";n.style.cursor="pointer";
n.style.background="#fff";var q=AssetLoader.getAsset("assets/images/ui/dots@2.png");q.width=35;q.height=35;var p=AssetLoader.getAsset("assets/images/ui/dots-white@2.png");p.style.opacity=0;var t=new OffsiteButton;n.appendChild(q);n.appendChild(p);n.appendChild(t);-1!==C._path.indexOf("http")?(t.style.opacity=1,q.style.opacity=0):(t.style.opacity=0,q.style.opacity=1);var u=new SmartObject;u.style.width="200px";u.innerHTML=d.getAttribute("data-hoverText")||"See more";u._x=40;u._y=12;u._opacity=0;u.style.color=
"#"+d.getAttribute("data-color");u._color="#"+d.getAttribute("data-color");u.style.fontFamily="TheinhardtRegular";n.appendChild(u);var x=document.createElement("span");x.style.marginTop="30px";x.style.display="block";x.style.fontSize="14px";x.style.lineHeight="18px";x.innerHTML=d.querySelector("[data-type=description]").innerHTML;x.style.fontFamily="TheinhardtRegular";x.style.color="#"+d.getAttribute("data-color");var z=new SmartObject;z.style.position="absolute";z.style.left="52%";z.style.bottom=
"20px";z.style.right=0;z.style.width="100%";z.style.height="auto";z.style.minHeight="200px";z.style.margin="0px 40px 0px 0px";z.style.display="block";z.style.cursor="pointer";z.style.zIndex=100;z.style.background="transparent";"Explorer"===BrowserDetect.BROWSER_NAME&&(e=Assets.getTransparentBg(),e._rel=z,z.appendChild(e));z.onmouseover=function(a){TweenMax.to(u,.5,{_opacity:1,x:50,ease:Expo.easeOut,overwrite:"all"});-1!==C._path.indexOf("http")?t.mouseOver():TweenMax.to(q,.5,{rotation:180,ease:Expo.easeOut,
overwrite:"all"})};z.onmouseout=function(a){TweenMax.to(u,.5,{_opacity:0,x:40,ease:Expo.easeOut,overwrite:"all"});-1!==C._path.indexOf("http")?t.mouseOut():TweenMax.to(q,.5,{rotation:0,ease:Expo.easeOut,overwrite:"all"})};C._hitArea=z;f.appendChild(h);f.appendChild(l);f.appendChild(m);f.appendChild(n);f.appendChild(x);C.appendChild(z);e=new SmartObject;e.style.position="absolute";e.style.width="100%";e.style.height="100%";var A=new SmartObject;A.style.position="absolute";A.innerHTML=Assets.DATA_STATIC.querySelector("#whats-up").innerHTML;
A.style.fontSize="14px";A.style.left="52%";A.style.top="30px";A.style.color="#"+d.getAttribute("data-color");var H=new SmartObject;H.style.width="45px";H.style.height="1px";H.style.position="absolute";H.style.top="8px";H.style.right="-49px";H.style.backgroundColor=A.style.color;A.appendChild(H);var G=new HMLogo;C._logo=G;var F=Assets.DATA_STATIC.querySelector("#email").innerHTML,E=document.createElement("a");E.style.position="absolute";E.style.fontFamily="TheinhardtRegular";E.href="mailto:"+F;E.innerHTML=
F;E.style.left="20px";E.style.bottom="20px";E.style.color="#"+d.getAttribute("data-color");E.style.textDecoration="none";BrowserDetect.DESKTOP&&(E.addEventListener(MouseEvent.MOUSE_OVER,function(a){TweenMax.to(E,.2,{opacity:.5,ease:Linear.easeNone})}),E.addEventListener(MouseEvent.MOUSE_OUT,function(a){TweenMax.to(E,.2,{opacity:1,ease:Linear.easeNone})}));var K=new SmartObject;K.style.position="absolute";K.innerHTML="&copy; Copyright "+(new Date).getFullYear();K.style.fontFamily="TheinhardtRegular";
K.style.left="52%";K.style.bottom="20px";K.style.color="#"+d.getAttribute("data-color");var V=new SmartObject;V.style.opacity=0;V.innerHTML=d.querySelector("[data-type=note]").innerHTML.trunc(250/3,!0);V.style.position="absolute";V.style.left="20px";V.style.fontSize="14px";V.style.color="#"+d.getAttribute("data-color");V.style.maxWidth="200px";var ca=V.cloneNode(!0);ca.style.opacity=0;ca.innerHTML=h.innerHTML;ca.style.left="52%";e.appendChild(A);e.appendChild(G);e.appendChild(E);e.appendChild(K);
e.appendChild(f);e.appendChild(V);e.appendChild(ca);var aa=new SmartObject;aa.style.position="absolute";aa.style.display="block";aa.style.width="100%";aa.style.height="auto";aa.style.top=0;aa.style.left=0;aa.style.right=0;aa.style.bottom=0;aa.style.margin="20px 0px 20px 20px";F=new SmartObject;F.style.position="absolute";F.style.width="100%";F.style.height="100%";F.style.opacity=.9;var da=new SmartObject;da.style.position="absolute";da.style.width="100%";da.style.height="100%";da.style.background=
"#"+d.getAttribute("data-panelColor");da.style.opacity=.9;TweenMax.set(da,{x:0,y:0,z:0});aa._curr=da;aa._bg1=F;aa._bg2=da;aa.appendChild(F);aa.appendChild(da);aa.appendChild(e);C.appendChild(aa);C.resize=function(a){I=window.innerWidth/640;window.innerHeight<window.innerWidth&&(I=window.innerHeight/640);C.style.width=window.innerWidth/2-20+"px";G.resize();a=900>window.innerWidth||600>window.innerHeight;u.style.visibility=580<window.innerHeight?"visible":"hidden";a||BrowserDetect.MOBILE?(f.style.left=
"20px",K.style.opacity=0,A.style.opacity=0,V.style.display="none",x.style.display="none",BrowserDetect.MOBILE&&window.innerWidth>window.innerHeight?(E.style.opacity=0,f.style.left="52%",ca.style.opacity=1,h.style.display="none"):(E.style.opacity=1,ca.style.opacity=0,h.style.display="block")):(f.style.left="52%",K.style.opacity=1,A.style.opacity=1,V.style.display="block",x.style.display="block");f.style.minHeight=.25*C.offsetHeight+"px";a?(h.style.fontSize=14*I+"px",h.style.marginBottom=30*I+"px",
l.style.fontSize=33*I+"px",l.style.lineHeight=33*1.083333333*I+"px",m.style.fontSize=33*I+"px",m.style.lineHeight=33*1.083333333*I+"px",f.style.bottom=window.innerWidth>window.innerHeight?"50px":(500>window.innerHeight?100:180)*I+"px"):(h.style.fontSize="14px",h.style.marginBottom="30px",l.style.fontSize="33px",l.style.lineHeight=33*1.083333333+"px",m.style.fontSize="33px",m.style.lineHeight=33*1.083333333+"px",f.style.bottom="70px");setTimeout(function(){V.style.top=w(x).top-20+"px";V.style.opacity=
1;ca.style.top="30px";z.style.width=100>f.offsetLeft?"100%":"50%";z.style.height=100>f.offsetLeft?"50%":"90%";z.style.left=f.style.left},0)};C.resize();B._onChangeLayerCompleteCallback=function(){J.oldLayer.style.display="none"};B._onChangeLayerStartCallback=function(d){var e=d.oldLayer._cat;e&&k(e);(e=d.newLayer._cat)&&v(e);_gaq.push(["_trackEvent","Home","up"===d.moveDirection?"Next":"Previous",d.newLayer._headline]);var y=B.transitionManager._options.speed;J=d;d.oldLayer._isVisible=!1;d.newLayer._isVisible=
!0;if("down"===d.moveDirection)c.onClick(null,!0);else if("up"===d.moveDirection)a.onClick(null,!0);if("fade"===C._color){var z=d.newLayer,e=d.moveDirection,F=50*("down"===e||"left"===e?-1:1);TweenMax.to(aa._curr,.7*y,{backgroundColor:"#"+z._panelColor,ease:Expo.easeInOut,overwrite:"all"})}"fade"===C._text&&(e=d.moveDirection,TweenMax.to(f,y/3,{opacity:BrowserDetect.MOBILE||BrowserDetect.TABLET?1:0,ease:Expo.easeInOut,overwrite:"all",onComplete:function(){l.innerHTML=z._headline;m.innerHTML=z._subHeadline;
m.style.color="#"+z._color;h.innerHTML=z._title;h.style.color="#"+z._color;x.innerHTML=z._description;x.style.color="#"+z._color;V.innerHTML=z._note;V.style.color="#"+z._color;V.style.top=w(x).top-20+F+"px";ca.innerHTML=h.innerHTML;ca.style.color="#"+z._color;ca.style.top="30px";u.innerHTML=z._hoverText||"See more";u._color="#"+z._color;u.style.color=u._color;n.style.background="#fff";C._path=z._path;p.style.opacity=0;-1!==C._path.indexOf("http")?(t.style.opacity=1,q.style.opacity=0):(t.style.opacity=
0,q.style.opacity=1);BrowserDetect.MOBILE||BrowserDetect.TABLET||TweenMax.to(f,y/3,{opacity:1,ease:Expo.easeInOut,overwrite:"all"})}}));if("slide single"===C._text){e=d.moveDirection;F=75*("down"===e||"left"===e?-1:1);C._reverseText&&(F*=-1);var G=[h,l,m,n,x,V];if("down"===e||"left"===e)G=[x,n,m,l,h,V];var D=1.3/G.length/10;TweenMax.staggerTo(G,y/3,{opacity:0,x:0,y:-F,z:0,ease:Expo.easeInOut,overwrite:"all",onComplete:function(){l.innerHTML=z._headline;m.innerHTML=z._subHeadline;m.style.color="#"+
z._color;h.innerHTML=z._title;h.style.color="#"+z._color;x.innerHTML=z._description;x.style.color="#"+z._color;V.innerHTML=z._note;V.style.color="#"+z._color;V.style.top=w(x).top-20+F+"px";ca.innerHTML=h.innerHTML;ca.style.color="#"+z._color;ca.style.top="30px";u.innerHTML=z._hoverText||"See more";u._color="#"+z._color;u.style.color=u._color;n.style.background="#fff";C._path=z._path;p.style.opacity=0;-1!==C._path.indexOf("http")?(t.style.opacity=1,q.style.opacity=0):(t.style.opacity=0,q.style.opacity=
1);TweenMax.set(G,{x:0,y:F,z:0});TweenMax.staggerTo(G,y/3,{opacity:1,x:0,y:0,z:0,ease:Expo.easeInOut,overwrite:"all"},D)}},D)}TweenMax.to([A,K,E],y,{color:"#"+z._color,ease:Expo.easeInOut,overwrite:"all"});TweenMax.to(H,y,{backgroundColor:"#"+z._color,ease:Expo.easeInOut,overwrite:"all"})};y.appendChild(C)}function v(a){if(a=a||G)TweenLite.to(a,.3,{delay:.8,_opacity:1,onComplete:p,onCompleteParams:[a],ease:Linear.easeNone}),Assets.CAT_ANIMATION_RUN=!0}function p(a){if(a)try{a.play()}catch(c){}}function w(a){var c,
d={top:0,left:0},e=a&&a.ownerDocument;c=e.documentElement;"undefined"!==typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect());a=null!=e&&e===e.window?e:9===e.nodeType&&e.defaultView;return{top:d.top+a.pageYOffset-c.clientTop,left:d.left+a.pageXOffset-c.clientLeft}}function x(){c.removeEvents();a.removeEvents();c.removeEventListener("click",B.clearSlideshowInt);a.removeEventListener("click",B.clearSlideshowInt);C._hitArea.onmouseover=null;C._hitArea.onmouseout=null;J=C=C._logo.onclick=null;
var d=0,e=A.length;for(d;d<e;d++)A[d]&&A[d].parentNode&&A[d].parentNode.removeChild(A[d]),A[d]=null;A=null;B._onBuildCallback=null;B._onResizeCallback=null;B._onChangeLayerCompleteCallback=null;B._onChangeLayerStartCallback=null;y.removeChild(B);B.kill();B=null;z.removeChild(y);y=null;F.kill();F=null;z.parentNode.removeChild(z);z=null}var z=new SmartObject,y=new SmartObject,E=d.getXML(),D=E.querySelectorAll("[data-type=case]"),A,B,F,C;c=a=null;var H=BrowserDetect.MOBILE||BrowserDetect.TABLET?!1:!0,
I,J,G,K=[];z.templateIn=function(){z._allowOverflowReset=!1;z.style.width="100%";z.style.height="100%";z.style.background="#D3D6CD";y.style.width="100%";y.style.height="100%";y.style.overflow="hidden";y.___MEM_ID___="PageWrapper";z.appendChild(y);var a=new SmartObject;a.style.width="20px";a.style.height="100%";a.style.position="absolute";a.style.left="-20px";a.style.background="red";a.style.zIndex=1E3;B=new StackTransition(null,!0,H,E.children.length);B._onBuildCallback=e;B._onResizeCallback=m;B.setup();
y.appendChild(B);B.setSlideshowInt();Assets.LAYER_MID.appendChild(z);ContentManager.nextTemplate();Assets.MAIN_MENU.highlightMenuItemFromPath(E.getAttribute("data-path"))};z.killPreloader=function(){};z.setOverflows=function(){Assets.LAYER_MID.style.overflow="hidden";document.body.style.overflow="hidden"};z.hideContent=function(){};z.showContent=function(){};z.hideActiveCat=function(){k()};z.templateOut=function(){z.hideActiveCat();B.clearSlideshowInt();z.removeEventListener("click",n);B.removeEvents();
F.removeEvents();Assets.TRANSITIONS_MANAGER.go(z,E,x)};return z}
function FauxParallax(d){function c(){var c=z.cellData;if(c){A=[];var d=0,e=c.length;for(d;d<e;d++){var f=new Cell(c[d],x,d,z.cellAttributes[d]);x._hideCellsOnBuild&&(f.style.opacity=0);D.push(f);A.push(f)}a();d=0;e=3;for(d;d<e;d++){f=document.createElement("div");f._type="extraFooterCellCTA";f.style.background="#AFB6B0";f._width=Math.ceil(x._width);f._height=Math.ceil(x._height);f._ratio=f._height/f._width;f.style.borderTop="20px solid #BAC3BB";f.style.borderBottom="20px solid #BAC3BB";0===d?f.style.borderLeft=
"20px solid #BAC3BB":2===d&&(f.style.borderRight="20px solid #BAC3BB");if(2===d){c=new SmartObject;c.style.position="absolute";c.innerHTML="Looking for more";c.style.fontSize="14px";c.style.left="20px";c.style.top="20px";c.style.color="#fff";var h=new SmartObject;h.style.width="45px";h.style.height="1px";h.style.position="absolute";h.style.top="11px";h.style.right="-44px";h.style.backgroundColor="#fff";c.appendChild(h);h=SmartObject(document.createElement("a"));h.style.position="absolute";h.innerHTML=
"<span style='color:#fff;'>It's a wrap<br /></span><span style='color:#4E4F51;'>Want to create<br />great things<br />with us?<br /></span><span style='color:#fff;'>hello@hellomonday.com</span>";h.style.fontSize="14px";h.style.left="20px";h.style.bottom="20px";h.style.color="#fff";h.style.fontSize="20px";h.style.lineHeight="24px";h.style.cursor="pointer";h.setAttribute("href","mailto:hello@hellomonday.com");h.className="itsAwrapLink";f.appendChild(c);f.appendChild(h)}f.refresh=function(a,c,d){a&&
(d&&(this._width=a,this._height=this._width*this._ratio),this._width=Math.ceil(this._width),this._height=Math.ceil(this._height));this.style.width=this._width+"px";this.style.height=this._height+"px"};D.push(f);A.push(f);C.push(f)}x&&"function"===typeof x._onAddCellsCallback&&x._onAddCellsCallback(A)}else console.log("Error: No cell data provided")}function a(){H=x._loadAssetsInReverse?D.length-1:0;I=D.length;e()}function e(){var a=D[H];a._onAddLayersCallback=k;a._loadAssets()}function k(){if(!x)return!1;
x._loadAssetsInReverse?H--:H++;if(x._loadAssetsInReverse&&0>H||H>=I)return x._allCellImagesLoaded=!0,x&&"function"===typeof x._onAllAssetsLoadedCallback&&x._onAllAssetsLoadedCallback(x),!1;e()}function f(){B&&(B=!1,x._addDesktopEvents&&(window.removeEventListener("mousemove",h),window.removeEventListener("scroll",q)),window.removeEventListener("resize",l),window.removeEventListener("deviceorientation",t),window.removeEventListener("orientationchange",u),x&&"function"===typeof x._onRemoveEventsCallback&&
x._onRemoveEventsCallback(x))}function h(a){a=a||window.event;clearTimeout(y.timeout);y.isMoving=!0;y.x=a.clientX;y.y=a.clientY;y.timeout=setTimeout(function(a){y.isMoving=!1;if(D){var c=0,d=D.length;for(c;c<d;c++){var e=D[c];e&&e._onMouseOut&&e._onMouseOut(a,e)}}},y.timeoutDelay);var c=0,d=D.length;for(c;c<d;c++){var e=D[c];if(!e._isSelected&&e._isLoaded){var f=e.getBoundingClientRect(),f=f.top>-f.height&&f.top+f.height<window.innerHeight+f.height;!f&&e.parentNode&&e.parentNode._isVisible&&(f=!0);
(e._isVisible=f)&&e._onMouseMove&&e._onMouseMove(a,e)}}x&&"function"===typeof x._onMouseMoveCallback&&x._onMouseMoveCallback(y)}function l(a){requestAnimFrame(m)}function m(a){v();F.clientX=(window.innerWidth-30)/2;F.clientY=(window.innerHeight-30)/2;x._resizeWithBreakPoints&&(x._nrOfColumns=700>window.innerWidth?1:1400>window.innerWidth?2:2100>window.innerWidth?3:4);x._currWinWidth=window.innerWidth-Assets.SCROLLBAR_WIDTH;x.refreshCells();x&&"function"===typeof x._onResizeCallback&&x._onResizeCallback(x)}
function q(a){requestAnimFrame(n)}function n(a){a=document.documentElement;x._scroll={x:(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),y:(window.pageYOffset||a.scrollTop)-(a.clientTop||0)};x&&"function"===typeof x._onScrollCallback&&x._onScrollCallback(x._scroll)}function t(a){var c=Math.round(a.alpha),d=Math.round(a.beta),e=Math.round(a.gamma),f=a.timeStamp;E.absolute=a.absolute;E.alpha=c;E.beta=d;E.gamma=e;E.timeStamp=f;E.prevValue=E.currValue;E.currValue=E.beta;if(x._allCellImagesLoaded)for(E.currValue%=
360,a=E.isLandscape?1.35:1.22,a={clientX:F.clientX*(E.isLandscape?E.beta:-E.gamma)/20+window.innerWidth/900*a*360,clientY:-(F.clientY*(E.isLandscape?E.gamma:E.beta))/20+window.innerHeight/900*a*360},c=0,d=D.length,e=0,c;c<d;c++)if(f=D[c],!f._isSelected&&f._isLoaded){var h=f.getBoundingClientRect();h.top>-h.height&&h.top+h.height<window.innerHeight+h.height&&(f._onMouseMove&&f._onMouseMove(a,f),e++)}}function u(a){v()}function v(){if(!window.matchMedia)return!1;var a=window.matchMedia("(orientation: portrait)");
a?(E.isLandscape=a.matches?!1:!0,a.addListener(p)):(a=window.getComputedStyle(document.body,":after"),E.isLandscape="p"==a.content?!1:"l"==a.content?!0:window.innerWidth>=window.innerHeight)}function p(a){E.isLandscape=a.matches?!1:!0}function w(){var a=1,c=arguments.length;for(a;a<c;a++)for(var d in arguments[a])arguments[a].hasOwnProperty(d)&&(arguments[0][d]=arguments[a][d]);for(var e in z)z.hasOwnProperty(e)&&(a=e,d=z[e],x["_"+a]=d);return arguments[0]}var x={};x._scroll;x._dynamicOut=!0;x._buildFinished=
!1;x._currWinWidth=window.innerWidth;x._onGetAllCellsCallback=null;x._onGetCellCallback=null;x._onRefreshCellsCallback=null;x._onUpdateOptionsCallback=null;x._onScrollCallback=null;x._onResizeCallback=null;x._onMouseMoveCallback=null;x._onRemoveEventsCallback=null;x._onAddEventsCallback=null;x._onAddCellsCallback=null;x._onBuildCallback=null;x._onLoadAssetsCallback=null;x._onInitCallback=null;x._onAddSingleCellCallback=null;x._onRefreshSingleCellCallback=null;x._onAllAssetsLoadedCallback=null;var z=
{perspective:1E3,overflow:"hidden",width:496,height:334,keepResizeRatio:!1,zoomDepth:45,nrOfColumns:0,resizeWithBreakPoints:!1,resizeLayersToFillCell:!1,resizeCellToFillParent:!1,animateRefreshes:!0,animateHovers:!1,showOverlays:!1,dontRefreshCells:!1,hideCellsOnBuild:!0,addDesktopEvents:!0,loadAssetsInReverse:!1,assets:["../development/assets/images/gfx3d/0-1.png","../development/assets/images/gfx3d/0-2.png"],cellData:[["../development/assets/images/gfx3d/0-1.png","../development/assets/images/gfx3d/0-2.png"]],
cellAttributes:[[{headline:"",subHeadline:"",overlayColor:""}]]},y={x:0,y:0,timeout:null,timeoutDelay:1E3,isMoving:!1,isDown:!1},E={currValue:0,prevValue:0,absolute:0,alpha:0,gamma:0,beta:0,timeStamp:null,isLandscape:!1},D=[],A,B=!1,F,C=[],H,I;x.loadCellAssets=a;x.removeEvents=f;x.checkVisibility=function(a,c){var d=0,e=D.length,f=0;for(d;d<e;d++){var h=D[d];if(!h._isSelected){var k=h.getBoundingClientRect(),k=k.top>-k.height&&k.top+k.height<window.innerHeight+k.height;!k&&h.parentNode&&h.parentNode._isVisible&&
(k=!0);k||h._type||(a?h.style.display="none":c&&(h.style.display="block"),f++);h._isVisible=k}}console.log("FauxParallax checkVisibility "+(c?"show":a?"hide":""),f)};x.updateOptions=function(a){w(z,a);x&&"function"===typeof x._onUpdateOptionsCallback&&x._onUpdateOptionsCallback(z);return x};x.build=function(a){a&&x.updateOptions(a);x&&"function"===typeof x._onLoadAssetsCallback&&x._onLoadAssetsCallback(z.assets);F=document.createElement("div");c();B?console.log("Error: Events already added"):(B=!0,
x._addDesktopEvents&&(window.addEventListener("mousemove",h),window.addEventListener("scroll",q)),window.addEventListener("resize",l),window.addEventListener("deviceorientation",t),window.addEventListener("orientationchange",u),x&&"function"===typeof x._onAddEventsCallback&&x._onAddEventsCallback(x));m();n();v();x._buildFinished=!0;x&&"function"===typeof x._onBuildCallback&&x._onBuildCallback(A);return x};x.refreshCells=function(){if(x._dontRefreshCells)return!1;var a=0,c=D.length,d=0,e=0,f=null,
h=0;x._nrOfColumns&&(d=(window.innerWidth-Assets.SCROLLBAR_WIDTH)/x._nrOfColumns);for(a;a<c;a++){var k=D[a];x._resizeCellToFillParent&&k.parentNode&&(d=k.parentNode.offsetWidth||d,e=k.parentNode.offsetHeight||e);k.refresh(d,e,x._keepResizeRatio);x._hideCellsOnBuild&&(_hideCellsOnBuild=!1,k.style.opacity=1);if(!k._container){null===f&&(f=(c-3)/Math.ceil(x._currWinWidth/d),f=f>Math.floor(f))&&(h=Math.ceil(x._currWinWidth/d),h-=(c-3)%h);var l=a-c+3;1===h?2!==l?(k._isHidden=!0,k.style.display="none"):
(k._isHidden=!1,k.style.display="block",k.style.borderLeft="20px solid #BAC3BB"):2===h?1===l?(k._isHidden=!0,k.style.display="none"):(k._isHidden=!1,k.style.display="block"):3===h?(k._isHidden=!1,k.style.display="block"):(k._isHidden=!0,k.style.display="none");1!==h&&2===l&&(k.style.borderLeft="0px solid #BAC3BB")}}x&&"function"===typeof x._onRefreshCellsCallback&&x._onRefreshCellsCallback(D);return x};x.getCell=function(a,c){x&&"function"===typeof x._onGetCellCallback&&x._onGetCellCallback(A[c]);
return"last"===a?A[c]:D[c]};x.getAllCells=function(a){x&&"function"===typeof x._onGetAllCellsCallback&&x._onGetAllCellsCallback(A);return"last"===a?A:D};x.kill=function(){f();F=null;y.timeout&&clearTimeout(y.timeout);var a=0,c=D.length;for(a;a<c;a++)D[a].kill&&D[a].kill(),D[a]._onAddLayersCallback=null,D[a]._isHidden=null,D[a]=null;a=0;c=C.length;for(a;a<c;a++)C[a].kill&&C[a].kill(),C[a]._isHidden=null,C[a]=null;if(A)for(a=0,c=A.length,a;a<c;a++)A[a].kill&&A[a].kill(),A[a]._isHidden=null,A[a]=null;
C=D=A=null;x.parentNode&&x.parentNode.removeChild(x);x=null};x.deactivateCells=function(){var a=0,c=D.length;for(a;a<c;a++)D[a].removeEvents&&D[a].removeEvents();a=0;c=C.length;for(a;a<c;a++)C[a].removeEvents&&C[a].removeEvents();if(A)for(a=0,c=A.length,a;a<c;a++)A[a].removeEvents&&A[a].removeEvents()};x.updateOptions(d);x&&"function"===typeof x._onInitCallback&&x._onInitCallback(x);return x}
function Cell(d,c,a,e){function k(){var a=0,c=d.length,e=10;if(!w)return!1;w.style.background=p._attributes?"#"+p._attributes.bgColor:"";for(a;a<c;a++){var f=AssetLoader.getAsset(d[a]);f._orgW=f.width||f.naturalWidth;f._orgH=f.height||f.naturalHeight;f._ratio=f._orgH/f._orgW;f._orgRatioW=f._ratio;f._orgRatioH=f._orgW/f._orgH;f._orgX=-(f._orgW-p._width)/2;f._orgY=-(f._orgH-p._height)/2;f._orgZ=e;e+=10;A||TweenMax.set(f,{x:f._orgX,y:f._orgY,z:f._orgZ});f.style.pointerEvents="none";x.appendChild(f);
p._layerArr.push(f)}D||(w.style.opacity=0,TweenMax.to(w,.3,{opacity:1,ease:Linear.easeNone,overwrite:"all"}),TweenMax.to(p,0,{delay:.25,overwrite:"all",onComplete:function(){Assets.LOADED_PROJECTS_GRID_ITEMS[d[d.length-1]]||(Assets.LOADED_PROJECTS_GRID_ITEMS[d[d.length-1]]=d[d.length-1]);p&&(p._isLoaded=!0,"function"===typeof p._onAddLayersCallback&&p._onAddLayersCallback(p._layerArr))}}));p.refresh()}function f(){z=new SmartObject;z.style.position="absolute";z.style.width=p._width+"px";z.style.height=
p._height+"px";z.style.color="#fff";z.style.textAlign="left";z.style.pointerEvents="none";z.style.padding="20px";z.style.font="25px/27px ClarendonLTStdBold";if(p._attributes)var a=p._attributes.overlayColor||Math.random().toString(16).slice(2,8),c=p._attributes.headline,d=p._attributes.subHeadline,e=p._attributes.subHeadlineColor||"000";else d=c=a="",e="000";var f=document.createElement("div");f.style.width="100%";f.style.height="100%";f.style.color="#fff";f.style.background="rgba("+v(a)+", 0.80)";
a=new SmartObject;a.style.position="absolute";a.style.left="40px";a.style.bottom="90px";a.style.width="80%";a.innerHTML=c+"<br/><span style='color:#"+e+";'>"+d+"</span>";c=new SmartObject;c.style.marginTop="20px";c.style.display="block";c.style.width="35px";c.style.height="35px";c.style.borderRadius="100%";c.style.cursor="pointer";c.style.background="#fff";c.style.left="40px";c.style.bottom="40px";var h=AssetLoader.getAsset("assets/images/ui/dots@2.png");h.width=35;h.height=35;c.appendChild(h);if(BrowserDetect.MOBILE||
BrowserDetect.TABLET)d=c.cloneNode(!0),d._parent=p._parent,d.addEventListener("click",function(a){z._isVisible?z.hide(a,p):(z.show(a,p),clearTimeout(p._lastTouchedTimeout),p._lastTouchedTimeout=setTimeout(function(){z.hide(a,p)},4E3))}),"HomeTemplate"!==ContentManager._activeTemplates[0].templateName&&p.appendChild(d);f.appendChild(a);f.appendChild(c);z.appendChild(f);p._parent._showOverlays&&p.appendChild(z);p._overlay=z;z.show=function(a,c){c=c||p;c._mouseInDirection=t(a,c);z._isVisible=!0;TweenMax.to(z,
.3,{opacity:1,ease:Linear.easeNone,overwrite:"all"});TweenMax.to(h,.5,{delay:.1,rotation:180,ease:Expo.easeOut,overwrite:"all"});p&&"function"===typeof p._onOverlayShowCallback&&p._onOverlayShowCallback(z)};z.hide=function(a,c){c=c||p;c._mouseOutDirection=t(a,c);z._isVisible=!1;TweenMax.to(z,.3,{opacity:0,ease:Linear.easeNone,overwrite:"all"});TweenMax.to(h,.5,{rotation:0,ease:Expo.easeOut,overwrite:"all"});p&&"function"===typeof p._onOverlayHideCallback&&p._onOverlayHideCallback(z)};p&&"function"===
typeof p._onAddOverlayCallback&&p._onAddOverlayCallback(z)}function h(){E&&(E=!1,p._parent._addDesktopEvents&&(p.removeEventListener("mousemove",l),p.removeEventListener("mouseover",m),p.removeEventListener("mouseout",q)),p._onMouseMove=null,p._onMouseOver=null,p._onMouseOut=null,p&&"function"===typeof p._onRemoveEventsCallback&&p._onRemoveEventsCallback(p))}function l(a,c){a=a||window.event;var d=c||a.target||a.currentTarget||a.srcElement;if(A)return!1;(BrowserDetect.IE9||BrowserDetect.IE10)&&d._rel===
p&&(d=p);if(!d._parent)return!1;var e=u(d),f=d._width,h=d._height,k=d._parent._scroll;d._mouse={x:a.clientX-e.left+k.x,y:a.clientY-e.top+k.y,winX:a.clientX,winY:a.clientY};e=(f/2-d._mouse.x)/f*2;e=1<e?e=1:-1>e?e=-1:e;h=(h/2-d._mouse.y)/h*2;h=1.25<h?h=1.25:-1.25>h?h=-1.25:h;TweenMax.to(x,.5,{delay:0,rotationY:e*(BrowserDetect.IE11?5:15)*.75,rotationX:-(3.75*h),ease:Quad.easeOut,overwrite:"all"});p&&"function"===typeof p._onMouseMoveCallback&&p._onMouseMoveCallback(d._mouse)}function m(a,c,d){a=a||
window.event;var e=c||a.target||a.currentTarget||a.srcElement;(BrowserDetect.IE9||BrowserDetect.IE10)&&e._rel===p&&(e=p);e._isSelected=!0;e._overlay&&e._parent&&e._parent._showOverlays&&(!c||d)&&z.show(a,e);if(e._parent&&e._parent._animateHovers){a=0;c=e._zoomDepth*e._layerArr.length;d=Math.ceil(c/e._layerArr.length)/1;var f=0,h=e._layerArr.length;for(f;f<h;f++){var k=e._layerArr[h-f-1];TweenMax.to(k,3,{delay:a,x:k._orgX,y:k._orgY,z:c,ease:Elastic.easeOut,overwrite:"all"});a+=.05;c-=d}}p&&"function"===
typeof p._onMouseOverCallback&&p._onMouseOverCallback(e._mouse)}function q(a,c,d){a=a||window.event;var e=c||a.target||a.currentTarget||a.srcElement;(BrowserDetect.IE9||BrowserDetect.IE10)&&e._rel===p&&(e=p);e._isSelected=!1;e._overlay&&e._parent&&e._parent._showOverlays&&(!c||d)&&z.hide(a,e);if(e._parent&&e._parent._animateHovers){TweenMax.to(x,1,{delay:0,rotationY:0,rotationX:0,ease:Quad.easeInOut,overwrite:"all"});a=0;c=1.5;d=10;var f=0,h=e._layerArr.length;for(f;f<h;f++){var k=e._layerArr[f];
TweenMax.to(k,c,{delay:a,x:k._orgX,y:k._orgY,z:d,ease:Quad.easeInOut,overwrite:"all"});a+=.05;d+=10}}p&&"function"===typeof p._onMouseOutCallback&&p._onMouseOutCallback(e._mouse)}function n(a,c,d){var e=c._parent._resizeLayersToFillCell;e&&("width"===e?(a._orgW=c._width||a.width||a.naturalWidth,a._orgH=c._width*a._ratio||a.height||a.naturalHeight):(a._orgH=c._height||a.height||a.naturalHeight,a._orgW=c._height*a._orgRatioH||a.width||a.naturalWidth),e=BrowserDetect.IE9?1.2:1,a._orgW=Math.ceil(a._orgW)*
e,a._orgH=Math.ceil(a._orgH)*e,a._ratio=a._orgH/a._orgW,c._parent&&c._parent._animateRefreshes?(e=.03*c._realIndex,c._lastWinWidth<window.innerWidth&&(e=c._parent?.03*(c._parent.getAllCells().length-c._realIndex):0),TweenMax.to(a,1,{delay:e,width:a._orgW,height:a._orgH,ease:Expo.easeInOut})):(a.style.width=a._orgW+"px",a.style.height=a._orgH+"px"));a._orgX=-(a._orgW-c._width)/2;a._orgY=-(a._orgH-c._height)/2;a._orgZ=d;c=p._parent._perspective;d=a._orgW;var e=a._orgH,f=a._orgZ+x._orgZ,h=Math.ceil(d*
c/(c-f)),k=Math.ceil(e*c/(c-f));a._perspective=c;a._orgWidth=d;a._orgHeight=e;a._zSpace=f;a._newWidth=h;a._newHeight=k;a._widthPercent=h/d;a._heightPercent=k/e;y&&y.update()}function t(a,c){a=a||window.event;var d=c._parent._scroll,e=u(c),f=c._width,h=c._height,d=Math.round((180/Math.PI*Math.atan2((a.clientY+d.y-e.top-h/2)*(h>f?f/h:1),(a.clientX+d.x-e.left-f/2)*(f>h?h/f:1))+180)/90+3)%4;return 0===d?"top":1===d?"right":2===d?"bottom":3===d?"left":d}function u(a){var c,d={top:0,left:0},e=a&&a.ownerDocument;
c=e.documentElement;"undefined"!==typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect());a=null!=e&&e===e.window?e:9===e.nodeType&&e.defaultView;return{top:d.top+a.pageYOffset-c.clientTop,left:d.left+a.pageXOffset-c.clientLeft}}function v(a){a=parseInt(a,16);return(a>>16&255)+","+(a>>8&255)+","+(a&255)}var p=document.createElement("div");p._zoomDepth=c._zoomDepth;p._width=Math.ceil(c._width);p._height=Math.ceil(c._height);p._ratio=p._height/p._width;p._data=d;p._parent=c;p._realIndex=a;p._attributes=
e;p._mobileAlign=e.alignOnMobile;p._lastWinWidth=window.innerWidth;p._layerArr=[];p._onBuildCallback=null;p._onAddLayersCallback=null;p._onOverlayShowCallback=null;p._onOverlayHideCallback=null;p._onAddOverlayCallback=null;p._onAddEventsCallback=null;p._onRemoveEventsCallback=null;p._onMouseMoveCallback=null;p._onMouseOverCallback=null;p._onMouseOutCallback=null;p._onRefreshCallback=null;p.onSetSizeCallback=null;var w,x,z,y,E=!1;Assets.LOADED_PROJECTS_GRID_ITEMS||(Assets.LOADED_PROJECTS_GRID_ITEMS=
[]);var D=Assets.LOADED_PROJECTS_GRID_ITEMS[d[d.length-1]],A="Firefox"===BrowserDetect.BROWSER_NAME&&35===BrowserDetect.BROWSER_VERSION&&"HomeTemplate"===ContentManager._activeTemplates[0].templateName;p._loadAssets=function(a){if(D&&(p._isLoaded=!0,p&&"function"===typeof p._onAddLayersCallback))return p._onAddLayersCallback(p._layerArr),!1;d?AssetLoader.loadGroup(new AssetGroup(d,{onComplete:function(){k();a&&a()},onUpdate:null})):console.log("Error: No assets provided")};p.removeEvents=h;p.refresh=
function(a,c,d){var e=p;a&&(d?(e._width=a,e._height=e._width*e._ratio):p.setSize(a,c),e._width=Math.ceil(e._width),e._height=Math.ceil(e._height));e._parent&&e._parent._animateRefreshes?(a=.03*e._realIndex,e._lastWinWidth<window.innerWidth&&(a=e._parent?.03*(e._parent.getAllCells().length-e._realIndex):0),TweenMax.to(e,1,{delay:a,width:e._width,height:e._height,ease:Expo.easeInOut})):(e.style.width=e._width+"px",e.style.height=e._height+"px");e._overlay.style.width=e._width+"px";e._overlay.style.height=
e._height+"px";TweenMax.set(e._overlay,{opacity:e._isSelected?1:0,x:0,y:-e._height,z:0});if(e._parent._animateHovers)for(a=0,c=e._layerArr.length,d=10,a;a<c;a++){var f=e._layerArr[a];n(f,e,d);d+=10;TweenMax.set(f,{x:f._orgX,y:f._orgY,z:d})}else{d=e._zoomDepth*e._layerArr.length;var h=Math.ceil(d/e._layerArr.length)/1;a=0;c=e._layerArr.length;for(a;a<c;a++)f=e._layerArr[c-a-1],n(f,e,d),A||TweenMax.set(f,{x:f._orgX,y:f._orgY,z:d}),d-=h}e._lastWinWidth=window.innerWidth;p&&"function"===typeof p._onRefreshCallback&&
p._onRefreshCallback(p);p&&"function"===typeof p._parent._onRefreshSingleCellCallback&&p._parent._onRefreshSingleCellCallback(p);return p};p.setSize=function(a,c){p._width=a;p._height=c;p._ratio=p._height/p._width;if("function"===typeof p.onSetSizeCallback)p.onSetSizeCallback({width:p._width,height:p._height,ratio:p._ratio});return p};p.getOffset=u;p.kill=function(){h();z&&(z.parentNode&&z.parentNode.removeChild(z),p._overlay=null,z.show=null,z=z.hide=null);y&&(y=y.update=null);if(p){var a=0,c=p._layerArr.length;
for(a;a<c;a++)x&&x.removeChild(p._layerArr[a]),p._layerArr[a]=null;p._layerArr[a]=null;p._data=null;x&&w.removeChild(x);w&&(p.removeChild(w),w=p._container=null);x&&(x=p._wrapper=null);p._parent=null;p._realIndex=null;p._attributes=null;p._onBuildCallback=null;p._onAddLayersCallback=null;p._onOverlayShowCallback=null;p._onOverlayHideCallback=null;p._onAddOverlayCallback=null;p._onAddEventsCallback=null;p._onRemoveEventsCallback=null;p._onMouseMoveCallback=null;p._onMouseOverCallback=null;p._onMouseOutCallback=
null;p._onRefreshCallback=null;p=p.onSetSizeCallback=null}};(function(){p.style.width=p._width+"px";p.style.height=p._height+"px";p.style.position="relative";p.style.overflow=c._overflow;p.style.background=p._attributes?"#"+p._attributes.bgColor:"";w=document.createElement("div");w.style.width="100%";w.style.height="100%";w.style.pointerEvents="none";A||TweenMax.set(w,{perspective:c._perspective,transformStyle:"preserve-3d"});x=new SmartObject;x.style.position="relative";x.style.width="100%";x.style.height=
"100%";x.style.pointerEvents="none";x._orgZ=100;A||TweenMax.set(x,{transformStyle:"preserve-3d",x:0,y:0,z:x._orgZ});"Explorer"===BrowserDetect.BROWSER_NAME&&TweenMax.set(x,{perspective:c._perspective});w.appendChild(x);p.appendChild(w);p._container=w;p._wrapper=x;f();if(BrowserDetect.IE9||BrowserDetect.IE10){var a=Assets.getTransparentBg();a._rel=p;p.appendChild(a)}D&&k();p&&"function"===typeof p._onBuildCallback&&p._onBuildCallback(p);p&&"function"===typeof p._parent._onAddSingleCellCallback&&p._parent._onAddSingleCellCallback(p)})();
E?console.log("Error: Events already added"):(E=!0,!p._parent._addDesktopEvents||BrowserDetect.MOBILE||BrowserDetect.TABLET||(p.addEventListener("mousemove",l),p.addEventListener("mouseover",m),p.addEventListener("mouseout",q)),p._onMouseMove=l,p._onMouseOver=m,p._onMouseOut=q,p&&"function"===typeof p._onAddEventsCallback&&p._onAddEventsCallback(p));return p}
function FullScreenStackTransition(d){function c(){var a=1,c=arguments.length;for(a;a<c;a++)for(var d in arguments[a])arguments[a].hasOwnProperty(d)&&(arguments[0][d]=arguments[a][d]);return arguments[0]}var a={_isAnimating:!1,_options:{speed:1,delay:0,magnitude:2,direction:"up",darkenOverlay:!1,onStart:null,onComplete:null,allowDeffering:!0}},e,k,f=[];a.setOptions=function(d){c(a._options,d)};a.move=function(d,l,m,q){if(d&&l)if(a._isAnimating)console.log("Error: busy animating",d,l),!q&&a._options.allowDeffering&&
(console.log("Assets.CLICKED_MENU_LINK",Assets.CLICKED_MENU_LINK),f.push({oldLayer:d,newLayer:l,newOptions:m}));else{q=function(c,d,e){Assets.showAllInvisibleChildren(e,"PageTransitionsManager");if("function"===typeof d.onComplete)d.onComplete(a);c._isAnimating=!1;a&&(c=f.shift())&&(d=c.oldLayer,c.oldLayer=Assets.MAIN_MENU&&Assets.MAIN_MENU._isOpen?Assets.MAIN_MENU:k,d!==c.oldLayer&&(c.oldLayer.style.display="none"),a.move(c.oldLayer,c.newLayer,c.newOptions))};var n=function(a,c,d){a._isAnimating=
!0;if("function"===typeof c.onStart)c.onStart(a)},t={speed:a._options.speed,delay:a._options.delay,magnitude:a._options.magnitude,direction:a._options.direction,onStart:a._options.onStart,onComplete:a._options.onComplete,maxWidth:window.innerWidth,maxHeight:window.innerHeight,extraDelay:.05};c(t,m);e=d;k=l;Assets.hideAllInvisibleChildren(d,"PageTransitionsManager");"none"===d.style.display&&(d.style.display="block");"none"===l.style.display&&(l.style.display="block");m=parseInt(d.style.zIndex)||0;
99<m&&(m=10);"up"===t.direction?(d.style.zIndex=m+1,l.style.zIndex=m+2,TweenMax.set(l,{x:0,y:Math.ceil(t.maxHeight+2),z:0}),TweenMax.to(d,t.speed,{delay:t.delay+t.extraDelay,x:0,y:-Math.ceil(t.maxHeight/t.magnitude),z:0,ease:Expo.easeInOut,onStart:n,onComplete:q,onStartParams:[a,t,l],onCompleteParams:[a,t,l]})):"down"===t.direction?(d.style.zIndex=m+2,l.style.zIndex=m+1,TweenMax.set(l,{x:0,y:-Math.ceil(t.maxHeight/t.magnitude-2),z:0}),TweenMax.to(d,t.speed,{delay:t.delay+t.extraDelay,x:0,y:Math.ceil(t.maxHeight),
z:0,ease:Expo.easeInOut,onStart:n,onComplete:q,onStartParams:[a,t,l],onCompleteParams:[a,t,l]})):"left"===t.direction?(TweenMax.set(l,{x:Math.ceil(t.maxWidth+2),y:0,z:0}),TweenMax.to(d,t.speed,{delay:t.delay+t.extraDelay,x:-Math.ceil(t.maxWidth/t.magnitude),y:0,z:0,ease:Expo.easeInOut,onStart:n,onComplete:q,onStartParams:[a,t,l],onCompleteParams:[a,t,l]})):"right"===t.direction&&(TweenMax.set(l,{x:-Math.ceil(t.maxWidth/t.magnitude-2),y:0,z:0}),TweenMax.to(d,t.speed,{delay:t.delay+t.extraDelay,x:Math.ceil(t.maxWidth),
y:0,z:0,ease:Expo.easeInOut,onStart:n,onComplete:q,onStartParams:[a,t,l],onCompleteParams:[a,t,l]}));TweenMax.to(l,t.speed,{delay:t.delay-t.extraDelay,x:0,y:0,z:0,ease:Expo.easeInOut})}else console.log("Error: missing oldLayer or newLayer")};a.abort=function(){e&&TweenMax.killTweensOf(e);k&&TweenMax.killTweensOf(k)};a.kill=function(){a.parentNode&&a.parentNode.removeChild(a);a=null};a.setOptions(d);return a}
function TinyTouchController(d,c){function a(a){a=a||window.event;if(null==a.targetTouches||1==a.targetTouches.length){var d=h(a);l.isActive=!0;l.startPoint.x=d.x;l.startPoint.y=d.y;l.e=a;l.state="Started";c&&c(l);document.addEventListener("touchmove",e);document.addEventListener("touchend",k);document.addEventListener("touchcancel",k)}}function e(a){a=a||window.event;a.preventDefault();if(l.isActive&&(null==a.targetTouches||1==a.targetTouches.length)){var d=h(a);l.stopPoint.x=d.x;l.stopPoint.y=d.y;
var d=l.startPoint,e=l.stopPoint;l.direction=Math.abs(d.x-e.x)>=Math.abs(d.y-e.y)?0<d.x-e.x?"left":"right":0<d.y-e.y?"up":"down";var e=l.startPoint,f=l.stopPoint,d=f.x-e.x,e=e.y-f.y;l.distance=Math.round(Math.sqrt(d*d+e*e));l.difference={x:l.stopPoint.x-l.startPoint.x,y:l.stopPoint.y-l.startPoint.y};l.e=a;l.state="Moving";c&&c(l)}}function k(a){a=a||window.event;l.isActive=!1;l.e=a;l.state="Stopped";c&&c(l);f()}function f(){document.removeEventListener("touchmove",e);document.removeEventListener("touchend",
k);document.removeEventListener("touchcancel",k);l.isActive=!1;l.e=null;l.state=null;l.direction=null;l.distance=0;l.difference=null;l.startPoint={x:0,y:0};l.stopPoint={x:0,y:0}}function h(a){a=a||window.event;var c={x:0,y:0};1==a.targetTouches.length&&(c.x=a.touches[0].pageX,c.y=a.touches[0].pageY);return c}var l={isActive:!1,e:null,state:null,direction:null,distance:0,difference:null,startPoint:{x:0,y:0},stopPoint:{x:0,y:0}};l.threshold=d||1;l.addEvents=function(){document.addEventListener("touchstart",
a)};l.removeEvents=function(){document.removeEventListener("touchstart",a)};l.kill=function(){f();l.removeEvents();l=null};return l}
function StackTransition(d,c,a,e){function k(){p&&"function"===typeof p._onLoadAssetsCallback&&p._onLoadAssetsCallback(p);f();D=new SmartObject;D.style.width="100%";D.style.height="100%";D.style.display="table";D.style.textAlign="center";D.style.color="#fff";D.style.fontWeight="bold";D.style.font="200%/0px Helvetica";D.style.position="absolute";D.style.backgroundColor=v();D.style.opacity=0;TweenMax.set(D,{x:0,y:0,z:0});var a=document.createElement("div");a.style.display="table-cell";a.style.verticalAlign=
"middle";a.style.pointerEvents="none";a.innerHTML="Loading awesomeness...";D._overlay=a;D.appendChild(a);p.appendChild(D);p&&"function"===typeof p._onAddLoaderCallback&&p._onAddLoaderCallback(p);u();p&&"function"===typeof p._onBuildCallback&&p._onBuildCallback(p)}function f(){var a=0,d=H;y=d-1;for(a;a<d;a++){v();var e=new SmartObject;e.style.width="100%";e.style.height="100%";e.style.overflow="hidden";e.style.color="#fff";e.style.fontWeight="bold";e.style.font="1500%/0px Helvetica";e.style.position=
"absolute";e._i=a;e.style.display="none";TweenMax.set(e,{x:0,y:0,z:0});var f=document.createElement("div");f.style.width="100%";f.style.height="100%";f.style.pointerEvents="none";f.style.opacity=0;f.style.background="rgba(0,0,0,"+p.overlayDarkness+")";if(!c){var h=SmartObject(AssetLoader.getAsset(C[a]));h.style.position="absolute";h._orgW=h.width||h.naturalWidth;h._orgH=h.height||h.naturalHeight;h._ratio=h._orgH/h._orgW;h._orgRatioW=h._ratio;h._orgRatioH=h._orgW/h._orgH;e._img=h;e.appendChild(h)}e._overlay=
f;e.appendChild(f);e.resize=function(a,c){if(c=c||this._img){var d=c.parentNode.offsetWidth,e=c.parentNode.offsetHeight,f=c._ratio,h=Math.ceil(1*d),k=Math.ceil(h*f);k<e&&(k=Math.ceil(1*e),h=Math.ceil(k/f));d=Math.ceil((d-h)/2);e=Math.ceil((e-k)/2);c.style.width=h+"px";c.style.height=k+"px";TweenMax.set(c,{x:d,y:e,z:0});c._x=d;c._y=e;c._width=h;c._height=k}};z.push(e);p.appendChild(e)}z[z.length-1].style.display="block";p&&"function"===typeof p._onAddLayersCallback&&p._onAddLayersCallback(p)}function h(a,
c){if(w._isAnimating||Assets.MAIN_MENU&&Assets.MAIN_MENU._isOpen)return!1;A=!0;var d=z[y],e,f;"up"===c?(y=y>=z.length-1?-1:y,e=z[++y],f="down"):"down"===c?(y=0>=y?z.length:y,e=z[--y],f="up"):"left"===c?(y=0>=y?z.length:y,e=z[--y],f="right"):"right"===c&&(y=y>=z.length-1?-1:y,e=z[++y],f="left");B={oldLayer:d,newLayer:e,moveDirection:f};p.showLoader&&(F=B,e=D,D.style.opacity=1,D.style.backgroundColor=v());d&&e&&f&&requestAnimFrame(function(){w.move(d,e,{direction:f,onStart:l,onComplete:m})});p&&"function"===
typeof p._onChangeLayerCallback&&p._onChangeLayerCallback(B)}function l(){p&&"function"===typeof p._onChangeLayerStartCallback&&p._onChangeLayerStartCallback(B)}function m(){A=!1;if(F){var a=D,c=F.newLayer,d=F.moveDirection;B=F;F=null;w.move(a,c,{direction:d,onStart:l,onComplete:m,delay:p.loaderDelay})}p&&"function"===typeof p._onChangeLayerCompleteCallback&&p._onChangeLayerCompleteCallback(B)}function q(a){a=a||window.event;if(A)return!1;p.clearSlideshowInt();var c;c=a||window.event;c=0>c.detail?
1:0<c.wheelDelta?1:-1;var d,e;e=a||window.event;d=e.wheelDelta;d=(e=e.detail)?d?0<d/e/40*e?1:-1:-e/3:d/120;0<c?.5<=Math.abs(d)&&h(a,"up"):0>c&&.5<=Math.abs(d)&&h(a,"down");p&&"function"===typeof p._onScrollCallback&&p._onScrollCallback(p)}function n(a){a=a||window.event;var c=a.target||a.currentTarget;if(!E.down)return!1;c===E.down?h(a,"down"):c===E.up&&h(a,"up");p.clearSlideshowInt();p&&"function"===typeof p._onDocumentClickCallback&&p._onDocumentClickCallback(p)}function t(a,c){a=a||window.event;
if(A)return!1;p.clearSlideshowInt();"38"==a.keyCode?h(a,"up"):"40"!=a.keyCode&&"32"!=a.keyCode||h(a,"down");p&&"function"===typeof p._onKeyDownCallback&&p._onKeyDownCallback(p)}function u(a){a=a||window.event;var c=0,d=z.length;for(c;c<d;c++)z[c].resize(a);p&&"function"===typeof p._onResizeCallback&&p._onResizeCallback(a)}function v(){return"#"+Math.random().toString(16).slice(2,8)}var p=document.createElement("div");p.speed=1;p.delay=.1;p.magnitude=2;p.showLoader=!1;p.loaderDelay=.1;p.darkenOverlay=
!1;p.overlayDarkness=.5;p.addDesktopEvents=!1===a?!1:!0;p._gui;p._onInitCallback=null;p._onLoadAssetsCallback=null;p._onBuildCallback=null;p._onAddLayersCallback=null;p._onAddLoaderCallback=null;p._onAddEventsCallback=null;p._onRemoveEventsCallback=null;p._onChangeLayerCallback=null;p._onChangeLayerStartCallback=null;p._onChangeLayerCompleteCallback=null;p._onScrollCallback=null;p._onDocumentClickCallback=null;p._onKeyDownCallback=null;p._onTouchCallback=null;p._onResizeCallback=null;p._slideshowInt=
null;var w,x,z=[],y,E={down:null,up:null},D,A=!1,B,F,C=d||["_1.jpg","_2.jpg","_3.jpg"],H=e||C.length,I="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";p.onDATchange=function(){w.setOptions({speed:p.speed,delay:p.delay,magnitude:p.magnitude,darkenOverlay:p.darkenOverlay});var a=0,c=z.length;for(a;a<c;a++){var d=z[a]._overlay;d.style.background="rgba(0,0,0,"+p.overlayDarkness+")";d.style.opacity=0}};p.setup=function(){c?k():C?AssetLoader.loadGroup(new AssetGroup(C,
{onComplete:k,onUpdate:null})):console.log("Error: No assets provided")};p.addEvents=function(){window.addEventListener("resize",u);p.addDesktopEvents&&(window.addEventListener("keydown",t),window.addEventListener("DOMMouseScroll",q),window.addEventListener(I,q),p.addEventListener("click",n));x.addEvents();p&&"function"===typeof p._onAddEventsCallback&&p._onAddEventsCallback(p)};p.removeEvents=function(){window.removeEventListener("resize",u);p.addDesktopEvents&&(window.removeEventListener("keydown",
t),window.removeEventListener("DOMMouseScroll",q),window.removeEventListener(I,q),p.removeEventListener("click",n));x.removeEvents();p&&"function"===typeof p._onRemoveEventsCallback&&p._onRemoveEventsCallback(p)};p.getLayer=function(a){return z[a]};p.getAllLayers=function(){return z};p.kill=function(){p.removeEvents();x.kill();F=B=null;var a=0,c=z.length;for(a;a<c;a++)z[a]&&z[a].parentNode&&z[a].parentNode.removeChild(z[a]),z[a]=null;z=null;p.removeChild(D);D=null;p.parentNode&&p.parentNode.removeChild(p);
p=null};p.changeLayer=h;p.setSlideshowInt=function(){var a=window.event;p._slideshowInt=setInterval(function(){h(a,"down")},8E3)};p.clearSlideshowInt=function(){p._slideshowInt&&(clearInterval(p._slideshowInt),p._slideshowInt=null)};p.style.width="100%";p.style.height="100%";w=new FullScreenStackTransition({speed:Assets.PAGE_TRANSTION_SPEED,allowDeffering:!1});p.transitionManager=w;x=new TinyTouchController(50,function(a){if("Stopped"===a.state&&a.distance>a.threshold){if(A)return!1;p.clearSlideshowInt();
"up"===a.direction?h(a.e,"down"):"down"===a.direction&&h(a.e,"up")}p&&"function"===typeof p._onTouchCallback&&p._onTouchCallback(p)});p&&"function"===typeof p._onInitCallback&&p._onInitCallback(p);return p}
(function(d){function c(){Assets.PRELOADER=new Preloader;HM_JSON.load({url:"framework/site-structure.json",type:"json",callback:a})}function a(a){Assets.DATA_URL=JSON.parse(a);AJAX.load("framework/site-content.php",e,"GET")}function e(a){document.getElementById("PAGES").innerHTML=a;Assets.FULLSCREEN_TRANSITIONS=new FullScreenStackTransition({speed:Assets.PAGE_TRANSTION_SPEED,delay:0});Assets.TRANSITIONS_MANAGER=new PageTransitionsManager;Assets.SCROLL_DISABLER=new ScrollDisabler;Assets.SCROLLBAR_WIDTH=
Assets.getScrollbarWidth();new FastClick(document.body);Assets.LAYER_ALL=document.createElement("div");Assets.LAYER_ALL.style["-webkit-backface-visibility"]="visible";Assets.LAYER_ALL.style.position="absolute";Assets.LAYER_ALL.id="LAYER_ALL";Assets.LAYER_ALL.style.width="100%";9==BrowserDetect.BROWSER_VERSION&&"Explorer"===BrowserDetect.BROWSER_NAME&&(Assets.LAYER_ALL.style.width=d.innerWidth+16+"px",d.addEventListener("resize",k));Assets.LAYER_ALL.style.height="100%";Assets.LAYER_ALL.style.overflowX=
"hidden";Assets.LAYER_ALL.style.overflowY="visible";document.body.appendChild(Assets.LAYER_ALL);Assets.LAYER_MID=document.createElement("div");Assets.LAYER_MID.style.position="absolute";Assets.LAYER_MID.style.zIndex=2;Assets.LAYER_MID.id="LAYER_MID";Assets.LAYER_MID.style.width="100%";Assets.LAYER_MID.style.height="100%";Assets.LAYER_ALL.appendChild(Assets.LAYER_MID);Assets.LAYER_TOP=document.createElement("div");Assets.LAYER_TOP.style.position="absolute";Assets.LAYER_TOP.style.zIndex=3;Assets.LAYER_TOP.id=
"LAYER_TOP";Assets.LAYER_ALL.appendChild(Assets.LAYER_TOP);Assets.DATA_SITE=document.getElementById("SITE");Assets.DATA_PAGES=document.getElementById("PAGES");Assets.DATA_SITE.parentNode.removeChild(Assets.DATA_SITE);ContentManager.AUTOMATICALLY_TRACK_GOOGLE_ANALYTICS=!0;ContentManager.addTemplate("HomeTemplate",HomeTemplate);ContentManager.addTemplate("ProjectsTemplate",ProjectsTemplate);ContentManager.addTemplate("CaseTemplate",CaseTemplate);ContentManager.addTemplate("AboutTemplate",AboutTemplate);
ContentManager.addTemplate("ContactTemplate",ContactTemplate);ContentManager.addTemplate("PeopleTemplate",PeopleTemplate);ContentManager.addTemplate("AwardsTemplate",AwardsTemplate);ContentManager.addTemplate("CultureTemplate",CultureTemplate);ContentManager.addTemplate("JournalTemplate",JournalTemplate);Assets.mid_overflow=Assets.LAYER_MID.style.overflow;Assets.all_overflow=Assets.LAYER_ALL.style.overflowY;Assets.body_overflow=document.body.style.overflow;a="assets/images/ui/arrow@2.png assets/images/frontpage/hellomonday-logo@2.png assets/images/ui/menu-ico@2.png assets/images/ui/white-arrow-left@2.png assets/images/ui/white-arrow-down@2.png assets/images/ui/arrow_in_circle@2.png assets/images/ui/dots_in_circle@2.png assets/images/ui/offsite_icon_in_circle@2.png assets/images/ui/navigationline@2.png assets/images/ui/dots@2.png assets/images/ui/dots-white@2.png assets/images/ui/offsite_icon_arrow@2.png assets/images/ui/offsite_icon_outline@2.png assets/images/ui/transparent.gif assets/images/ui/link_icon@2.png".split(" ");
var c=null,e=0;BrowserDetect.MOBILE||BrowserDetect.TABLET?(c="assets/datauri.txt",e=91E3):(a=a.concat(CatAnimationData.getAssetsForType("proud_peacock")),c="assets/datauri_cat.txt",e=3189E3);AssetLoader.loadGroup(new AssetGroup(a,{onComplete:h,onUpdate:f,dataURIFile:c,dataURIFileSizeInBytes:e,dataURIFilePercentageOfTotal:100}))}function k(a){Assets.LAYER_ALL.style.width=d.innerWidth+16+"px"}function f(a){Assets.PRELOADER.update(a)}function h(){if(BrowserDetect.MOBILE||BrowserDetect.TABLET)HM.AssetLoader.init("",
Assets.SITE_VERSION),l();else{var a=[new HM.AssetGroup(["assets/audio/proud_peacock.mp3"],{weight:100})];HM.Audio.init("Explorer"===BrowserDetect.BROWSER_NAME?!0:!1);HM.AssetLoader.init("",Assets.SITE_VERSION);HM.AssetLoader.load(a,{onComplete:l})}}function l(){Assets.MAIN_MENU=new MainMenu(Assets.DATA_PAGES);Assets.LAYER_MID.appendChild(Assets.MAIN_MENU);ContentManager.init(Assets.DATA_PAGES,"home");Assets.PRELOADER.kill()}d.Main={init:function(){ContentManager.USE_HISTORY_API=!0;ContentManager.DEFAULT_SUBFOLDER=
document.getElementById("site-root").getAttribute("data-path");Trace.isEnabled=!0;Trace.displayOnScreen=!1;trace("version","1.6");trace(BrowserDetect.BROWSER_NAME,"BrowserDetect.BROWSER_NAME");trace(BrowserDetect.BROWSER_VERSION,"BrowserDetect.BROWSER_VERSION");trace(BrowserDetect.TABLET,"BrowserDetect.TABLET");trace(BrowserDetect.MOBILE,"BrowserDetect.MOBILE");trace(BrowserDetect.OS,"BrowserDetect.OS");9>BrowserDetect.BROWSER_VERSION&&"Explorer"===BrowserDetect.BROWSER_NAME&&alert("Please update your browser. HelloMonday.com is optimised for Internet Explorer 11.");
document.body.style.margin=0;document.body.style.padding=0;document.body.style.color="#000";document.body.style.fontFamily="ClarendonLTStdBold";document.body.style.fontSize="11px";document.body.style.fontStyle="normal";Assets.DATA_STATIC=document.getElementById("STATIC");Assets.SITE_BASE=document.getElementsByTagName("base")[0].href;Assets.CDN_URL_SMALL=Assets.DATA_STATIC.querySelector("#cdn-url-small").getAttribute("data-path");Assets.CDN_URL_LARGE=Assets.DATA_STATIC.querySelector("#cdn-url-large").getAttribute("data-path");
Assets.SITE_VERSION=Assets.DATA_STATIC.querySelector("#version-string").getAttribute("data-version");Assets.PAGE_TRANSTION_SPEED=1;BrowserDetect.DESKTOP||(document.body.className="disallow-text-select");AssetLoader.init(Assets.CDN_URL_SMALL,Assets.SITE_VERSION);AssetLoader.loadGroup(new AssetGroup(["assets/images/frontpage/hellomonday-logo@2.png"],{onComplete:c}))}}})(window);window.onload=Main.init;